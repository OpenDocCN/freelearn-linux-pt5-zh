<html><head></head><body><div class="chapter" title="Chapter&#xA0;1.&#xA0;Setting Up Your System"><div class="titlepage"><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Setting Up Your System</h1></div></div></div><p>In this chapter, we will cover the following topics:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Installing Webmin on a Debian-based system</li><li class="listitem" style="list-style-type: disc">Installing Webmin on an RPM-based system</li><li class="listitem" style="list-style-type: disc">Installing Webmin on another system</li><li class="listitem" style="list-style-type: disc">Connecting to Webmin</li><li class="listitem" style="list-style-type: disc">Installing additional Webmin modules</li><li class="listitem" style="list-style-type: disc">Monitoring what Webmin is doing</li><li class="listitem" style="list-style-type: disc">Controlling which system services are started at boot</li><li class="listitem" style="list-style-type: disc">Inspecting the installed software packages</li><li class="listitem" style="list-style-type: disc">Installing software packages</li><li class="listitem" style="list-style-type: disc">Updating the installed packages to the latest versions</li><li class="listitem" style="list-style-type: disc">Enabling Webmin to send an e-mail</li><li class="listitem" style="list-style-type: disc">Getting an e-mail when new versions of packages become available</li><li class="listitem" style="list-style-type: disc">Reading the documentation of the installed software</li></ul></div><div class="section" title="Introduction"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec08"/>Introduction</h1></div></div></div><p>Webmin<a id="id0" class="indexterm"/> is an open source, web-based system configuration tool written primarily in<a id="id1" class="indexterm"/> Perl. Thanks to its web nature, Webmin can be used to control your system remotely from any computer running a browser. It allows you to control numerous aspects of your system's configuration, such as managing users, installing additional software, configuring services, controlling access, and monitoring system activity.</p><p>In this chapter, we'll focus on installing Webmin and then demonstrate how it can be used to perform the tasks related to installing, upgrading, and running other software on your system.</p></div></div>
<div class="section" title="Installing Webmin on a Debian-based system"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec09"/>Installing Webmin on a Debian-based system</h1></div></div></div><p>Installing Webmin on a Debian-based system, such as Ubuntu or Linux Mint, is easy because we can rely on the excellent package management system called <span class="strong"><strong>Advanced Packaging Tool</strong></span> (<span class="strong"><strong>APT</strong></span>). APT <a id="id2" class="indexterm"/>resolves and installs dependencies automatically and also ensures that Webmin will be updated automatically when you perform a system update.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec06"/>How to do it...</h2></div></div></div><p>To install Webmin, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Webmin is <a id="id3" class="indexterm"/>not part of the standard Debian <a id="id4" class="indexterm"/>package repository, so<a id="id5" class="indexterm"/> your first step will be to add the URL of Webmin's repository to your package sources file. Open the <code class="literal">/etc/apt/sources.list</code> file in a text editor and add the following lines to it:<div class="informalexample"><pre class="programlisting">deb http://download.webmin.com/download/repository sarge contrib
deb http://webmin.mirror.somersettechsolutions.co.uk/repository sarge contrib</pre></div><div class="tip" title="Tip" style=""><div class="inner"><h3 class="title"><a id="tip04"/>Tip</h3><p>On most systems, the <code class="literal">vi</code> text editor<a id="id6" class="indexterm"/> is installed by default, but it may be a bit tricky if you haven't used it before. If you want an easy-to-use editor, try nano. You can install it by issuing the following command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ sudo apt-get install nano</strong></span>
</pre></div><p>After it's installed, you can use <code class="literal">nano</code> to edit the <code class="literal">sources.list</code> file by issuing the following command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ sudo nano /etc/apt/sources.list</strong></span>
</pre></div></div></div></li><li class="listitem">We also need to add the GPG key with which Webmin's repository is signed to the list of keys used by APT to authenticate packages. This can be done by issuing the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$  wget -qO - http://www.webmin.com/jcameron-key.asc | sudo apt-key add -</strong></span>
</pre></div></li><li class="listitem">You  can now refresh the APT cache to include the contents of Webmin's repository. This is done with the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ sudo apt-get update</strong></span>
</pre></div></li><li class="listitem">With these preliminaries out of the way, you can install Webmin with the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ sudo apt-get install webmin</strong></span>
</pre></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec07"/>How it works...</h2></div></div></div><p>Webmin provides<a id="id7" class="indexterm"/> an online repository with DEB<a id="id8" class="indexterm"/> installation packages that are compatible<a id="id9" class="indexterm"/> with Debian-based systems. We need to give our system the address of this repository so that it can take advantage of it. The list of available repositories is kept in the <code class="literal">/etc/apt/sources.list</code> file as well as other <code class="literal">*.list</code> files stored in the <code class="literal">/etc/apt/source.list.d/</code> directory.</p><p>Every package is cryptographically signed to ensure that even if someone breaks into the repository and uploads a package pretending to be Webmin, we don't install it by accident. We downloaded the public GPG key needed to verify this signature by using <code class="literal">wget</code> and added it to our list of trusted keys by using the <code class="literal">apt-key add</code> command.</p><p>
<span class="strong"><strong>GNU Privacy Guard</strong></span> (<span class="strong"><strong>GPG</strong></span>)<a id="id10" class="indexterm"/> is an open source alternative to <a id="id11" class="indexterm"/>
<span class="strong"><strong>Pretty Good Privacy</strong></span> (<span class="strong"><strong>PGP</strong></span>), a cryptographic software suite that provides encryption and authentication functions. Every Webmin package contains a GPG cryptographic signature, which could only be generated using a private key that is kept secret by Webmin's author Jamie Cameron. A corresponding public key, which is made freely available, may be used to verify that the signature was generated using that private key. If even a single bit of the package code were modified after the package was signed, the signature would not match anymore. This ensures that nobody tampers with Webmin on its way between the author and your system. APT checks the signature automatically, we just need to provide it with Webmin's public key.</p><div class="tip" title="Tip" style=""><div class="inner"><h3 class="title"><a id="tip06"/>Tip</h3><p>If you want to be extra careful, you can check whether the public key you imported is actually the one belonging to Jamie Cameron. Issue the following command and verify that its output contains the same key fingerprint:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ sudo apt-key fingerprint</strong></span>
<span class="strong"><strong>/etc/apt/trusted.gpg</strong></span>
<span class="strong"><strong>--------------------</strong></span>
<span class="strong"><strong>pub   1024D/11F63C51 2002-02-28</strong></span>
<span class="strong"><strong>      Key fingerprint = 1719 003A CE3E 5A41 E2DE  70DF D97A 3AE9 11F6 3C51</strong></span>
<span class="strong"><strong>uid                  Jamie Cameron &lt;jcameron@webmin.com&gt;</strong></span>
</pre></div></div></div><p>By updating the APT cache, we ensure that our system becomes aware of packages available in the new repository. Then, we can install Webmin. APT not only resolves dependencies and installs more than just the Webmin package, but also other components it needs to run, including the Perl programming language and others.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec08"/>There's more...</h2></div></div></div><p>Webmin also provides a<a id="id12" class="indexterm"/> <code class="literal">.deb</code> (Debian software package) file that can be downloaded and installed manually. If you want to do it this way for some reason, you would need to follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Visit Webmin's <a id="id13" class="indexterm"/>Downloads page at <a class="ulink" href="http://www.webmin.com/download.html">http://www.webmin.com/download.html</a> and copy the address of the current Debian package. The package file will be named <code class="literal">webmin_NNN_all.deb</code>, where <code class="literal">NNN</code> indicates the current version number.</li><li class="listitem">Download the package by using <code class="literal">wget</code>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ wget http://prdownloads.sourceforge.net/webadmin/webmin_NNN_all.deb</strong></span>
</pre></div></li><li class="listitem">First, install all the packages that Webmin depends on using the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ sudo apt-get install perl libapt-pkg-perl libnet-ssleay-perl openssl libauthen-pam-perl libpam-runtime libio-pty-perl apt-show-versions python</strong></span>
</pre></div></li><li class="listitem">Then, run the following command to install Webmin from the package file:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ sudo dpkg --install webmin_NNN_all.deb</strong></span>
</pre></div><div class="tip" title="Tip" style=""><div class="inner"><h3 class="title"><a id="tip07"/>Tip</h3><p>Your system may complain that some other package needed by Webmin is missing. For instance, you could see an error message like the following:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>dpkg: dependency problems prevent configuration of webmin:</strong></span>
<span class="strong"><strong> webmin depends on PACKAGE-NAME; however:</strong></span>
<span class="strong"><strong>  Package PACKAGE-NAME is not installed.</strong></span>
</pre></div><p>If you see this error, you should install the package designated by <code class="literal">PACKAGE-NAME</code> before installing Webmin.</p></div></div></li></ol></div></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec09"/>See also</h2></div></div></div><p>More information about installing Webmin on a Debian-based system and about APT package management in general can be found at the following Webmin and Debian websites:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://www.webmin.com/deb.html">http://www.webmin.com/deb.html</a></li><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://doxfer.webmin.com/Webmin">http://doxfer.webmin.com/Webmin</a></li><li class="listitem" style="list-style-type: disc"><a class="ulink" href="https://wiki.debian.org/Apt">https://wiki.debian.org/Apt</a></li></ul></div></div></div>
<div class="section" title="Installing Webmin on an RPM-based system"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec10"/>Installing Webmin on an RPM-based system</h1></div></div></div><p>Installing Webmin on an <a id="id14" class="indexterm"/>RPM-based system, such as <a id="id15" class="indexterm"/>RHEL, <a id="id16" class="indexterm"/>Fedora, <a id="id17" class="indexterm"/>CentOS, or <a id="id18" class="indexterm"/>openSUSE, is<a id="id19" class="indexterm"/> just as easy as on <a id="id20" class="indexterm"/>Debian-based systems. Here, we'll rely on the equally excellent package management system called <span class="strong"><strong>Red Hat Package Manager</strong></span> (<span class="strong"><strong>RPM</strong></span>) and the<a id="id21" class="indexterm"/> <code class="literal">yum</code> utility. <code class="literal">Yum</code> resolves and installs dependencies automatically and also ensures that Webmin will be updated automatically when you perform a system update.</p><p>On a SUSE-based system, you may use the <code class="literal">yum</code> utility as well, but it isn't <a id="id22" class="indexterm"/>installed by default. On these systems, it may be more convenient to use the <code class="literal">zypper</code> command-line utility or the YaST interface. In this recipe, we will provide <code class="literal">zypper</code> alternatives to <code class="literal">yum</code> commands to be used on SUSE.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec10"/>How to do it...</h2></div></div></div><p>To install Webmin, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">While Webmin is available in several systems, its packages are not usually kept up-to-date. We will add Webmin's repository to our system by creating a file which describes the repository. Create a file with the path <code class="literal">/etc/yum.repos.d/webmin.repo</code> and add the following lines to it:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>[Webmin]</strong></span>
<span class="strong"><strong>name=Webmin Distribution Neutral</strong></span>
<span class="strong"><strong>#baseurl=http://download.webmin.com/download/yum</strong></span>
<span class="strong"><strong>mirrorlist=http://download.webmin.com/download/yum/mirrorlist</strong></span>
<span class="strong"><strong>enabled=1</strong></span>
</pre></div><div class="tip" title="Tip" style=""><div class="inner"><h3 class="title"><a id="tip09"/>Tip</h3><p>On most systems, the vi text editor is installed by default, but it may be a bit tricky if you haven't used it before. If you want an easy-to-use editor, try nano. You can install it by issuing the following command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ sudo yum install nano</strong></span>
</pre></div><p>After it's installed, you can use nano to edit the <code class="literal">webmin.repo</code> file by issuing the following command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ sudo nano /etc/yum.repos.d/webmin.repo</strong></span>
</pre></div></div></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note09_a"/>Note</h3><p>On a SUSE-based system, you don't need to edit the repository files manually. You can add Webmin's repository by issuing the following command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ sudo zypper addrepo -f http://download.webmin.com/download/yum "Webmin Distribution Neutral"</strong></span>
</pre></div></div></div></li><li class="listitem">We also<a id="id23" class="indexterm"/> need to add the GPG key with<a id="id24" class="indexterm"/> which Webmin's <a id="id25" class="indexterm"/>repository is signed to the list of keys used by RPM to authenticate packages. This is done by issuing the following commands:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ wget http://www.webmin.com/jcameron-key.asc</strong></span>
<span class="strong"><strong>$ sudo rpm --import jcameron-key.asc</strong></span>
<span class="strong"><strong>$ rm jcameron-key.asc</strong></span>
</pre></div></li><li class="listitem">You can now refresh the <code class="literal">yum</code> cache to include Webmin's repository. This is done by using the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ sudo yum makecache</strong></span>
</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note03"/>Note</h3><p>On a SUSE-based system, issue the following command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ sudo zypper refresh</strong></span>
</pre></div></div></div></li><li class="listitem">With these preliminaries out of the way, you can install Webmin with the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ sudo yum install webmin</strong></span>
</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note04"/>Note</h3><p>On a SUSE-based system, issue the following command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ sudo zypper install webmin</strong></span>
</pre></div></div></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec11"/>How it works...</h2></div></div></div><p>Installation of<a id="id26" class="indexterm"/> Webmin using <code class="literal">yum</code> is based on exactly the same<a id="id27" class="indexterm"/> principles as installing it using <code class="literal">apt-get</code> <a id="id28" class="indexterm"/>on Debian. Take a look at the <span class="emphasis"><em>How it works...</em></span> section in the previous recipe.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec12"/>There's more...</h2></div></div></div><p>Webmin also provides an RPM package that can be downloaded and installed manually. If you wanted to do it this way for some reason, you would need to follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Visit Webmin's Downloads page at <a class="ulink" href="http://www.webmin.com/download.html">http://www.webmin.com/download.html</a> and copy the address of the current RPM package. The package file will be named <code class="literal">webmin-NNN.noarch.rpm</code>, where <code class="literal">NNN</code> indicates the current version number.</li><li class="listitem">Download the package by using <code class="literal">wget</code>: <div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ wget http://prdownloads.sourceforge.net/webadmin/webmin-NNN.noarch.rpm</strong></span>
</pre></div></li><li class="listitem">Then, run the following command to install Webmin from the package:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ sudo yum localinstall webmin-NNN.noarch.rpm</strong></span>
</pre></div></li></ol></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note05"/>Note</h3><p>On a SUSE-based system, issue the following command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ sudo yast --install webmin-NNN.noarch.rpm</strong></span>
</pre></div></div></div></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec13"/>See also</h2></div></div></div><p>More information about installing Webmin on an RPM-based system can be found at the following Webmin website and wiki:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://www.webmin.com/rpm.html">http://www.webmin.com/rpm.html</a></li><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://doxfer.webmin.com/Webmin">http://doxfer.webmin.com/Webmin</a></li></ul></div></div></div>
<div class="section" title="Installing Webmin on another system"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec11"/>Installing Webmin on another system</h1></div></div></div><p>Even if your system doesn't <a id="id29" class="indexterm"/>use the Debian or RPM package <a id="id30" class="indexterm"/>managers, there may be a Webmin package available in your distribution repositories. For example, Arch Linux and Gentoo provide Webmin packages, while FreeBSD provides a Webmin package and port.</p><p>If your system doesn't provide a Webmin package, you may use steps outlined in this recipe to install Webmin on your Unix-like system, such as Linux, BSD, and OS X.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note06"/>Note</h3><p>A complete list of supported operating systems can be found on Webmin's website:</p><p>
<a class="ulink" href="http://www.webmin.com/support.html">http://www.webmin.com/support.html</a>
</p></div></div><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec14"/>Getting ready</h2></div></div></div><p>Before installing Webmin, make sure that you have Perl Version 5 installed on your system. You can verify this using the following command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ perl --version</strong></span>
</pre></div><p>In order to enable SSL encryption of connections, you should install the Perl module Net::SSLeay. You can verify that it's installed by using the following command. It will complain if Net::SSLeay<a id="id31" class="indexterm"/> is not installed. If it's installed, the command will generate no output.</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ perl -e "use Net::SSLeay"</strong></span>
</pre></div></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec15"/>How to do it...</h2></div></div></div><p>Perform the<a id="id32" class="indexterm"/> following steps to install Webmin:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Go to Webmin's Downloads page at <a class="ulink" href="http://www.webmin.com/download.html">http://www.webmin.com/download.html</a>.</li><li class="listitem">Copy the link to the latest version of the Unix tar/gzip format package. The link will be similar to the following, except <code class="literal">NNN</code> will have to be substituted by the current version number: <a class="ulink" href="http://prdownloads.sourceforge.net/webadmin/webmin-NNN.tar.gz">http://prdownloads.sourceforge.net/webadmin/webmin-NNN.tar.gz</a>.</li><li class="listitem">Download the package by using <code class="literal">wget</code>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ wget http://prdownloads.sourceforge.net/webadmin/webmin-NNN.tar.gz</strong></span>
</pre></div></li><li class="listitem">Extract the archive by using the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ tar -xzf webmin-NNN.tar.gz</strong></span>
</pre></div></li><li class="listitem">Enter the extracted directory and start the interactive installation script by using the following commands:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cd webmin.NNN</strong></span>
<span class="strong"><strong>$ sudo ./setup.sh /usr/local/webmin</strong></span>
</pre></div></li><li class="listitem">You will be asked a series of questions. You can press enter to accept the default suggested answers for the following questions. In the following prompt lines, default values are provided in brackets:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>Config file directory [/etc/webmin]: </strong></span>
<span class="strong"><strong>Log file directory [/var/webmin]: </strong></span>
<span class="strong"><strong>Full path to perl (default /usr/bin/perl): </strong></span>
<span class="strong"><strong>Web server port (default 10000): </strong></span>
</pre></div></li><li class="listitem">Webmin will attempt to detect the name and version of your operating system. Make sure that this information is correct; otherwise, Webmin may not work correctly. Detected system version will be presented in lines similar to these:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>***************************************</strong></span>
<span class="strong"><strong>Operating system name:    Mac OS X</strong></span>
<span class="strong"><strong>Operating system version: 10.9</strong></span>
<span class="strong"><strong>***************************************</strong></span>
</pre></div></li><li class="listitem">Pick a<a id="id33" class="indexterm"/> username and password for <a id="id34" class="indexterm"/>the first Webmin administrative user at the following prompts:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>Login name (default admin): </strong></span>
<span class="strong"><strong>Login password: </strong></span>
<span class="strong"><strong>Password again: </strong></span>
</pre></div></li><li class="listitem">Answer yes (<code class="literal">y</code>) to the following questions:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>Use SSL (y/n): y</strong></span>
<span class="strong"><strong>Start Webmin at boot time (y/n): y</strong></span>
</pre></div></li><li class="listitem">After installation is completed, you may delete the <code class="literal">webmin-NNN.tar.gz</code> archive and the extracted <code class="literal">webmin-NNN</code> folder from which installation was started.</li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec16"/>How it works...</h2></div></div></div><p>Webmin installation script is able to install it on most Unix-like operating systems.</p><p>When we were starting the installation script, we indicated that we want to install Webmin's program files in <code class="literal">/usr/local/webmin</code>. Use a different path if you want to place it elsewhere.</p><p>Webmin asks you a series of questions during installation. For instance, it asks you where to store configuration files (defaults to <code class="literal">/etc/webmin/</code>) and log files (defaults to <code class="literal">/var/webmin/</code>). These locations may be changed, but the defaults will work well on most systems.</p><p>You will also need to specify the username and password of the first Webmin user. This user will have complete control of your system through Webmin and will be able to add more user accounts.</p></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec17"/>See also</h2></div></div></div><p>You can find more information about installing Webmin<a id="id35" class="indexterm"/> on its website at <a class="ulink" href="http://www.webmin.com/tgz.html">http://www.webmin.com/tgz.html</a>
</p><p>Look for a <a id="id36" class="indexterm"/>Webmin<a id="id37" class="indexterm"/> package<a id="id38" class="indexterm"/> for your<a id="id39" class="indexterm"/> system. Here are<a id="id40" class="indexterm"/> a few <a id="id41" class="indexterm"/>links:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Arch Linux</strong></span>: <a class="ulink" href="https://www.archlinux.org/packages/?name=webmin">https://www.archlinux.org/packages/?name=webmin</a></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>FreeBSD</strong></span>: <a class="ulink" href="https://www.freshports.org/sysutils/webmin/">https://www.freshports.org/sysutils/webmin/</a></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Gentoo</strong></span>: <a class="ulink" href="http://packages.gentoo.org/package/app-admin/webmin">http://packages.gentoo.org/package/app-admin/webmin</a></li></ul></div></div></div>
<div class="section" title="Connecting to Webmin"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec12"/>Connecting to Webmin</h1></div></div></div><p>The only client software <a id="id42" class="indexterm"/>you need to start using Webmin is a web browser. You can connect to Webmin using your server's IP address or domain name. Webmin allows you to change which IP address, port, or domain name it will use for connections.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec18"/>Getting ready</h2></div></div></div><p>The first step is to check the IP address of your server. One way to do it is to run the <code class="literal">/sbin/ifconfig</code> command. It will give you lots of information about network interfaces configured on your system, including the IP number for each one under the heading <span class="strong"><strong>inet addr</strong></span>. You will have at least two network interfaces on your system. One will be called <span class="strong"><strong>lo</strong></span> or <span class="strong"><strong>lo0</strong></span>, this is the local loopback interface that is used only for connections originating from the same machine. This will have the IP of 127.0.0.1. The other interface will most likely be named <span class="strong"><strong>eth0</strong></span> or <span class="strong"><strong>en0</strong></span> and this will be the primary network adapter of your machine. To connect from another computer, note this IP address. You can also set up a DNS entry for this IP, and then you'll be able to connect using a domain name.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec19"/>How to do it...</h2></div></div></div><p>You can connect to Webmin by performing the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open your web browser and type in the following address, but substitute the words <code class="literal">webmin.host</code> with the IP address or domain name of your server: <code class="literal">https://webmin.host:10000</code>.<div class="tip" title="Tip" style=""><div class="inner"><h3 class="title"><a id="tip11"/>Tip</h3><p>If your browser reports that it could not establish a connection to the server, then you may be running a firewall on the server, which is blocking incoming connections. On most Linux systems, the default firewall is called <code class="literal">iptables</code> and you can direct it to allow all incoming TCP traffic on the port 10000 by issuing the following command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ sudo iptables -I INPUT -p tcp --dport 10000 -j ACCEPT</strong></span>
</pre></div></div></div></li><li class="listitem">Unfortunately, the first thing you will see after connecting successfully is a warning stating something along these lines: <span class="strong"><strong>This site's security certificate is not valid!</strong></span> Feel free to ignore this warning and proceed to Webmin. Take a look at the <span class="emphasis"><em>How it works...</em></span> section of this recipe for more information.<div class="tip" title="Tip" style=""><div class="inner"><h3 class="title"><a id="tip12"/>Tip</h3><p>If you receive an error stating that establishing a secure connection failed instead, try to connect to <code class="literal">http://webmin.host:10000</code> using regular HTTP.</p></div></div></li></ol></div><p>On the next <a id="id43" class="indexterm"/>screen, you will be asked to provide the login and password of a user with administrative privileges. This is almost always either root or a user who has ALL privileges granted through <code class="literal">sudo</code>. Type the username and password and hit the button to log in.</p><p>Once you log in, Webmin will greet you with a home screen displaying an overview of your system, similar to the following screenshot:</p><div class="mediaobject"><img src="graphics/5849_01_01.jpg" alt="How to do it..."/></div><p>This welcome screen shows Webmin's main interface. On the left-hand side, we see a sidebar containing a hierarchical menu listing all installed modules organized into categories. To the right, we see an interface of the currently activated module (in this case, it's <span class="strong"><strong>System Information</strong></span>).</p></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec20"/>How it works...</h2></div></div></div><p>Webmin runs a<a id="id44" class="indexterm"/> web server on port 10000 of your server. Since browsers connect to port 80 by default (or port 443 when using HTTPS), we need to specify the port number as part of the URL.</p><p>If the Perl module Net::SSLeay is installed on your system, all connections to Webmin are encrypted to avoid eavesdropping or man-in-the-middle attacks. In order to establish an encrypted connection, we instruct the browser to connect using the HTTPS protocol. If you try to connect over regular HTTP, Webmin will provide you with a page redirecting you to the encrypted connection similar to the following screenshot:</p><div class="mediaobject"><img src="graphics/5849_01_11.jpg" alt="How it works..."/></div><p>The error message <a id="id45" class="indexterm"/>we see when we establish an encrypted connection is caused by the fact that the certificate we're using to encrypt communication was generated by Webmin itself and wasn't signed by a commercial, trusted certificate authority. This is not a cause for worry. A self-signed certificate has one important advantage: it's free, and it provides the same encryption as a commercial certificate.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec21"/>There's more...</h2></div></div></div><p>Webmin uses port 10000 by default to host its web server and will accept connections coming in on any network interface. You can change these options if you wish.</p><div class="section" title="Changing Webmin's listening port"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec01"/>Changing Webmin's listening port</h3></div></div></div><p>Navigate to the <span class="strong"><strong>Ports and Addresses</strong></span> <a id="id46" class="indexterm"/>configuration module by selecting the <a id="id47" class="indexterm"/>following options from the menu: <span class="strong"><strong>Webmin</strong></span> | <span class="strong"><strong>Webmin Configuration</strong></span>. Then, click the <span class="strong"><strong>Ports and Addresses</strong></span> icon. You will get the following screen. On this screen, you can change the port on which Webmin listens for connections by specifying it in <span class="strong"><strong>Listen on port</strong></span> | <span class="strong"><strong>Specific port</strong></span>. Leave the value of the <span class="strong"><strong>Bind to IP address</strong></span> field as <span class="strong"><strong>Any address</strong></span> for now. Consider the following screenshot:</p><div class="mediaobject"><img src="graphics/5849_01_12.jpg" alt="Changing Webmin's listening port"/></div><p>Change the port to<a id="id48" class="indexterm"/> <code class="literal">10001</code> or <a id="id49" class="indexterm"/>any unused port number you prefer and click <span class="strong"><strong>Save</strong></span>.</p><div class="tip" title="Tip" style=""><div class="inner"><h3 class="title"><a id="tip13"/>Tip</h3><p>You can get a list of used ports by issuing the <code class="literal">netstat</code> command. Daemons on your server use some ports to listen for incoming connections. You won't be able to use any of these for Webmin. On Linux, you can use the following command to get a list of listening ports:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ netstat -ltn</strong></span>
</pre></div><p>On BSD-based systems, use this instead:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ netstat -nap tcp | grep LISTEN</strong></span>
</pre></div></div></div><p>Webmin will change its port and redirect you to the new address.</p></div><div class="section" title="Specifying the IP address on which Webmin listens"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec02"/>Specifying the IP address on which Webmin listens</h3></div></div></div><p>You can use the <span class="strong"><strong>Ports and Addresses</strong></span> screen to select on which IP address Webmin will be listening. This is useful if you have more than one network interface installed on your machine (for instance, one for accessing the Internet and one on a local network). You can also use this option to select the loopback interface and allow only connections originating from the same machine or coming in over an SSH tunnel (refer to the <span class="emphasis"><em>Connecting to Webmin securely over an SSH tunnel</em></span> recipe in <a class="link" href="ch03.html" title="Chapter 3. Securing Your System">Chapter 3</a>, <span class="emphasis"><em>Securing Your System</em></span>). To restrict connections only to local traffic, select <span class="strong"><strong>Bind to IP address</strong></span> | <span class="strong"><strong>Only address...</strong></span> and enter 127.0.0.1 as <a id="id50" class="indexterm"/>shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/5849_01_02.jpg" alt="Specifying the IP address on which Webmin listens"/></div></div></div></div>
<div class="section" title="Installing additional Webmin modules"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec13"/>Installing additional Webmin modules</h1></div></div></div><p>Webmin has a <a id="id51" class="indexterm"/>modular architecture and it's possible to extend it by installing<a id="id52" class="indexterm"/> additional modules. The majority of stable Webmin modules come bundled into Webmin, so in most cases you don't actually need to install them. Modules, which are installed but not active, are located in the <span class="strong"><strong>Un-used Modules</strong></span> section of the menu. They will usually become activated automatically when you install the software that they depend on. For instance, you may see the <span class="strong"><strong>MySQL Database Server</strong></span> module listed in this section. When you install MySQL or other supported software on your system, Webmin will detect it and move the appropriate module into its section in the menu.</p><p>After you install the additional software, you may need to click the <span class="strong"><strong>Refresh Modules</strong></span> link at the bottom of the menu and reload the browser for this update to happen.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec22"/>Getting ready</h2></div></div></div><p>If you find a good third-party module that doesn't come bundled with Webmin, you can install it by following this recipe. Just a word of warning: a Webmin module will have privileged access to your system; you should never install modules from sources you don't fully trust.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec23"/>How to do it...</h2></div></div></div><p>To install <a id="id53" class="indexterm"/>additional <a id="id54" class="indexterm"/>Webmin modules, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Copy the URL of a Webmin module's location. It will be in a file with the <code class="literal">.wbm</code> or <code class="literal">.wbm.gz</code> extension.</li><li class="listitem">Navigate to the <span class="strong"><strong>Install</strong></span> tab by going to <span class="strong"><strong>Webmin</strong></span> | <span class="strong"><strong>Webmin Configuration</strong></span> | <span class="strong"><strong>Webmin Modules</strong></span>. You will get the following screen:<div class="mediaobject"><img src="graphics/5849_01_13.jpg" alt="How to do it..."/></div></li><li class="listitem">Select the option to install <span class="strong"><strong>From ftp or http URL</strong></span> and paste the module's URL in the text field provided.</li><li class="listitem">Before you install a module, you can choose which users will be allowed to use it. Select <span class="strong"><strong>Grant access to all Webmin users</strong></span>.</li><li class="listitem">Click <span class="strong"><strong>Install Module</strong></span>. The next screen will display installation progress, information about where the module was installed on disk, which section of the menu it will be available in, and a link to the module screen.</li><li class="listitem">Reload Webmin to see the new module appear in the menu.</li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec24"/>How it works...</h2></div></div></div><p>Webmin will <a id="id55" class="indexterm"/>download and decompress the module archive file and place a <a id="id56" class="indexterm"/>new module folder on disk in the <code class="literal">/usr/share/webmin/</code> directory. When you reload Webmin, it will scan the modules directory, discover the new module, and add it to its menu.</p><p>Each Webmin module can be made available to all users or a selected group. This choice can be made during the installation of the module or it can be done later in <span class="strong"><strong>Webmin</strong></span> | <span class="strong"><strong>Webmin users settings</strong></span>. More information about users and access control can be found in <a class="link" href="ch02.html" title="Chapter 2. User Management">Chapter 2</a>, <span class="emphasis"><em>User Management</em></span>.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec25"/>There's more...</h2></div></div></div><p>Webmin can also download module files from two repositories: the standard module repository hosted at <code class="literal">webmin.com</code> and a repository of third-party modules that may be hosted anywhere on the Internet.</p><div class="section" title="Installing a module from a repository"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec03"/>Installing a module from a repository</h3></div></div></div><p>In order to <a id="id57" class="indexterm"/>install a <a id="id58" class="indexterm"/>module from <a id="id59" class="indexterm"/>one of the repositories, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Navigate to <span class="strong"><strong>Webmin</strong></span> | <span class="strong"><strong>Webmin Configuration</strong></span> | <span class="strong"><strong>Webmin Modules</strong></span> | <span class="strong"><strong>Install</strong></span>.</li><li class="listitem">Click on the ellipsis (<span class="strong"><strong>...</strong></span>) button at the end of the line <span class="strong"><strong>Standard module from www.webmin.com</strong></span> or <span class="strong"><strong>Third party module from</strong></span>.</li><li class="listitem">Select the module you'd like to install and install as described previously.</li></ol></div><p>Webmin will download the file automatically from the repository's URL.</p></div><div class="section" title="Uninstalling a module"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec04"/>Uninstalling a module</h3></div></div></div><p>If you'd like to uninstall<a id="id60" class="indexterm"/> a module, navigate to <span class="strong"><strong>Webmin</strong></span> | <span class="strong"><strong>Webmin Configuration</strong></span> | <span class="strong"><strong>Webmin Modules</strong></span> | <span class="strong"><strong>Delete</strong></span>, select the module or modules you want to remove, and click <span class="strong"><strong>Delete Selected Modules</strong></span>. In the next screen, you will be asked to confirm your action and the modules will be deleted.</p></div></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec26"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">You can search a database of the third-party modules on the Webmin website at <a class="ulink" href="http://www.webmin.com/third.html">http://www.webmin.com/third.html</a></li></ul></div></div></div>
<div class="section" title="Monitoring what Webmin is doing"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec14"/>Monitoring what Webmin is doing</h1></div></div></div><p>One useful feature of <a id="id61" class="indexterm"/>Webmin is the fact that it keeps a log of every action it performs. It's sometimes useful to refer to this history to check how users have changed your system's configuration through Webmin's interface.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec27"/>Getting ready</h2></div></div></div><p>In order to take full advantage of Webmin's logging facility, you should enable the monitoring of file changes made though Webmin. This allows you to roll back the changes later.</p><p>In order to enable this function, go to <span class="strong"><strong>Webmin</strong></span> | <span class="strong"><strong>Webmin Configuration</strong></span> | <span class="strong"><strong>Logging</strong></span> and set <span class="strong"><strong>Yes</strong></span> as the answer to these two questions: <span class="strong"><strong>Log changes made to files by each action?</strong></span> and <span class="strong"><strong>Record all modified files before actions, for rollbacks?</strong></span>
</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec28"/>How to do it...</h2></div></div></div><p>To monitor <a id="id62" class="indexterm"/>what Webmin is doing, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">To access Webmin's log, go to <span class="strong"><strong>Webmin</strong></span> | <span class="strong"><strong>Webmin Actions Log</strong></span>.</li><li class="listitem">Select filters to narrow your search down to log entries made today only and click <span class="strong"><strong>Search</strong></span>. You will see a table listing all actions taken today through Webmin.</li><li class="listitem">Click on one of the actions to see a complete description of the action. This screen will inform you which user performed the action at what time, logged in from which IP, and which Webmin script was used.</li><li class="listitem">Add an annotation to the action by writing text to the <span class="strong"><strong>Log entry annotation</strong></span> field and clicking <span class="strong"><strong>Save</strong></span>. You will come across something like this:<div class="mediaobject"><img src="graphics/5849_01_14.jpg" alt="How to do it..."/></div></li><li class="listitem">View all <a id="id63" class="indexterm"/>actions performed in this user session by clicking the link labeled <span class="strong"><strong>Session ID</strong></span>. The annotated action will be visible in the list, marked with a star.</li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec29"/>How it works...</h2></div></div></div><p>Webmin records all actions performed by users to the log file <code class="literal">/var/webmin/webmin.log</code>. User annotations are stored in the <code class="literal">/var/webmin/annotations</code> directory. If monitoring of file changes is enabled, each change is recorded in the <code class="literal">/var/webmin/diffs</code> directory. Please note that these directories could potentially grow quite large over time on a busy system.</p><p>The <span class="strong"><strong>Webmin Actions Log</strong></span> interface allows you to search these log files, display them, and use them to revert file changes.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec30"/>There's more...</h2></div></div></div><p>If you enabled monitoring of file changes as described in the <span class="emphasis"><em>Getting ready</em></span> section of this recipe, you can use Webmin to revert the changes.</p><div class="section" title="Rolling back file changes"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec05"/>Rolling back file changes</h3></div></div></div><p>As an exercise, go to<a id="id64" class="indexterm"/> <span class="strong"><strong>Webmin</strong></span> | <span class="strong"><strong>Webmin Configuration</strong></span> | <span class="strong"><strong>User Interface</strong></span> and set the page background to a light blue color with the RGB hex value of <code class="literal">C9DFFF</code>. Go back to <span class="strong"><strong>Webmin</strong></span> | <span class="strong"><strong>Webmin Actions Log</strong></span>, and then find your action and view its details. In the section <span class="strong"><strong>Files changed and commands run</strong></span>, you will see that a change to the file <code class="literal">/etc/webmin/config</code> was recorded, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/5849_01_15.jpg" alt="Rolling back file changes"/></div><p>Tick the checkbox next to the file change and click the <span class="strong"><strong>Roll Back Selected Files</strong></span> button. Confirm the rollback and go back to the <span class="strong"><strong>Action Details</strong></span> page. Notice that the background color changes back to white.</p></div></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec31"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">For more ways to monitor what your system is doing, take a look at <a class="link" href="ch05.html" title="Chapter 5. Monitoring Your System">Chapter 5</a>, <span class="emphasis"><em>Monitoring Your System</em></span></li></ul></div></div></div>
<div class="section" title="Controlling which system services are started at boot"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec15"/>Controlling which system services are started at boot</h1></div></div></div><p>During the boot process, your operating system should load all services that will be running in the background on your machine. This includes database servers, web servers, tools such as Webmin, and other system processes. Server distributions are very lean by default, so they will only start a handful of essential services. Webmin allows you to control which of these scripts is executed through the <span class="strong"><strong>Bootup and Shutdown</strong></span> module.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec32"/>How to do it...</h2></div></div></div><p>Perform the following steps <a id="id65" class="indexterm"/>to check which system services are started at boot:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Navigate to <span class="strong"><strong>System</strong></span> | <span class="strong"><strong>Bootup and Shutdown</strong></span>.</li><li class="listitem">Select a service to disable temporarily. If your system has the <code class="literal">avahi</code> daemon or the <code class="literal">rsync</code> service, these can probably be disabled for a minute without causing trouble. Consider the following screenshot:<div class="mediaobject"><img src="graphics/5849_01_16.jpg" alt="How to do it..."/></div></li><li class="listitem">Mark the checkbox next to one of these services and click the <span class="strong"><strong>Disable Now and On Boot</strong></span> button. You will see a screen notifying you that the service was stopped and disabled from starting at the next boot.</li><li class="listitem">Go back to the <span class="strong"><strong>Bootup and Shutdown</strong></span> screen, select the same service again, and click the <span class="strong"><strong>Start Now and On Boot</strong></span> button to revert your previous change.</li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec33"/>How it works...</h2></div></div></div><p>When your OS starts, it first loads the system kernel and then starts a process called <span class="strong"><strong>init</strong></span> (short for initialization), which executes various init scripts that start system services. Under Linux, these scripts are stored in one directory (<code class="literal">/etc/init.d</code>) and activated by the creation of symbolic links to them in a special directory from which all scripts are executed at boot time. Webmin allows you to control which init scripts are executed by creating or removing these symbolic links or performing other activation functions specific to your system.</p><p>The init system described earlier is often referred to as <span class="strong"><strong>SysV-style init</strong></span>. It's named after the historic UNIX System V that inspired all modern Unix-like operating systems, including Linux and BSD. Many distributions are gradually switching over to more modern alternatives such as Upstart and Systemd. The details of how these systems differ from SysV-init are beyond the scope of this book, but Webmin tries to provide a common interface to all of them. Screenshots in this recipe may differ slightly depending on which init system your <a id="id66" class="indexterm"/>distribution uses.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec34"/>There's more...</h2></div></div></div><p>Webmin also allows you to easily create your own init scripts and verify that a started service is actually running.</p><div class="section" title="Creating a custom init script"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec06"/>Creating a custom init script</h3></div></div></div><p>Most server<a id="id67" class="indexterm"/> packages you install will come with their own init scripts and activate them in your init system. If you install a package that doesn't, you can use Webmin to create a simple init script for you.</p><p>Navigate to <span class="strong"><strong>System</strong></span> | <span class="strong"><strong>Bootup and Shutdown</strong></span> and click the <span class="strong"><strong>Create a new bootup and shutdown action</strong></span> link.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note07"/>Note</h3><p>Depending on the init system you're using, this link may also be named <code class="literal">Create a new action</code>, <code class="literal">Create a new upstart service</code>, <code class="literal">Create a new systemd service</code>, and so on.</p></div></div><p>You will be asked to specify the name and description of the startup item as well as two commands: one for starting the service and one for shutting it down. Once you fill these out, click <span class="strong"><strong>Create</strong></span> and Webmin will automatically create a basic init script for you.</p><div class="mediaobject"><img src="graphics/5849_01_17.jpg" alt="Creating a custom init script"/></div></div><div class="section" title="Inspecting active processes"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec07"/>Inspecting active processes</h3></div></div></div><p>Even if a service is<a id="id68" class="indexterm"/> successfully started during boot, it could potentially crash. To inspect which services are actually running, go to <span class="strong"><strong>System</strong></span> | <span class="strong"><strong>Running Processes</strong></span>. There, you will see a tree of processes sorted in the order in which another process has started them. You can also sort processes by owner or the amount of CPU or RAM they are consuming. Consider the following screenshot:</p><div class="mediaobject"><img src="graphics/5849_01_18.jpg" alt="Inspecting active processes"/></div><p>Click on a process ID for one of Webmin's processes to get more information about it, including those files or network connections the process still has open.</p></div></div></div>
<div class="section" title="Inspecting the installed software packages"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec16"/>Inspecting the installed software packages</h1></div></div></div><p>Webmin provides an <a id="id69" class="indexterm"/>easy-to-use interface to your system's package management system. You can use it to check what packages are installed and view the files installed by each package.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec35"/>How to do it...</h2></div></div></div><p>For checking what packages are installed, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Go to <span class="strong"><strong>System</strong></span> | <span class="strong"><strong>Software Packages</strong></span>. Consider the following screenshot:<div class="mediaobject"><img src="graphics/5849_01_19.jpg" alt="How to do it..."/></div></li><li class="listitem">Search for the package you're interested in by typing the name or part of its description into the <span class="strong"><strong>Search For Package</strong></span> form. For example, type in <code class="literal">webmin</code> and click <span class="strong"><strong>Search For Package</strong></span>. You can also browse a listing of packages by clicking the <span class="strong"><strong>Package Tree</strong></span> button.</li><li class="listitem">If a package is installed, it will be visible in the package list. Click the name of the package to see a <span class="strong"><strong>Package Details</strong></span> screen.</li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec36"/>How it works...</h2></div></div></div><p>Webmin is able to<a id="id70" class="indexterm"/> determine which package management system your OS is using, and provides a unified interface to common tasks such as inspecting, installing, and uninstalling packages. In the background, Webmin will execute the appropriate commands (<code class="literal">apt-get</code>, <code class="literal">yum</code>, <code class="literal">rpm</code>, <code class="literal">yast</code>, and so on) for you and display the results in the form of a web page.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec37"/>There's more...</h2></div></div></div><p>Beyond simply viewing the installed packages, it's often useful to check which files were installed by a package. You may also be interested in a particular file on disk and want to check which package installed it. Webmin allows you to gather this information easily.</p><div class="section" title="Viewing the files installed with a package"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec08"/>Viewing the files installed with a package</h3></div></div></div><p>To view files installed from a package, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Go to <span class="strong"><strong>System</strong></span> | <span class="strong"><strong>Software Packages</strong></span>, type in the name of the package (webmin, for example), and click <span class="strong"><strong>Search For Package</strong></span>.</li><li class="listitem">In the package listing, click the name of the package to see its details.</li><li class="listitem">To view what files were installed by this package, click the <span class="strong"><strong>List files</strong></span> button.</li></ol></div></div><div class="section" title="Identifying which package installed a file"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec09"/>Identifying which package installed a file</h3></div></div></div><p>To identify which package has installed a file, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Go to <span class="strong"><strong>System</strong></span> | <span class="strong"><strong>Software Packages</strong></span>.</li><li class="listitem">In the <span class="strong"><strong>Identify a file</strong></span> section, type in the name of a file or command or click the ellipsis (<span class="strong"><strong>...</strong></span>) button to browse your disk.</li><li class="listitem">Click the <span class="strong"><strong>Search For</strong></span> button. </li></ol></div><p>If the file is identified by the package management system, you will see a screen with information about<a id="id71" class="indexterm"/> the file, including the name of the package which installed it:</p><div class="mediaobject"><img src="graphics/5849_01_20.jpg" alt="Identifying which package installed a file"/></div></div></div></div>
<div class="section" title="Installing software packages"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec17"/>Installing software packages</h1></div></div></div><p>Webmin is able to use <a id="id72" class="indexterm"/>your OS package management to install additional software. If you're using a Debian-based system, such as Ubuntu, you can install packages from <code class="literal">.deb</code> files or APT repositories. If you're using an RPM-based system, such as CentOS or openSUSE, you can install packages from <code class="literal">.rpm</code> files or <code class="literal">yum</code> repositories.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec38"/>Getting ready</h2></div></div></div><p>Many web applications depend on an image manipulation library called ImageMagick. Many programs that are used to create, edit, compose, or convert bitmap images such as PNG and JPEG use this library. In this recipe, we will install ImageMagick, but the same procedure may be applied to any other software available in your distribution's repository.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec39"/>How to do it...</h2></div></div></div><p>Follow these steps to install a software package using Webmin:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Navigate to <span class="strong"><strong>System</strong></span> | <span class="strong"><strong>Software Packages</strong></span>.</li><li class="listitem">Select the <span class="strong"><strong>Package from Repo</strong></span> radio button. Note that you won't actually see the word <span class="strong"><strong>Repo</strong></span>, but rather the name of repository appropriate for your system (APT, YUM, Ports, and so on).</li><li class="listitem">Click <span class="strong"><strong>Search Repo</strong></span>, then type in the package name <code class="literal">imagemagick</code>, and click <span class="strong"><strong>Find packages matching</strong></span> to execute the search.</li><li class="listitem">You will be presented with a list of packages matching your search, including <code class="literal">imagemagick</code>—the package you want to install. Select the package by clicking its name.</li><li class="listitem">You will be brought back to the <span class="strong"><strong>Software Packages</strong></span> screen, where you can now press the <span class="strong"><strong>Install</strong></span> button.</li></ol></div><p>Webmin will download and install ImageMagick along with a long list of its dependencies. On the results screen, you can see the details for all the installed packages.</p><div class="tip" title="Tip" style=""><div class="inner"><h3 class="title"><a id="tip15"/>Tip</h3><p>If the software package you're installing provides a component that may be managed by Webmin (such as Apache, MySQL, PostgreSQL, and Postfix), you should take two additional steps. Click the <span class="strong"><strong>Refresh Modules</strong></span> link in Webmin's main menu and then refresh your entire browser. This will ensure that Webmin recognizes the newly installed software and updates its menu.</p></div></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec40"/>How it works...</h2></div></div></div><p>Webmin determines which package management system your OS uses. It executes the appropriate commands to search available repositories for packages matching your query and installs them along with their dependencies. The same task can be accomplished from the command line, but Webmin abstracts away the command syntax particular to your packaging system so that you can use the same interface regardless of the underlying OS.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec41"/>There's more...</h2></div></div></div><p>Webmin also allows you to install software from a package file that you may have. In order to do that, follow this recipe, but select the <span class="strong"><strong>From uploaded file</strong></span> radio button and upload your file instead of searching the repository. If your package file is too large to upload with a browser, you can install it from its URL instead.</p><p>Please note that this method will require you to install its dependencies manually before installing the package itself.</p></div></div>
<div class="section" title="Updating the installed packages to the latest versions"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec18"/>Updating the installed packages to the latest versions</h1></div></div></div><p>Open source<a id="id73" class="indexterm"/> communities continually release updates to the software they manage. It's very important to be up-to-date with these upgrades, because they often contain fixes for security vulnerabilities discovered in your software.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec42"/>How to do it...</h2></div></div></div><p>To update installed packages, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Navigate to <span class="strong"><strong>System</strong></span> | <span class="strong"><strong>Software Package Updates</strong></span>. You will see a list of all packages for which updated versions are available in the repository. Consider the following screenshot:<div class="mediaobject"><img src="graphics/5849_01_21.jpg" alt="How to do it..."/></div></li><li class="listitem">Before updating, you may click the <span class="strong"><strong>Refresh Available Packages</strong></span> button to make sure that you have the most current update information.</li><li class="listitem">Make sure that all the checkboxes next to packages with available updates are marked, and then click <span class="strong"><strong>Update Selected Packages</strong></span>.</li><li class="listitem">The next screen will display a list of all packages that will be updated, along with possible new dependent packages. Click <span class="strong"><strong>Install</strong></span> to perform the updates.</li><li class="listitem">The next screen will display progress of the update. Make sure that the page is fully loaded before navigating to another screen.</li><li class="listitem">When you return to the package update screen, you should now see the message <span class="strong"><strong>No packages available to be updated were found</strong></span>, informing you that all packages are up-to-date.</li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec43"/>How it works...</h2></div></div></div><p>Webmin <a id="id74" class="indexterm"/>determines which package management system your OS uses and queries the package repositories for information about latest available versions. You can trigger this package cache update yourself by clicking <span class="strong"><strong>Refresh Available Packages</strong></span>. When you select to perform the update, Webmin executes the appropriate package management commands to install latest versions.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec44"/>There's more...</h2></div></div></div><p>Webmin will also notify you if updates are available for any of its own modules. This notice will appear on the <span class="strong"><strong>System Information</strong></span> page, which is the first page displayed when you log in. If you see it, click <span class="strong"><strong>Install Updates Now</strong></span> to install the module updates as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/5849_01_07.jpg" alt="There's more..."/></div></div></div>
<div class="section" title="Enabling Webmin to send an e-mail"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec19"/>Enabling Webmin to send an e-mail</h1></div></div></div><p>Webmin is a good tool for monitoring the state of your server. You can set it up to send you an e-mail whenever an event that requires your attention occurs.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec45"/>Getting ready</h2></div></div></div><p>Webmin needs access to a mail server in order to send an e-mail. In <a class="link" href="ch12.html" title="Chapter 12. Setting Up an E-mail Server">Chapter 12</a>, <span class="emphasis"><em>Setting Up an E-mail Server</em></span>, we will cover setting one up. However, if you don't plan to set up your own mail server or you want to start monitoring your system before you do, you can use an external e-mail service.</p><p>Webmin can send e-mail over SMTP, but it doesn't support TLS/SSL encryption. You'll need an account with a provider who allows you to connect via SMTP without encryption. </p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec46"/>How to do it...</h2></div></div></div><p>Perform the following steps to enable Webmin to send e-mails:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">If you want to send an <a id="id75" class="indexterm"/>e-mail via an external SMTP account, navigate to <span class="strong"><strong>Webmin</strong></span> | <span class="strong"><strong>Webmin Configuration</strong></span> | <span class="strong"><strong>Sending Email</strong></span> and set the <span class="strong"><strong>Send e-mail using</strong></span> option to <span class="strong"><strong>Via SMTP to remote mail server</strong></span>.</li><li class="listitem">Provide the address of the SMTP server, set <span class="strong"><strong>SMTP server authentication</strong></span> to <span class="strong"><strong>Login as</strong></span>, and provide your account's username and password.</li><li class="listitem">Set the <span class="strong"><strong>From address for email from Webmin</strong></span> option to an authorized e-mail address.</li><li class="listitem">Click <span class="strong"><strong>Save</strong></span> to save the settings.<div class="mediaobject"><img src="graphics/5849_01_08.jpg" alt="How to do it..."/></div></li><li class="listitem">Go back to <span class="strong"><strong>Webmin</strong></span> | <span class="strong"><strong>Webmin Configuration</strong></span> | <span class="strong"><strong>Sending Email</strong></span>, and use the <span class="strong"><strong>Send test message</strong></span> form to test your configuration.</li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec47"/>How it works...</h2></div></div></div><p>Webmin is able to communicate with a remote server over unencrypted SMTP, so your mail will actually be sent from there. Please note that the configuration, including your password is saved in clear text on the server in the <code class="literal">/etc/webmin/mailboxes/config</code> file. This file is accessible to all users with administrative privileges on the server, and they will be able to <a id="id76" class="indexterm"/>read your e-mail password.</p></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec48"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Check out <a class="link" href="ch12.html" title="Chapter 12. Setting Up an E-mail Server">Chapter 12</a>, <span class="emphasis"><em>Setting Up an E-mail Server</em></span>, for information about setting up your own mail server.</li></ul></div></div></div>
<div class="section" title="Getting an e-mail when new versions of packages become available"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec20"/>Getting an e-mail when new versions of packages become available</h1></div></div></div><p>If you have multiple servers running with different sets of installed software, it may become cumbersome to regularly check for software updates manually. Webmin allows you to schedule automatic update checking and sends you an e-mail whenever new versions of software become available.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec49"/>Getting ready</h2></div></div></div><p>Make sure that Webmin is set up for sending e-mail. Refer to the <span class="emphasis"><em>Enabling Webmin to send an e-mail</em></span> recipe of this chapter for more information.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec50"/>How to do it...</h2></div></div></div><p>To get an e-mail notification<a id="id77" class="indexterm"/> when new versions of software become available, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Navigate to <span class="strong"><strong>System</strong></span> | <span class="strong"><strong>Software Package Updates</strong></span> and enable <span class="strong"><strong>Scheduled checking options</strong></span>.</li><li class="listitem">Set <span class="strong"><strong>Check for updates on schedule?</strong></span> to check for updates every day and provide an e-mail address to which a report will be sent in case any updates are available. Consider the following screenshot:<div class="mediaobject"><img src="graphics/5849_01_09.jpg" alt="How to do it..."/></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec51"/>How it works...</h2></div></div></div><p>
<span class="strong"><strong>cron</strong></span>
<a id="id78" class="indexterm"/> is a <a id="id79" class="indexterm"/>system utility, which runs in the background as a daemon and starts tasks that are scheduled to execute at a specific time. When <span class="strong"><strong>Scheduled checking options</strong></span> is enabled, Webmin adds an entry in the system's <code class="literal">cron</code> table to execute its update verification script. The <code class="literal">cron</code> daemon will then execute the script once every day (hour or week, depending on the setting). If Webmin discovers available updates, it will send you an e-mail.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec52"/>There's more...</h2></div></div></div><p>You could set up Webmin to automatically install the updates when they become available. This may not be as great idea as it seems, because every update can potentially break something on your system. This should not normally happen, but it's a good practice for a human to monitor the update process and verify that everything works as it should after updates have been applied.</p></div></div>
<div class="section" title="Reading the documentation of the installed software"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec21"/>Reading the documentation of the installed software</h1></div></div></div><p>Most packages that you <a id="id80" class="indexterm"/>install on your system will come<a id="id81" class="indexterm"/> with their documentation. Webmin provides a simple utility to search through these manuals.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec53"/>How to do it...</h2></div></div></div><p>To read the documentation of the installed software, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Go to <span class="strong"><strong>System</strong></span> | <span class="strong"><strong>System documentation</strong></span> and type in <code class="literal">wget</code> as the search term.</li><li class="listitem">Set the <span class="strong"><strong>Match</strong></span> option to <span class="strong"><strong>Name and contents</strong></span>.</li><li class="listitem">Mark checkboxes next to both <span class="strong"><strong>Manual pages</strong></span> and <span class="strong"><strong>Package documentation</strong></span>, and click <span class="strong"><strong>Search</strong></span>.</li></ol></div><p>Webmin will search through all available documentation and display a list of all manual pages and package notes that mention <code class="literal">wget</code>.</p></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec54"/>How it works...</h2></div></div></div><p>Documentation <a id="id82" class="indexterm"/>accompanying a package usually<a id="id83" class="indexterm"/> consists of the program's manual pages and packaging information. The <code class="literal">man</code> pages contain instructions on using the installed software. They are stored in a special format (usually in <code class="literal">/usr/share/man</code>, <code class="literal">/usr/local/man</code> or similar locations) and displayed using the <code class="literal">man</code> command. Package information, on the other hand, may include information about how this package was prepared, how it is intended to be used, and so on. Package docs are usually stored as text or HTML files in <code class="literal">/usr/share/doc</code>.</p><p>Webmin scans the available man pages, package documentation files, and Perl module documentation for mentions of your search term. It displays all the results in the form of web pages for easy viewing.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec55"/>There's more...</h2></div></div></div><p>Webmin provides another important search form, which is located in the sidebar menu under the list of module categories. This allows you to perform a detailed search of Webmin itself, which scans both its documentation and also the elements of its user interface. For instance, if you use this form to search for the <code class="literal">Send test message</code> phrase, Webmin will display a result listing with a link to the <span class="strong"><strong>Sending E-mail</strong></span> module that allows you to send a test e-mail.</p></div></div></body></html>