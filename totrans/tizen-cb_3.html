<html><head></head><body><div><div><div><div><h1 class="title"><a id="part03"/>Part III. Porting and Debugging</h1></div></div></div><div><div><p><a class="link" href="ch10.html" title="Chapter 10. Porting Apps to Tizen"><em>Porting Apps to Tizen</em></a>
</p><p><a class="link" href="ch11.html" title="Chapter 11. Debugging Apps in Tizen">
<em>Debugging Apps in Tizen</em></a>
</p><p><a class="link" href="ch12.html" title="Chapter 12. Porting Tizen to Hardware Devices">
<em>Porting Tizen to Hardware Devices</em></a>
</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch10"/>Chapter 10. Porting Apps to Tizen</h1></div></div></div><p>In this chapter, we will cover the following topics:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Porting web apps</li><li class="listitem" style="list-style-type: disc">Installing the PhoneGap or Cordova SDK</li><li class="listitem" style="list-style-type: disc">Creating Tizen web applications with PhoneGap or Cordova</li><li class="listitem" style="list-style-type: disc">Deploying Cordova and PhoneGap applications to the Tizen device or Emulator</li><li class="listitem" style="list-style-type: disc">Bringing Android apps to Tizen</li><li class="listitem" style="list-style-type: disc">Porting the Android UI to Tizen UI Framework</li><li class="listitem" style="list-style-type: disc">Setting Qt for Tizen</li><li class="listitem" style="list-style-type: disc">Deploying Qt applications on Tizen</li></ul></div><div><div><div><div><h1 class="title"><a id="ch10lvl1sec100"/>Introduction</h1></div></div></div><p>This chapter provides options and hints for porting the existing Web (Firefox OS, Chrome OS, webOS, and so on), Android, or Qt apps to Tizen. Tutorials for running Android applications on Tizen using the compatibility layer as well as for complete porting of Android applications to HTML5 are included.</p><p>Details about the community port Qt for Tizen that allows deployment of existing Qt mobile applications for Android, iOS, MeeGo/Harmattan, Symbian, SailfishOS, and BlackBerry 10 on Tizen devices will also be covered in this chapter.</p><p>Tizen is among the supported platforms of the leading developer tool vendors such as Marmalade, Appcelerator Titanium, Intel XDK, Project Anarchy, Sencha Touch, and many more. The tools and technologies provided by these vendors simplify the development process and allow cross-platform compatibility. The latest information regarding partner tools<a id="id927" class="indexterm"/> for Tizen is available at <a class="ulink" href="https://www.tizen.org/about/partner-tools">https://www.tizen.org/about/partner-tools</a>.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec101"/>Porting web apps</h1></div></div></div><p>Web applications are first-class citizens in Tizen as well on several other popular mobile platforms <a id="id928" class="indexterm"/>such as Firefox OS, webOS, Chrome, and BlackBerry 10. Although it must be clarified that on BlackBerry 10, the native applications are created with C++ and Qt/QML. Despite this, BlackBerry WebWorks also provides all the required tools to develop and deploy an HTML5 application with a native look and feel on BlackBerry 10 devices.</p><p>On the other hand, Android and iOS do not provide generic tools for packaging HTML5 applications for distribution through application stores. Third-party software such as Cordova or PhoneGap can be used to create a hybrid application and to deploy HTML5 projects as standalone applications on Android and iOS (iPhone, iPad) devices.</p><p>Depending on the technologies and the development tools, we can divide web applications for mobile devices into three categories: packaged web applications, hosted web applications, and hybrid web applications.</p><p>The main focus of this recipe is on hosted web applications. We will go through the most common challenges when an HTML5 application built for another platform is ported to Tizen. From the subsequent two recipes, you can learn in detail the process of setting and porting hybrid (Cordova and PhoneGap) web applications to Tizen.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec324"/>Getting ready</h2></div></div></div><p>Before you start porting a web application to Tizen, take a moment and explore the existing structure and source code of your application. A good analysis at the beginning can save you a lot of time and help you solve issues easily during the porting process.</p><p>As you<a id="id929" class="indexterm"/> already know, the extension of the Tizen web application installation package is <code class="literal">wgt</code>. Different platforms have different package formats and file extensions, as detailed in the following list:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">xpi</code> for<a id="id930" class="indexterm"/> Mozilla's FirefoxOS</li><li class="listitem" style="list-style-type: disc"><code class="literal">crx</code> for <a id="id931" class="indexterm"/>Google's Chrome OS</li><li class="listitem" style="list-style-type: disc"><code class="literal">ipk</code> for <a id="id932" class="indexterm"/>webOS</li><li class="listitem" style="list-style-type: disc"><code class="literal">bar</code> for <a id="id933" class="indexterm"/>BlackBerry 10</li><li class="listitem" style="list-style-type: disc"><code class="literal">xap</code> for<a id="id934" class="indexterm"/> web applications for Windows Phone</li></ul></div><p>Each Tizen web application has two mandatory components: a configuration file and a main file (<code class="literal">index.html</code>). Optionally, an icon can be set with the recommended filename <code class="literal">icon</code><code class="literal">.</code><code class="literal">png</code> as well as the following directories:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">js</code> for string JavaScript files</li><li class="listitem" style="list-style-type: disc"><code class="literal">css</code> to store CSS files</li><li class="listitem" style="list-style-type: disc"><code class="literal">img</code> to store images</li></ul></div><p>The configurations are described in the XML file, which has to be called <code class="literal">config.xml</code>. It is possible to set custom names of all of the optional resources at the configuration file.</p><p>If you are <a id="id935" class="indexterm"/>using Cordova or PhoneGap, you should not worry because these tools will automatically generate an appropriate structure for packaging when you enable Tizen support. Otherwise, explore the structure of your existing application and locate the corresponding files. You may need to modify them manually to meet the requirements for packaging Tizen web applications.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec325"/>How to do it...</h2></div></div></div><p>The following guidelines specify the required actions to port an existing standalone web application to Tizen:</p><div><ol class="orderedlist arabic"><li class="listitem">Create a <code class="literal">config.xml</code> file and set all settings as well as any permissions that your application needs to work on Tizen devices.<div><div><h3 class="title"><a id="note46"/>Note</h3><p>If you are porting an application from Firefox OS, then <code class="literal">config.xml</code> is equivalent to <code class="literal">manifest.webapp</code>. The name of the configuration file for Chrome applications is <code class="literal">manifest.json</code>. On webOS, it is <code class="literal">appinfo.json</code>, <code class="literal">package.appxmanifest</code> on Windows Phone applications, and <code class="literal">config.xml</code> for BlackBerry WebWorks applications.</p></div></div></li><li class="listitem">If your applications communicate with a server, specify their domains in the configuration file. For example, the following setting allows the Tizen web application to access <a class="ulink" href="http://www.google.com">www.google.com</a>:<div><pre class="programlisting">&lt;access origin="<strong>http://google.com</strong>" subdomains="true"&gt;&lt;/access&gt;</pre></div><p>Although it is not highly recommended, due to security reasons, you can also allow access to any server by adding the following line:</p><div><pre class="programlisting">&lt;access origin="<strong>*</strong>" subdomains="true"&gt;&lt;/access&gt;</pre></div></li><li class="listitem">Add any permission that your application needs to use <code class="literal">config.xml</code>.</li><li class="listitem">Create an <a id="id936" class="indexterm"/>icon following the Tizen guideline for icons at <a class="ulink" href="https://developer.tizen.org/documentation/ux-guide/visual-style/icons">https://developer.tizen.org/documentation/ux-guide/visual-style/icons</a>.</li><li class="listitem">Build and run your application on the Tizen device or Emulator. Keep in mind that inconsistent behavior and bugs in the user interfaces might appear. Carefully test the application. You might need to debug and adjust the HTML, CSS, and JavaScript files.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec326"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">In general, it is highly recommended to rely only on HTML5 specifications in the platform<a id="id937" class="indexterm"/> documentation. However, in certain cases, you may find it useful, especially for hosted web applications, to compare HTML5 of different platforms and their browsers at <a class="ulink" href="http://html5test.com/">http://html5test.com/</a>.</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec102"/>Installing the PhoneGap or Cordova SDK</h1></div></div></div><p>PhoneGap and Cordova are popular tools for development of cross-platform HTML5 applications<a id="id938" class="indexterm"/> for mobile devices. The main advantage is that<a id="id939" class="indexterm"/> multiple mobile platforms are targeted with a single code base. All of the <a id="id940" class="indexterm"/>most popular mobile operating systems <a id="id941" class="indexterm"/>are supported: Android, iOS, Windows Phone, BlackBerry 10, and of course Tizen. Even older platforms that are not popular nowadays such as Symbian and webOS are supported.</p><p>Additionally, PhoneGap and Cordova allow web developers to use their existing knowledge and to develop high quality mobile applications without learning Java, Objective C, or C++.</p><p>Both Cordova and PhoneGap are open source projects. Cordova is available under Apache 2.0 License. PhoneGap is a fork of Cordova, and since 2011, it is owned and maintained by Adobe. Because of this, sometimes Cordova is referenced as an engine behind PhoneGap or as an Adobe distribution of Cordova.</p><p>The mobile applications developer with PhoneGap and Cordova are bundled as standard installation packages that are deployed on mobile devices. For example, installation files for Android have the extension <code class="literal">.apk</code> and for Tizen, it is <code class="literal">.wgt</code>.</p><p>In this recipe, you will learn how to install PhoneGap or Cordova and in the subsequent recipe, you will learn how to set up and deploy applications for Tizen.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec327"/>Getting ready</h2></div></div></div><p>Make sure that you have successfully installed Tizen SDK by following the instructions in the first chapter. Both PhoneGap and Cordova rely on its tools to build and package applications<a id="id942" class="indexterm"/> for Tizen. Also make sure that you have installed <strong>npm</strong> (Node Package Manager) before proceeding further.</p><p>If you are using Ubuntu, run the following commands to add a repository for Cordova and to ensure that the information for all repositories is up to date:</p><div><pre class="programlisting">
<strong>sudo apt-add-repository ppa:cordova-ubuntu/ppa </strong>
<strong>sudo apt-get update </strong>
<strong>sudo apt-get install cordova-cli</strong>
</pre></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec328"/>How to do it...</h2></div></div></div><p>The <a id="id943" class="indexterm"/>installation of both Cordova and PhoneGap is very simple. Open <a id="id944" class="indexterm"/>a terminal and execute the following command to install the latest version of Cordova:</p><div><pre class="programlisting">
<strong>npm install -g cordovaRun the command below to install the latest version of PhoneGap:</strong>
<strong>npm install -g phonegap</strong>
</pre></div><p>As you have probably noticed, both commands contain a parameter, <code class="literal">-g</code>. It specifies that this is a global installation.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec329"/>How it works</h2></div></div></div><p>The installation of both Cordova and PhoneGap is done through Node Package Manager, which is a software for management of Node.js packages. It is written entirely using JavaScript and the Node.js platform.</p><div><div><h3 class="title"><a id="note47"/>Note</h3><p>Node.js and npm are open source projects. Node.js is available under MIT license, but it is provided bundled with components under other open source licenses. The source code of Node Package Manager is available under the Apache License 2.0.</p></div></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec330"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The following recipes provide instructions on how to integrate PhoneGap and/or Cordova with the Tizen SDK as well as how to create and deploy applications to Tizen.</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec103"/>Creating Tizen web applications with PhoneGap or Cordova</h1></div></div></div><p>In this<a id="id945" class="indexterm"/> recipe, you will learn how to create web applications<a id="id946" class="indexterm"/> for Tizen with PhoneGap and Cordova through the Tizen IDE.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec331"/>Getting ready</h2></div></div></div><p>Make sure that you have already installed the Tizen SDK as well as Cordova or PhoneGap. Instructions on the Tizen SDK installation are available in the first chapter of the book. Tutorials for setting up Cordova and PhoneGap are provided in the previous recipe.</p><p>Version 3.5 or older of both Cordova and PhoneGap do not provide support for Tizen of the <a id="id947" class="indexterm"/>command-line-interface (CLI). Several <a id="id948" class="indexterm"/>of the provided with Cordova and PhoneGap sample applications are used as templates to create Tizen projects. Ensure that you have these samples on your computer. You can obtain their latest version from the Apache public Git server. Type the following command to clone them on your computer:</p><div><pre class="programlisting">git clone git://git.apache.org/cordova-tizen.git</pre></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec332"/>How to do it...</h2></div></div></div><p>Follow these steps to create a Cordova or PhoneGap application for Tizen using the Tizen IDE:</p><div><ol class="orderedlist arabic"><li class="listitem">Launch the Tizen IDE.</li><li class="listitem">Navigate to <strong>File | Import | Tizen Web Project</strong> and click on <strong>Next</strong>.</li><li class="listitem">Click on <strong>Browse...</strong> to browse the root directory of a sample Cordova project.</li><li class="listitem">Select <strong>Copy projects into workspace</strong>:<div><img src="img/1908OS_10_01.jpg" alt="How to do it..."/><div><p>Importing a Cordova sample application into the Tizen IDE</p></div></div></li><li class="listitem">Click on <strong>Finish</strong>.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec333"/>How it works</h2></div></div></div><p>The<a id="id949" class="indexterm"/> main purpose of projects such as <a id="id950" class="indexterm"/>Cordova and PhoneGap is to provide easy-to-use tools for development of mobile applications with the web technologies HTML, CSS, and JavaScript. Web applications are first class citizens in Tizen, so it is a very appropriate platform for Cordova and PhoneGap projects as well.</p><p>The Tizen IDE can be used directly to import, develop, debug, and deploy Cordova or PhoneGap applications. On the third step of the preceding tutorial, the sample Cordova application is used as a template. It is important to make sure that the <strong>Copy project into workspace</strong> option is checked as described in the fourth step. The IDE will duplicate the application and save it in the current workspace.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec334"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Have a look at the next recipe to learn how to deploy applications created with Cordova or PhoneGap to the Tizen device or Emulator. Have a look at the official documentation<a id="id951" class="indexterm"/> of PhoneGap for more details on Tizen applications at <a class="ulink" href="http://docs.phonegap.com/en/edge/guide_platforms_tizen_index.md.html#Tizen%2520Platform%2520Guide">http://docs.phonegap.com/en/edge/guide_platforms_tizen_index.md.html#Tizen%2520Platform%2520Guide</a>.</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec104"/>Deploying Cordova and PhoneGap applications to the Tizen device or Emulator</h1></div></div></div><p>After <a id="id952" class="indexterm"/>creating or importing a new or<a id="id953" class="indexterm"/> existing Cordova/PhoneGap application into the workspace Tizen IDE, it is time to deploy it. In this <a id="id954" class="indexterm"/>recipe, you will learn how<a id="id955" class="indexterm"/> to use the options of the Tizen IDE to deploy a Cordova or PhoneGap application to a Tizen device or Emulator.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec335"/>Getting ready</h2></div></div></div><p>My preferred way for building and deploying Cordova application on an Android device or Emulator is by typing in the console the following command:</p><div><pre class="programlisting">
<strong>Cordova run android</strong>
</pre></div><p>Unfortunately, at the time of the writing of this book, the command-line interface (CLI) was not available for Tizen in both PhoneGap and Cordova. As you can see, regarding these circumstances, the easiest way to develop and deploy Cordova or PhoneGap applications for a Tizen device or Emulator is through the user interface of the IDE.</p><p>Before you proceed, make sure that you have connected a Tizen device to your computer or you have launched a Tizen Emulator on it.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec336"/>How to do it...</h2></div></div></div><p>Follow <a id="id956" class="indexterm"/>these simple instructions <a id="id957" class="indexterm"/>to deploy and run<a id="id958" class="indexterm"/> your Cordova or <a id="id959" class="indexterm"/>PhoneGap application on a Tizen Emulator:</p><div><ol class="orderedlist arabic"><li class="listitem">Navigate to the <strong>Project Explorer</strong> view in the Tizen IDE.</li><li class="listitem">Right-click on the project.</li><li class="listitem">Navigate to <strong>Run As</strong> | <strong>Tizen Web Simulator Application</strong>.</li></ol></div><p>The process for deployment of the application on a real device is almost the same. Make sure that the Tizen device is successfully connected to the computer and perform the following actions to run the application:</p><div><ol class="orderedlist arabic"><li class="listitem">Navigate to the <strong>Project Explorer</strong> view in the Tizen IDE.</li><li class="listitem">Right-click on the right mouse button over the project.</li><li class="listitem">Navigate to <strong>Run As</strong> | <strong>Tizen Web Application</strong>.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec337"/>How it works</h2></div></div></div><p>The Tizen IDE<a id="id960" class="indexterm"/> is convenient for manual work but it might be an obstacle if you want to create continuous integration and testing of a Tizen web application created with Cordova and PhoneGap. The Tizen IDE relies on Tizen-centric tools such as SDB to deploy the application. In rare cases, when you have to deploy the application through the console instead of typing <code class="literal">cordova run</code>, use <code class="literal">sdb install</code> followed by the full name of the <code class="literal">wgt</code> file of the application.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec338"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">If you are looking for options on how to deploy a Cordova or PhoneGap application on the Tizen device and Emulator through the console, refer to the recipe about Smart Development Bridge in the first chapter of the book for more details about SDB usage.</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec105"/>Bringing Android apps to Tizen</h1></div></div></div><p>The Tizen smartphone has similar capabilities and hardware buttons as Android devices. <a id="id961" class="indexterm"/>The user interface of Tizen smartphones manufactured by Samsung is similar to TouchWiz—the frontend touch interface of the existing Samsung devices powered by Android</p><p>Android has been ruling the smartphone market for several years and millions of Android mobile applications exist. Several alternative platforms such as BlackBerry 10 and SailfishOS offer runtime for running an Android application. The same approach allows us to run Android applications on Tizen as well. The most popular solution in the Tizen ecosystem is the <strong>Application Compatibility Layer</strong> (<strong>ACL</strong>) provided by OpenMobile. In this <a id="id962" class="indexterm"/>recipe, the basic steps that are required to get started with ACL will be revealed.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec339"/>Getting ready</h2></div></div></div><p>Please prepare the <code class="literal">APK</code> (application package file) file of your Android application. Make sure that you have a valid bank account or a PayPal account if you plan to submit a paid application.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec340"/>How to do it...</h2></div></div></div><p>Follow these instructions to sign up for OpenMobile Developer Program and to port your Android applications to Tizen using their services:</p><div><ol class="orderedlist arabic"><li class="listitem">Visit the <a id="id963" class="indexterm"/>website OpenMobile and register as an AppMall content provider at <a class="ulink" href="http://www.openmobileww.com/#!content-provider-registration/cuwc">http://www.openmobileww.com/#!content-provider-registration/cuwc</a>.</li><li class="listitem">You will receive an e-mail with your username and password within 24 hours.</li><li class="listitem">After receiving the e-mail, log in to <a class="ulink" href="http://manager.openmobileappmall.com">http://manager.openmobileappmall.com</a>.</li><li class="listitem">Click on the <strong>Profile</strong> form and enter your preferred payment methods. Payments through PayPal and wire transfer are supported.</li><li class="listitem">Go to <strong>My Apps</strong> and click on <strong>Add App</strong>:<div><img src="img/1908OS_10_02.jpg" alt="How to do it..."/><div><p>Add new application to OpenMobile AppMall</p></div></div></li><li class="listitem">Fill all the details in the <strong>Overview</strong> tab.</li><li class="listitem">Go to the tab <strong>Version / Files</strong> and upload your Android application:<div><img src="img/1908OS_10_03.jpg" alt="How to do it..."/><div><p>Uploading the APK file</p></div></div></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec341"/>How it works</h2></div></div></div><p>The <a id="id964" class="indexterm"/>Application Compatibility Layer of OpenMobile<a id="id965" class="indexterm"/> is based on Google's <strong>Android Open Source Project</strong> (<strong>AOSP</strong>). Based on this, the ACL integrates the graphical stacks, the <a id="id966" class="indexterm"/>media, the <strong>Inter-Process Communication</strong> (<strong>IPC</strong>) and notifications of Android applications with Tizen. Using ACL, <a id="id967" class="indexterm"/>Android applications can be launched from the Tizen desktop just like any other Tizen web or native application. Just like all other applications, the Android applications on Tizen are also shown in the Task Manager of the operating system.</p><p>OpenMobile will convert your <code class="literal">apk</code> to <code class="literal">tpk</code>, validate, and publish it to Tizen Store. OpenMobile will also sign <code class="literal">tpk</code> and handles the whole administration of the application at Tizen Store Seller Office. Application download reports as well as revenues will be shared with the developer regularly.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec342"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">More <a id="id968" class="indexterm"/>information and details regarding the terms of use of OpenMobile are available at <a class="ulink" href="http://www.openmobileww.com/">http://www.openmobileww.com/</a>.</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec106"/>Porting an Android UI to Tizen UI Framework</h1></div></div></div><p>The<a id="id969" class="indexterm"/> information provided in this recipe<a id="id970" class="indexterm"/> will be useful if you decide to port an Android application to a Tizen web application. Pay attention that a lot of development will be required because you will have to rewrite from scratch your Java code to HTML5 and JavaScript. This chapter provides an overview and comparison of Android and Tizen widgets. It should be a good starting point for developers who intend to port Android applications.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec343"/>How to do it...</h2></div></div></div><p>The complete port of an application developed with Android SDK to HTML5 requires a lot of work and the following actions must be performed:</p><div><ol class="orderedlist arabic"><li class="listitem">Completely rewrite the user interface using HTML5.</li><li class="listitem">Port the existing Java source code to JavaScript.</li></ol></div><p>Build and debug the application on the Tizen device or Emulator. The following is a list of the most popular Android UI components from the Java package <code class="literal">android.widget</code> and brief instructions on how to replace them in a Tizen web application, which relies on Tizen Web UI Framework:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">Button</code>: Tizen <a id="id971" class="indexterm"/>Web UI Framework offers a widget with the same name and behavior. There are several ways to create it. Here is an approach using the <code class="literal">a</code> element and <code class="literal">data-role="button"</code>:<div><pre class="programlisting">&lt;a id="myBtn" href="#" data-role="button"&gt;Button 1&lt;/a&gt;</pre></div></li><li class="listitem" style="list-style-type: disc"><code class="literal">EditText</code>: This is an editable text field. In Tizen web applications, the same user <a id="id972" class="indexterm"/>experience for gathering information from the user can be achieved using text inputs, for example:<div><pre class="programlisting">&lt;div data-role="fieldcontain"&gt;
  &lt;label for="name"&gt;Text:&lt;/label&gt;
  <strong>&lt;input type="text" name="txt" id="txt" value=""  /&gt;</strong>
&lt;/div&gt;</pre></div></li><li class="listitem" style="list-style-type: disc"><code class="literal">CheckBox</code>: Both <a id="id973" class="indexterm"/>the Tizen UI framework and jQuery Mobile offer a component <code class="literal">Checkbox</code>, which allows to replace the Android component in an HTML5 application.</li><li class="listitem" style="list-style-type: disc"><code class="literal">ToggleButton</code>: This type of button allows the user to quickly change a setting from one state to another. Notice that only two states are allowed. Tizen <a id="id974" class="indexterm"/>Web UI Framework <a id="id975" class="indexterm"/>offers the same <a id="id976" class="indexterm"/>feature at the component Flip Toggle Switch. It can be created as shown in the following code snippet:<div><pre class="programlisting">&lt;select id="SwitchBtn" data-role="slider"&gt;
  &lt;option value="off"&gt;Off&lt;/option&gt;
  &lt;option value="on"&gt;On&lt;/option&gt;
&lt;/select&gt;</pre></div></li><li class="listitem" style="list-style-type: disc"><code class="literal">Spinner</code>: This<a id="id977" class="indexterm"/> Java class provides a component for quick selection of a value from a list in Android. In an HTML5 application, it can be replaced with a <code class="literal">select</code> component with multiple options.</li><li class="listitem" style="list-style-type: disc"><code class="literal">DatePicker</code> and <code class="literal">TimePicker</code>: Tizen Web UI Framework offers the following <a id="id978" class="indexterm"/>widgets for gathering user input <a id="id979" class="indexterm"/>about date and time: Date Picker, Time Picker, and Date Time Picker. For example, a Tizen widget for date selection can be achieved with the following HTML:<div><pre class="programlisting">&lt;div&gt;
  &lt;input type="date" name="datePicker" id="datePicker" data-format="dd MMM yyyy" /&gt;
&lt;/div&gt;</pre></div><div><img src="img/1908OS_10_04.jpg" alt="How to do it..."/><div><p>A sample Tizen web application with date picker</p></div></div></li><li class="listitem" style="list-style-type: disc"><code class="literal">Toast</code>: In <a id="id980" class="indexterm"/>Android, this component<a id="id981" class="indexterm"/> is used to show <a id="id982" class="indexterm"/>messages to the user in a small pop up, which does not require any interaction. In Tizen web applications, it can be replaced by the <code class="literal">Notification</code> widget.</li><li class="listitem" style="list-style-type: disc"><code class="literal">AlertDialog</code>: This pop up widget should be used in Tizen web applications as a <a id="id983" class="indexterm"/>replacement of the <code class="literal">AlertDialog</code> in Android. Use a <code class="literal">div</code> element with the attribute <code class="literal">data-role="popup"</code> to create it.</li></ul></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec344"/>How it works</h2></div></div></div><p>After creating the user interface with HTML, you will need to rewrite the logic of the application. The following is a comparison between a Java code snippet for handling button<a id="id984" class="indexterm"/> clicks in an Android application <a id="id985" class="indexterm"/>and a JavaScript code for the same use case in Tizen web applications.</p><p>The sample Java source code from Android applications handles button clicks with the ID <code class="literal">myBtn</code>:</p><div><pre class="programlisting">final Button button = (Button) findViewById(R.id.myBtn);
button.setOnClickListener(new View.OnClickListener() {
  public void onClick(View v) {
    //do something
  }
});</pre></div><p>The following JavaScript code handles the <code class="literal">click</code> event of a button with the ID <code class="literal">myBtn</code>:</p><div><pre class="programlisting">$('#myBtn').bind( "click", function(event, ui) {
  //do something
});</pre></div><p>As you can see, the concept is the same but there are major differences in the syntax because of the nature of the Java and JavaScript programming languages. In both cases, the button has ID myBtn and from a user's perspective, a click on it in the Tizen web application will work just like the one in the Android application.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec345"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Refer to <a class="link" href="ch03.html" title="Chapter 3. Building a UI">Chapter 3</a>, <em>Building a UI</em>, as well as the official Tizen documentation to explore the widgets provided by Tizen Web UI Framework. A list of all available widgets is available at <a class="ulink" href="https://developer.tizen.org/dev-guide/2.2.1/org.tizen.web.uiwidget.apireference/html/widgets/widget_reference.htm">https://developer.tizen.org/dev-guide/2.2.1/org.tizen.web.uiwidget.apireference/html/widgets/widget_reference.htm</a>.</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec107"/>Setting Qt for Tizen</h1></div></div></div><p>
<strong>Qt</strong> is a <a id="id986" class="indexterm"/>popular cross-platform framework for development of applications, primarily fascinating graphical user interfaces. The main programming languages <a id="id987" class="indexterm"/>are C++ and QML but other programming languages such as Python can also be used through language bindings.</p><p>The Qt project has a long story. Its development started in 1991 in Sweden and until 2008, the framework was developed by Trolltech. After that, Nokia bought Qt. Initially, Qt was available under commercial and GPL licenses. In 2009, Qt also became available under LGPL. Two years later, Nokia sold the commercial licensing business with Qt to Digia.</p><p>The latest<a id="id988" class="indexterm"/> major version of the project is Qt 5 and it was released at the end of 2012. A year later, Tomasz Olszak and Jarosław Staniek founded an open source project for porting Qt 5 to Tizen. I am proud that Philippe Coval, who is a reviewer of this book, and, I were among the first contributors of the project and we were able to help the leading developer of the project, Tomasz Olszak, with the testing of Qt for Tizen on different reference devices and code reviews.</p><p>In this recipe, you will learn how to install and configure the development environment to build Qt applications for Tizen mobile devices.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec346"/>Getting ready</h2></div></div></div><p>The tutorial provided in this recipe has been tested only on Ubuntu. Ensure that you have fulfilled the following four requirements before proceeding with the next section of the recipe.</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Ensure that you have successfully installed Tizen SDK. The process for setting up Qt for Tizen requires Qt to be built from source and to install Qt Creator so please make sure that you have at least 5 GB free disk space.</li><li class="listitem" style="list-style-type: disc">Run <code class="literal">apt-get</code> and make sure that the packages from the following long list are installed because they are needed to build Qt:<div><pre class="programlisting">sudo apt-get install perl python git build-essential libqt4-dev "^libxcb.*" libx11-xcb-dev libxkbcommon-dev libglu1-mesa-dev libxrender-dev libdbus-1-dev libfontconfig1-dev libfreetype6-dev libatspi2.0-dev flex bison gperf libicu-dev libcups2-dev libxslt-dev ruby libsqlite3-dev libgstreamer0.10-dev libgstreamer-plugins-base0.10-dev libssl-dev libpulse-dev libasound2-dev libgtk2.0-dev libpng12-dev libjpeg8-dev libjpeg-dev chrpath</pre></div></li><li class="listitem" style="list-style-type: disc">Install GBS. The first step you should do is to add a Tizen repository that corresponds to your distribution to <code class="literal">/etc/apt/sources.list</code>. After that, run the following commands:<div><pre class="programlisting">sudo apt-get update
sudo apt-get install gbs</pre></div><div><div><h3 class="title"><a id="note48"/>Note</h3><p>An<a id="id989" class="indexterm"/> up-to-date installation guide for Tizen development tools is available at <a class="ulink" href="https://source.tizen.org/documentation/developer-guide/getting-started-guide/installing-development-tools">https://source.tizen.org/documentation/developer-guide/getting-started-guide/installing-development-tools</a>.</p></div></div></li><li class="listitem" style="list-style-type: disc">Make sure that you have a valid author certificate. Please refer to the recipe <em>Setting Active Secure Profile</em> from the first chapter for more details.</li></ul></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec347"/>How to do it...</h2></div></div></div><p>The following instructions explain how to install Tizen development tools, build Qt from source, install Qt Creator, and to set up the Tizen plugin for it.</p><div><ol class="orderedlist arabic"><li class="listitem">Create a<a id="id990" class="indexterm"/> directory to store the source code of Qt.</li><li class="listitem">Download<a id="id991" class="indexterm"/> the source code to your computer by cloning it from the Git repository of the project:<div><pre class="programlisting">git clone -b alpha6 git://gitorious.org/tizenbuildtools/tizenbuildtools.git
cd tizenbuildtools
git checkout v_alpha6.2</pre></div></li><li class="listitem">Go to the desktop directory and build Qt:<div><pre class="programlisting">cd desktop
MAKE_THREADS=<strong>4</strong> ./downloadAndBuildAll.sh</pre></div><div><div><h3 class="title"><a id="note49"/>Note</h3><p>Replace the number of threads with a number that matches the count of cores of the processor.</p><p>Alternatively, you can include the following commands, which will retrieve the number of cores automatically:</p><p>
<code class="literal">MAX_THREAD=$(grep 'Core' /proc/cpuinfo | wc -l ) ./downloadAndBuildAll.sh</code>
</p></div></div></li><li class="listitem">Go to the <code class="literal">emulator</code> directory and prepare the emulator of Qt for Tizen:<div><pre class="programlisting">cd ../emulator
./prepare_developer_tools.sh</pre></div></li><li class="listitem">Change the current directory again but this time to directory mobile. Prepare Qt to make Tizen run on devices:<div><pre class="programlisting">cd ../mobile
./prepare_developer_tools.sh</pre></div></li><li class="listitem">Visit <a class="ulink" href="http://qt-project.org/downloads#qt-creator">http://qt-project.org/downloads#qt-creator</a> and download Qt Creator.</li><li class="listitem">Install <a id="id992" class="indexterm"/>Qt Creator. On Linux, the installation can be started through the command line using the following command:<div><pre class="programlisting">chmod u+x ./qt-creator-linux-...run
./qt-creator-linux-...run</pre></div></li><li class="listitem">Build the Tizen plugin for Qt Creator:<div><pre class="programlisting">cd ../qtcreator
export PATH=$HOME/dev/src/tizenbuildtools/desktop/qt5hostInstall/bin:$PATH
QTC_BUILD=$HOME/qtcreator-3.0.1 ./build_and_deploy_tizen_plugin.sh</pre></div></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec348"/>There's more...</h2></div></div></div><p>Follow<a id="id993" class="indexterm"/> these steps to integrate the Tizen SDK into Qt Creator:</p><div><ol class="orderedlist arabic"><li class="listitem">Launch Tizen <strong>Emulator Manager</strong>.</li><li class="listitem">Launch <a id="id994" class="indexterm"/>Qt Creator.</li><li class="listitem">Navigate to <strong>Tools</strong> | <strong>Options</strong>.</li><li class="listitem">Select <strong>Tizen</strong>.</li><li class="listitem">Navigate to <strong>Tizen SDK Path</strong>, click on <strong>Browse</strong> to find Tizen SDK installation directory, and after that click on <strong>OK</strong>.</li><li class="listitem">Navigate to <strong>Author certificate</strong> and again click on <strong>Browse</strong> to select a certificate. The default path for storing author certificates on Linux is <code class="literal">$HOME/tizen-sdk-data/keystore/author/</code>.</li><li class="listitem">Type in the password of the certificate.</li></ol></div><p>You are almost done. Now, you have to configure the Tizen Emulator for Qt Creator:</p><div><ol class="orderedlist arabic"><li class="listitem">Go to <strong>Devices</strong> from the <strong>Options</strong> dialog and select <strong>tizen</strong>.</li><li class="listitem">Type the name that will help you in future to easily distinguish that this is Tizen Emulator.</li><li class="listitem">From <strong>Options</strong>, go to <strong>Build &amp; Run</strong>, select the tab <strong>Qt Versions</strong> and click on <strong>Add</strong>.</li><li class="listitem">Choose <strong>qmake</strong> for Tizen Emulator builds and click on <strong>Apply</strong>. By default, the path should be <code class="literal">$HOME/dev/src/tizenbuildtools/emulator/qt5CrossCompileTools/bin/qmake</code>.</li><li class="listitem">Go to the tab <strong>Kits</strong>, click on <strong>Add</strong>, and type the appropriate name, for example, <code class="literal">Tizen Emulator</code>.</li><li class="listitem">Click on <strong>Add</strong>.</li><li class="listitem">Select <strong>Tizen Device</strong> as a <strong>Device type</strong>, <strong>Tizen GCC (x86)</strong> for the <strong>Compiler</strong>, and the Qt version for Emulator in the <strong>Qt Version</strong> field.</li><li class="listitem">Click on <strong>Apply</strong>.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec349"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <a id="id995" class="indexterm"/>development of Qt for Tizen is entirely transparent. To get in contact with Tomasz, Jarosław or any other contributor, please use the communication channels described at <a class="ulink" href="http://qt-project.org/wiki/Tizen">http://qt-project.org/wiki/Tizen</a>.</li><li class="listitem" style="list-style-type: disc">For more <a id="id996" class="indexterm"/>information on building Qt for Tizen, refer to the latest version of the official guidelines at Qt's wiki <a class="ulink" href="http://qt-project.org/wiki/Build-Qt-for-Tizen">http://qt-project.org/wiki/Build-Qt-for-Tizen</a>.</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec108"/>Deploying Qt applications on Tizen</h1></div></div></div><p>This recipe <a id="id997" class="indexterm"/>will explain how to prepare, build, and deploy Qt application on Tizen Emulator or devices.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec350"/>Getting ready</h2></div></div></div><p>Before you start, ensure that you have successfully set up Qt for Tizen on your computer. As we already discussed at the beginning of the book for Tizen, smartphones support both native applications created with C++ and extension <code class="literal">.tpk</code>, as well as web applications with extension <code class="literal">.wgt</code>. Qt is a framework based on C++, so the port for Tizen relies on the tools for <code class="literal">.tpk</code> files.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec351"/>How to do it...</h2></div></div></div><p>Follow these step-by-step instructions to develop new or port existing Qt applications to Tizen using Qt Creator:</p><div><ol class="orderedlist arabic"><li class="listitem">Create a directory with the name <code class="literal">tizen</code> in the project of your Qt application.</li><li class="listitem">Copy <code class="literal">manifest.xml</code> from the <code class="literal">helloworld</code> project, which is provided with <code class="literal">qtquickcontrols-tizen</code> to the directory that you have created in the previous step.</li><li class="listitem">Edit <code class="literal">manifest.xml</code> and set the application ID in it.</li><li class="listitem">Open the <code class="literal">.pro</code> file of the application and enable Tizen support by adding the following rules:<div><pre class="programlisting">tizen {
  tizen_shared.files = shared/res
  CONFIG += TIZEN_STANDALONE_PACKAGE
  TIZEN_BUNDLED_QT_LIBS=Qt5Core Qt5DBus Qt5Qml Qt5Quick Qt5Widgets Qt5Gui Qt5Network
  load(tizen_app)
}</pre></div></li><li class="listitem">Open <code class="literal">main.cpp</code> and implement the following source code for the method <code class="literal">OspMain()</code>, which is the entry point for Tizen native applications:<div><pre class="programlisting">extern "C" int OspMain(int argc, char *argv[]) {
  return main(argc, argv);
}</pre></div><div><div><h3 class="title"><a id="note50"/>Note</h3><p>This recipe has been tested on the Tizen mobile profile. It will not work on Tizen IVI and other profiles on which native application development is not present.</p></div></div></li><li class="listitem">Build<a id="id998" class="indexterm"/> the application and deploy it to Tizen Emulator or device through Qt Creator.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec352"/>How it works</h2></div></div></div><p>The <code class="literal">helloworld</code> application provided with <code class="literal">qtquickcontrols-tizen</code> is used as a template. Actually, the first step of this recipe is almost the same as the first step for creating Tizen applications with Cordova or PhoneGap. Although these technologies create web applications, the first step for them is to import and use a sample application as a template.</p><p>The second and the third steps are dedicated to <code class="literal">manifest.xml</code>. This is a configuration file. Each Tizen native application must have just a single manifest file that must comply with the XML standard.</p><p>The next step is again dedicated to editing the configuration file. The <code class="literal">.pro</code> extension is specific for the project files of Qt applications. This file must contain all the information required by <strong>qmake</strong>
<a id="id999" class="indexterm"/> to build the application.</p><p>In the fifth step, the method that acts as an entry point of Tizen native applications is instructed to run the main method of the Qt application. All arguments provided to <code class="literal">OspMain()</code> are provided to <code class="literal">main()</code>. The prefix of <code class="literal">OspMain()</code> stands for Open Service Platform and its origins lead to Bada that was merged into Tizen 2.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec353"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Tomasz Olszak, the co-founder and the leading developer of Qt for Tizen, maintains an article at Qt wiki about development of Qt applications for Tizen. For more information, visit <a class="ulink" href="http://qt-project.org/wiki/Creating-Hello-World-Application">http://qt-project.org/wiki/Creating-Hello-World-Application</a>.</li><li class="listitem" style="list-style-type: disc">Tutorials <a id="id1000" class="indexterm"/>and documentation related to Qt 5 are available at <a class="ulink" href="http://qt-project.org/">http://qt-project.org/</a>.</li><li class="listitem" style="list-style-type: disc">A good starting point if you are not familiar with QML is <a class="ulink" href="http://qt-project.org/doc/qt-5/qml-tutorial.html">http://qt-project.org/doc/qt-5/qml-tutorial.html</a>.</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch11"/>Chapter 11. Debugging Apps in Tizen</h1></div></div></div><p>In this chapter, we will cover the following topics:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Running an application in Tizen Web Simulator</li><li class="listitem" style="list-style-type: disc">Running an application in Tizen Emulator</li><li class="listitem" style="list-style-type: disc">Running an application on a device</li><li class="listitem" style="list-style-type: disc">Debugging in Tizen Web Simulator</li><li class="listitem" style="list-style-type: disc">Debugging in Tizen Emulator</li><li class="listitem" style="list-style-type: disc">Debugging on a device</li><li class="listitem" style="list-style-type: disc">Using Samsung Remote Test Lab</li><li class="listitem" style="list-style-type: disc">Tracking JavaScript bugs</li><li class="listitem" style="list-style-type: disc">Unit testing with QUnit</li></ul></div><div><div><div><div><h1 class="title"><a id="ch11lvl1sec109"/>Introduction</h1></div></div></div><p>Quality assurance is among the most important processes during the development of an application because it ensures less issues and better user experience for end users. A lot of great mobile applications have failed to achieve commercial success due to bugs. Even if an application has a great user interface and offers good user experience, it is not enough to be sure that it will be successful.</p><p>In general, users have low tolerance to bugs. A user might never open your application again if it has crashed just once.</p><p>The recipes in this chapter bring ideas and tutorials on how to test applications and to provide good quality. In this chapter, you will learn about how to run and debug Tizen applications, as well as exploring JavaScript unit testing of web applications.</p><p>This chapter also includes a recipe <a id="id1001" class="indexterm"/>on Samsung <strong>Remote Test Lab</strong> (<strong>RTL</strong>) with a tutorial on how to deploy and test applications on physical Tizen devices located remotely. Although there is no separate recipe for Selenium, you might consider using this tool for functional and user acceptance testing of web applications compatible with Tizen. To get <a id="id1002" class="indexterm"/>started with it, please visit <a class="ulink" href="http://www.seleniumhq.org/">http://www.seleniumhq.org/</a>.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch11lvl1sec110"/>Running an application in Tizen Web Simulator</h1></div></div></div><p>You should be already<a id="id1003" class="indexterm"/> familiar with Tizen Web Simulator for web applications, which was revealed in the first chapter of this book. In this recipe, you<a id="id1004" class="indexterm"/> will learn in detail how to use it.</p><div><div><div><div><h2 class="title"><a id="ch11lvl2sec354"/>Getting ready</h2></div></div></div><p>A Tizen web application can be launched in the simulator from the Tizen IDE. All you have to do has been explained in the first chapter of the book, but it is summarized here:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Select the project in the <strong>Project Explorer</strong> view. Right-click on the project to activate the context menu and navigate to <strong>Run As</strong> | <strong>Tizen Web Simulator Application</strong>.</li><li class="listitem" style="list-style-type: disc">Go to the <strong>Run</strong> menu of the Tizen IDE and navigate to <strong>Run As</strong> | <strong>Tizen Web Simulator Application</strong>.</li><li class="listitem" style="list-style-type: disc">Alternatively, just click on the <strong>Run</strong> button from the toolbar of the Tizen IDE.</li></ul></div></div><div><div><div><div><h2 class="title"><a id="ch11lvl2sec355"/>How to do it...</h2></div></div></div><p>It is possible to configure the device information and the system settings of the simulator. Follow these instructions to<a id="id1005" class="indexterm"/> configure the Simulator:</p><div><ol class="orderedlist arabic"><li class="listitem">Launch the Simulator using any of the three available options.</li><li class="listitem">Click on the <strong>Configuration</strong> button in the right-upper corner of the Simulator.</li><li class="listitem">Adjust the device, system, and network settings, as shown in the following screenshot:<div><img src="img/1908OS_11_01.jpg" alt="How to do it..."/><div><p>Configuration settings of Tizen Web Simulator</p></div></div></li></ol></div><p>Furthermore, you can<a id="id1006" class="indexterm"/> adjust the visible panels by clicking on the <strong>Panel Settings</strong> button that is located next to the <strong>Configuration</strong> button.</p></div><div><div><div><div><h2 class="title"><a id="ch11lvl2sec356"/>There's more</h2></div></div></div><p>Tizen Web Simulator offers<a id="id1007" class="indexterm"/> numerous panels to simulate various events. These are the available panels listed in their order of appearance in the simulator:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Orientation and zooming</strong>: This panel <a id="id1008" class="indexterm"/>allows you to change the orientation of the simulator from portrait to landscape and vice versa. As an additional feature, you can adjust the zoom level from the same panel.</li><li class="listitem" style="list-style-type: disc"><strong>System summary</strong>: This panel<a id="id1009" class="indexterm"/> provides basic information about the system and the application.</li><li class="listitem" style="list-style-type: disc"><strong>Notification</strong>: A list of the received <a id="id1010" class="indexterm"/>notifications is available in this panel.</li><li class="listitem" style="list-style-type: disc"><strong>Sensors</strong>: This panel is extremely <a id="id1011" class="indexterm"/>valuable for the simulation of events related to the accelerometer and the gyroscope. It offers options for the adjustment of the position of the device as well as to the simulator.</li><li class="listitem" style="list-style-type: disc"><strong>Geolocation</strong>: This panel is used for setting the current time zone, location, and routes. It is useful for <a id="id1012" class="indexterm"/>testing location-based Tizen web applications without a real GPS device in the simulator.</li><li class="listitem" style="list-style-type: disc"><strong>Application configuration</strong>: This panel<a id="id1013" class="indexterm"/> shows information regarding the application configuration and its installation package. Basically, it displays the content of the <code class="literal">config.xml</code> file.</li><li class="listitem" style="list-style-type: disc"><strong>Communications</strong>: From this<a id="id1014" class="indexterm"/> panel, the developer can simulate the handling of calls and messages as well as reception of push notifications.</li><li class="listitem" style="list-style-type: disc"><strong>Power manager</strong>: This panel changes<a id="id1015" class="indexterm"/> the battery level and simulates low battery.</li><li class="listitem" style="list-style-type: disc"><strong>Network management</strong>: This panel<a id="id1016" class="indexterm"/> controls the network units of the simulator: NFC, Bluetooth, Wi-Fi, and cellular <a id="id1017" class="indexterm"/>network.</li><li class="listitem" style="list-style-type: disc"><strong>Download</strong>: This panel manages the<a id="id1018" class="indexterm"/> download resources of the simulator.</li><li class="listitem" style="list-style-type: disc"><strong>Packages and applications</strong>: This panel shows the list<a id="id1019" class="indexterm"/> of installed packages and applications on the simulator. Furthermore, this panel provides<a id="id1020" class="indexterm"/> the capability to delete the installed package or application.</li></ul></div></div><div><div><div><div><h2 class="title"><a id="ch11lvl2sec357"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Specifications of all available features of the <a id="id1021" class="indexterm"/>simulator can be<a id="id1022" class="indexterm"/> found at <a class="ulink" href="https://developer.tizen.org/dev-guide/2.2.1/org.tizen.web.appprogramming/html/ide_sdk_tools/simulator_features.htm">https://developer.tizen.org/dev-guide/2.2.1/org.tizen.web.appprogramming/html/ide_sdk_tools/simulator_features.htm</a>.</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch11lvl1sec111"/>Running an application in Tizen Emulator</h1></div></div></div><p>Using this recipe, you will<a id="id1023" class="indexterm"/> recall how to launch Tizen Emulator <a id="id1024" class="indexterm"/>and you will learn how to run applications and to simulate events using <strong>Event Injector</strong>.</p><div><div><div><div><h2 class="title"><a id="ch11lvl2sec358"/>How to do it...</h2></div></div></div><p>A couple of options are available to start Tizen Emulator. Both of them have already been presented in the first chapter of the book with instructions on how to create a virtual Tizen device. Before you proceed, make sure that you have already set a virtual machine.</p><p>The easiest way to start Tizen Emulator from a user's point of view is using the Emulator Manager. The following is a quick recap of the required actions:</p><div><ol class="orderedlist arabic"><li class="listitem">Start the application Tizen Emulator, which comes with the installation of the Tizen SDK.</li><li class="listitem">Select the desired configuration and click on the <strong>Play</strong> button to launch it.</li></ol></div><p>An alternative option for launching Tizen Emulator is to type the following command in the terminal:</p><div><pre class="programlisting">./emulator-x86 --skin-args &lt;skin options&gt; --qemu-args &lt;QEMU options&gt;</pre></div><p>Once the emulator is running, you can install and launch the Tizen application in it directly from the Tizen IDE. There are three ways to do this. Pick the one that suits you the best:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Go to <strong>Project Explorer</strong> view, open a project, right-click on it, and navigate to <strong>Run As | Tizen Web Application</strong></li><li class="listitem" style="list-style-type: disc">Navigate to the <strong>Run</strong> menu in the Tizen IDE and navigate to <strong>Run As</strong> | <strong>Tizen Web Application</strong></li><li class="listitem" style="list-style-type: disc">Click on the <strong>Run</strong> button in the toolbar of the Tizen IDE</li></ul></div><p>While your application is running on the emulator, you can simulate various events to test it using Event Injector. The following events can be created and sent to the emulator through the Event Injector view in the Tizen IDE or through the console:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Sensor</strong>: This event indicates<a id="id1025" class="indexterm"/> values related to any of the following sensors: acceleration, magnetic, gyro, proximity, or light.</li><li class="listitem" style="list-style-type: disc"><strong>Motion</strong>: This event simulates<a id="id1026" class="indexterm"/> motion events such as shake.</li><li class="listitem" style="list-style-type: disc"><strong>Battery</strong>: This event<a id="id1027" class="indexterm"/> adjusts the current battery level as well as the state of the charger.</li><li class="listitem" style="list-style-type: disc"><strong>Earjack</strong>: This event <a id="id1028" class="indexterm"/>controls the state of the headset.</li><li class="listitem" style="list-style-type: disc"><strong>USB</strong>: This event manages the state <a id="id1029" class="indexterm"/>of the USB connector of the virtual device.</li><li class="listitem" style="list-style-type: disc"><strong>RSSI (Received signal strength indication)</strong>: This event simulates different signal strength. Note that if you <a id="id1030" class="indexterm"/>set the RSSI to <code class="literal">0</code>, then the events for text messaging and calls will not work.</li><li class="listitem" style="list-style-type: disc"><strong>SD card</strong>: This event sets the state<a id="id1031" class="indexterm"/> of the indicator for the SD card.</li><li class="listitem" style="list-style-type: disc"><strong>Location</strong>: This event<a id="id1032" class="indexterm"/> simulates a fake position of the device for testing purposes.</li><li class="listitem" style="list-style-type: disc"><strong>SMS</strong>: This event<a id="id1033" class="indexterm"/> simulates sending text messages.</li><li class="listitem" style="list-style-type: disc"><strong>Call</strong>: This event handles<a id="id1034" class="indexterm"/> simulated calls.</li><li class="listitem" style="list-style-type: disc"><strong>NFC</strong>: This event manages NFC tags, for <a id="id1035" class="indexterm"/>example, NDEF messages, NFC tags, and so on.</li></ul></div></div><div><div><div><div><h2 class="title"><a id="ch11lvl2sec359"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The official documentation<a id="id1036" class="indexterm"/> shipped with the SDK<a id="id1037" class="indexterm"/> reveals all the capabilities of the <a id="id1038" class="indexterm"/>Event Injector at <a class="ulink" href="https://developer.tizen.org/dev-guide/2.2.1/org.tizen.gettingstarted/html/dev_env/event_injec.htm">https://developer.tizen.org/dev-guide/2.2.1/org.tizen.gettingstarted/html/dev_env/event_injec.htm</a>.</li><li class="listitem" style="list-style-type: disc">It is also possible<a id="id1039" class="indexterm"/> to inject events through the console. This feature is extremely valuable for scripts used in automated testing. A user's guide of this console tool is available at <a class="ulink" href="https://developer.tizen.org/dev-guide/2.2.1/org.tizen.gettingstarted/html/dev_env/using_event_injector.htm">https://developer.tizen.org/dev-guide/2.2.1/org.tizen.gettingstarted/html/dev_env/using_event_injector.htm</a>.</li><li class="listitem" style="list-style-type: disc">Of course, the official documentation offers basic instructions for running application on the emulator at <a class="ulink" href="https://developer.tizen.org/dev-guide/2.2.1/org.tizen.web.appprogramming/html/app_dev_process/running_widget_emulator.htm">https://developer.tizen.org/dev-guide/2.2.1/org.tizen.web.appprogramming/html/app_dev_process/running_widget_emulator.htm</a>.</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch11lvl1sec112"/>Running an application on a device</h1></div></div></div><p>In the <a id="id1040" class="indexterm"/>previous chapters <a id="id1041" class="indexterm"/>of the book, we have already discussed SDB and how applications can be run on an emulator or devices. The purpose of this recipe is to consolidate this knowledge.</p><div><div><div><div><h2 class="title"><a id="ch11lvl2sec360"/>Getting ready</h2></div></div></div><p>Perform the following actions to set the run configuration of a connected device:</p><div><ol class="orderedlist arabic"><li class="listitem">Make sure that the<a id="id1042" class="indexterm"/> Tizen device is successfully connected to the computer and that it is recognized in the <strong>Connection Explorer</strong> of the Tizen IDE.</li><li class="listitem">Adjust the configurations before the<a id="id1043" class="indexterm"/> first start of the application using any of the following approaches:<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Navigate to <strong>Run</strong> | <strong>Run Configurations</strong> from the main menu of the Tizen IDE.</li><li class="listitem" style="list-style-type: disc">Locate the project in the <strong>Project Explorer</strong> view. Right-click on the project and from the context menu and navigate to <strong>Run As</strong> | <strong>Run Configurations</strong>.</li></ul></div></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch11lvl2sec361"/>How to do it...</h2></div></div></div><p>Make sure that you have adjusted the run configuration and used any of the following methods to run the application on a connected Tizen device:</p><div><ol class="orderedlist arabic"><li class="listitem">Navigate to the <strong>Project Explorer</strong> view, mark the project, and right-click on it. A context menu will appear. Select <strong>Run As</strong> | <strong>Tizen Web Application</strong>.</li><li class="listitem">In the Tizen IDE menu, go to <strong>Run</strong> | <strong>Run As</strong> | <strong>Tizen Web Application</strong>.</li><li class="listitem">Click on the <strong>Run</strong> button from the toolbar of the Tizen IDE.</li></ol></div><p>No matter which method you choose, you will get the same result. Use the method that suits you best.</p></div><div><div><div><div><h2 class="title"><a id="ch11lvl2sec362"/>How it works</h2></div></div></div><p>The algorithm for running an application on a Tizen device includes five major steps. The first step is to build the application. After that, it must be packaged as<code class="literal"> .wgt</code> if it is a web application, or<code class="literal"> .tpk</code> if it is a native application. In the third step, the package is transferred to the connected device. The next step is to install the package and finally to launch the application on the device.</p></div><div><div><div><div><h2 class="title"><a id="ch11lvl2sec363"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Complete guidelines for connecting a Tizen device and running an application through the Tizen IDE on it are available as part of the <a id="id1044" class="indexterm"/>official documentation of the SDK at <a class="ulink" href="https://developer.tizen.org/dev-guide/2.2.1/org.tizen.web.appprogramming/html/app_dev_process/running_widget_target.htm">https://developer.tizen.org/dev-guide/2.2.1/org.tizen.web.appprogramming/html/app_dev_process/running_widget_target.htm</a>.</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch11lvl1sec113"/>Debugging in Tizen Web Simulator</h1></div></div></div><p>This recipe offers<a id="id1045" class="indexterm"/> guidelines on how to run and debug a Tizen web application using the Web Simulator and its web inspector.</p><div><div><div><div><h2 class="title"><a id="ch11lvl2sec364"/>How to do it...</h2></div></div></div><p>Follow these instructions to run a Tizen web application in the Web Simulator and to debug it:</p><div><ol class="orderedlist arabic"><li class="listitem">Launch the application in the simulator following any of the methods described in the recipe <em>Running an application in the simulator</em>.</li><li class="listitem">Hit <em>F12</em> to open the Web Inspector.</li><li class="listitem">Click on <strong>Console</strong> to have a look at the log messages.</li><li class="listitem">Click on <strong>Sources</strong>, select some JavaScript, and set and control the breakpoints for debugging of the application.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch11lvl2sec365"/>How it works</h2></div></div></div><p>Tizen Web Simulator works in a Google Chrome browser. When you start it from Tizen IDE, it automatically launches a new Chrome window and loads a local URL in it. All debugging tools of Chrome are available in the simulator.</p></div><div><div><div><div><h2 class="title"><a id="ch11lvl2sec366"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">For more information about the simulator<a id="id1046" class="indexterm"/> and its usage, visit <a class="ulink" href="https://developer.tizen.org/dev-guide/2.2.1/org.tizen.web.appprogramming/html/app_dev_process/running_widget_simulator.htm">https://developer.tizen.org/dev-guide/2.2.1/org.tizen.web.appprogramming/html/app_dev_process/running_widget_simulator.htm</a></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch11lvl1sec114"/>Debugging in Tizen Emulator</h1></div></div></div><p>In<a id="id1047" class="indexterm"/> this recipe, you <a id="id1048" class="indexterm"/>will learn how to install and run Tizen applications in the debug mode on the emulator and how to debug them with the<a id="id1049" class="indexterm"/> <strong>Remote Inspector</strong>.</p><div><div><div><div><h2 class="title"><a id="ch11lvl2sec367"/>Getting ready</h2></div></div></div><p>The tool for debugging applications in the emulator is called Remote Inspector and it requires Google Chrome. Ensure that you have successfully installed Chrome on the computer that is used for development before you proceed.</p></div><div><div><div><div><h2 class="title"><a id="ch11lvl2sec368"/>How to do it...</h2></div></div></div><p>Follow these steps to debug<a id="id1050" class="indexterm"/> Tizen applications using the Emulator:</p><div><ol class="orderedlist arabic"><li class="listitem">Launch the<a id="id1051" class="indexterm"/> Tizen IDE and Tizen Emulator.</li><li class="listitem">Select the application from the <strong>Project Explorer</strong> and use any of the following methods to launch it on the emulator:<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Right-click on the project and navigate to <strong>Debug as</strong> | <strong>Tizen web application</strong></li><li class="listitem" style="list-style-type: disc">Click on the <strong>Debug</strong> button on the toolbox of the Tizen IDE</li><li class="listitem" style="list-style-type: disc">From the menu of the Tizen IDE, navigate to <strong>Run</strong> | <strong>Debug As</strong> | <strong>Tizen Web Application</strong></li></ul></div></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch11lvl2sec369"/>How it works</h2></div></div></div><p>The emulator provides the full stacks of the platform and it is convenient for testing Tizen native and web applications. It is well integrated with the Tizen IDE. The application gets copied to the emulator. After that, it is automatically installed and launched. A new Chrome window is opened for the Remote Inspector.</p></div><div><div><div><div><h2 class="title"><a id="ch11lvl2sec370"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A tutorial about the usage of the Remote Inspector is available in the subsequent recipe about tracking JavaScript bugs. More information about the process of launching applications on emulator can be found in the previous recipes as well in the official documentation available at <a class="ulink" href="https://developer.tizen.org/dev-guide/2.2.1/org.tizen.web.appprogramming/html/app_dev_process/running_widget_emulator.htm">https://developer.tizen.org/dev-guide/2.2.1/org.tizen.web.appprogramming/html/app_dev_process/running_widget_emulator.htm</a>.</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch11lvl1sec115"/>Debugging on a device</h1></div></div></div><p>Debugging on a real Tizen device is almost<a id="id1052" class="indexterm"/> the same as on an emulator. This recipe will only reveal the minor differences of the process when it is performed with a device.</p><div><div><div><div><h2 class="title"><a id="ch11lvl2sec371"/>Getting ready</h2></div></div></div><p>The requirements for debugging Tizen applications on a real device are the same as for emulator. Google Chrome must be installed on your development machine because it is required by the Remote Inspector.</p></div><div><div><div><div><h2 class="title"><a id="ch11lvl2sec372"/>How to do it…</h2></div></div></div><p>Follow these instructions<a id="id1053" class="indexterm"/> to install and debug applications on the Tizen device through the Tizen IDE:</p><div><ol class="orderedlist arabic"><li class="listitem">Launch the Tizen IDE.</li><li class="listitem">Connect the device and make sure that it is recognized and displayed in <strong>Connection Explorer</strong> in the Tizen IDE.</li><li class="listitem">Start the application on the device in the debug mode using any of these methods:<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Right-click on the project and choose <strong>Debug as</strong> | <strong>Tizen web application</strong></li><li class="listitem" style="list-style-type: disc">Click on the <strong>Debug</strong> button in the toolbox of the Tizen IDE</li><li class="listitem" style="list-style-type: disc">From the menu of the Tizen IDE, navigate to <strong>Run</strong> | <strong>Debug As</strong> | <strong>Tizen Web Application</strong></li></ul></div></li></ol></div><p>As you can see from the preceding tutorial, the steps are almost the same as for debugging applications on Tizen Emulator.</p></div><div><div><div><div><h2 class="title"><a id="ch11lvl2sec373"/>There's more</h2></div></div></div><p>Building, copying, and installing an application to the Tizen device can be an annoying process if you have to do it hundred of times each day. Do you want to save the development time and accelerate your debugging process?</p><p>Tizen <strong>Rapid Development Support</strong> (<strong>RDS</strong>) to the rescue! Using it, the application is fully packaged, copied, and installed on the device<a id="id1054" class="indexterm"/> only at its first run. After that, the step for packaging is skipped and only the modified files are transferred to the device. RDS has a built-in watchdog that monitors the process and if it fails then normal installation of the application is performed.</p><p>By default, RDS is enabled. If you need to disable it, go to the <strong>Windows</strong> menu of the Tizen IDE and select <strong>Preferences</strong> | <strong>Tizen SDK</strong> | <strong>Rapid Development Support</strong>:</p><div><img src="img/1908OS_11_02.jpg" alt="There's more"/><div><p>Enable or disable Rapid Development Support</p></div></div></div><div><div><div><div><h2 class="title"><a id="ch11lvl2sec374"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">More information<a id="id1055" class="indexterm"/> about RDS is available at <a class="ulink" href="https://developer.tizen.org/dev-guide/2.2.1/org.tizen.web.appprogramming/html/app_dev_process/rapid_dev_support.htm">https://developer.tizen.org/dev-guide/2.2.1/org.tizen.web.appprogramming/html/app_dev_process/rapid_dev_support.htm</a></li><li class="listitem" style="list-style-type: disc">Explore the next recipe to learn how to take advantage of the Remote Inspector or dig into<a id="id1056" class="indexterm"/> the official documentation about it at <a class="ulink" href="https://developer.tizen.org/dev-guide/2.2.1/org.tizen.web.appprogramming/html/app_dev_process/debugging_widget.htm">https://developer.tizen.org/dev-guide/2.2.1/org.tizen.web.appprogramming/html/app_dev_process/debugging_widget.htm</a></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch11lvl1sec116"/>Using Samsung Remote Test Lab</h1></div></div></div><p>Samsung offers a<a id="id1057" class="indexterm"/> free service for remote testing of applications on mobile and wearable devices with Android and Tizen. The service is called Samsung <strong>Remote Test Lab</strong> (<strong>RTL</strong>). It is a convenient and affordable way to try out an application on a physical device without having a real hands-on experience with it.</p><div><div><div><div><h2 class="title"><a id="ch11lvl2sec375"/>Getting ready</h2></div></div></div><p>You need to be a registered Samsung developer to take the advantage of RTL. If you do not have an account, you can sign up for free at <a class="ulink" href="http://developer.samsung.com/signup">http://developer.samsung.com/signup</a>.</p><p>RTL has several<a id="id1058" class="indexterm"/> technical requirements that you must fulfill:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A modern web browser (Firefox v2+,Internet Explorer v7+, Opera v9.6+, Chrome 7+, or Safari v3+)</li><li class="listitem" style="list-style-type: disc">JavaScript, enabled in the web browser</li><li class="listitem" style="list-style-type: disc">Java Web Start</li></ul></div><div><img src="img/1908OS_11_03.jpg" alt="Getting ready"/><div><p>Requirements for Remote Test Lab</p></div></div><p>The service can be used on computers with GNU/Linux, Mac OS X, and Microsoft Windows. You should also prepare the installation file of your application.</p></div><div><div><div><div><h2 class="title"><a id="ch11lvl2sec376"/>How to do it...</h2></div></div></div><p>Follow this <a id="id1059" class="indexterm"/>step-by-step guide to access a Tizen device using RTL and to launch your application on it:</p><div><ol class="orderedlist arabic"><li class="listitem">Sign in using your Samsung Developer credentials at <a class="ulink" href="https://account.samsung.com/account/check.do">https://account.samsung.com/account/check.do</a>.</li><li class="listitem">Visit <a id="id1060" class="indexterm"/>Samsung Remote Test Lab at <a class="ulink" href="http://developer.samsung.com/remotetestlab/rtlDeviceList.action">http://developer.samsung.com/remotetestlab/rtlDeviceList.action</a>.</li><li class="listitem">Go to the <strong>Tizen</strong> tab and select the device, OS version, and duration of the reservation.</li><li class="listitem">Click on <strong>Start</strong><a id="id1061" class="indexterm"/> and wait until the RTL client loads.</li><li class="listitem">Right-click on the top of the RTL client and navigate to <strong>Test</strong> | <strong>Install Application</strong>, as shown in the following screenshot:<div><img src="img/1908OS_11_04.jpg" alt="How to do it..."/><div><p>Installing a Tizen application</p></div></div></li><li class="listitem">Upload the installation file of your application and click on <strong>Install</strong>.</li><li class="listitem">Upon success, the following message will be displayed: <strong>App was successfully installed.</strong></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch11lvl2sec377"/>How it works</h2></div></div></div><p>The RTL client<a id="id1062" class="indexterm"/> application has been installed on your computer and provides an environment and a connection to a physical Tizen device that can be used remotely. The devices are situated in different locations around the world: South Korea, Poland, India, UK, US, and Russia.</p><p>If there is a free device, you can use it immediately. Alternatively, you can make a reservation and use it later. Although the service is free, there are some limitations and you need credit to use a device. Each Samsung developer receives 20 credits per day. One credit allows you to use a device for 15 minutes and the minimal reservation period is half an hour (2 credits).</p><p>You should leave the device in the same condition as you found it, so keep in mind that you have to remove all the applications that you have installed. You may choose the screen quality: <strong>Low</strong>, <strong>Normal</strong>, and <strong>High</strong>. It is recommended to use low quality if your Internet connection is slow. The RTL client also allows you to change the device orientation through its context menu. Other useful features are the options to capture a screenshot and to record a video.</p></div><div><div><div><div><h2 class="title"><a id="ch11lvl2sec378"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">For more<a id="id1063" class="indexterm"/> information, sign in with your Samsung Developers' account and refer to the following article:</li><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://developer.samsung.com/remotetestlab/rtlHelpDevice.action">http://developer.samsung.com/remotetestlab/rtlHelpDevice.action</a></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch11lvl1sec117"/>Tracking JavaScript bugs</h1></div></div></div><p>In this recipe, we<a id="id1064" class="indexterm"/> will discuss two different techniques for tracking JavaScript bugs. Tutorials about the JavaScript log console and debugging by break points in the Remote Inspector will be revealed.</p><div><div><div><div><h2 class="title"><a id="ch11lvl2sec379"/>How to do it...</h2></div></div></div><p>The most primitive and easy debugging approach is to write messages in the console. The following methods of the JavaScript object <code class="literal">console</code> can be used:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">console.log</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">console.info</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">console.warn</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">console.error</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">console.debug</code></li></ul></div><p>Messages logged with any of the preceding methods will be displayed in the JavaScript Log Console of the Tizen IDE. It starts automatically with the launch of a Tizen web application.</p><p>The technique to debug<a id="id1065" class="indexterm"/> through logging in the console is not efficient in all cases. Debugging the code with breakpoints is more useful in many cases.</p><p>Follow these instructions to launch the Remote Inspector and to track JavaScript bugs by setting breakpoints in the source code:</p><div><ol class="orderedlist arabic"><li class="listitem">Launch the Remote Inspector for a Tizen web application that runs on Tizen Emulator and device. Instructions on how this step is provided in the previous recipes.</li><li class="listitem">Click on the <strong>Sources</strong> button from the main toolbar:<div><img src="img/1908OS_11_05.jpg" alt="How to do it..."/><div><p>The Sources button in the Remote Inspector</p></div></div></li><li class="listitem">Click on the button in the left-upper corner below the main toolbar to show the navigator.</li><li class="listitem">Select and open a JavaScript file.</li><li class="listitem">Click on the line number to set a breakpoint. Multiple breakpoints can be defined.</li><li class="listitem">Use the control buttons to navigate through the breakpoints and the source of the application:<div><img src="img/1908OS_11_06.jpg" alt="How to do it..."/><div><p>Buttons to manage and move through breakpoints in the Remote Inspector</p></div></div></li></ol></div><p>For example, have a look at the following screenshot, which has been taken during the debugging of the Hello World <a id="id1066" class="indexterm"/>application in Tizen Emulator. Three breakpoints have been set in the <code class="literal">main.js</code> file to track the behavior of the hardware back button, as shown in the following screenshot:</p><div><img src="img/1908OS_11_07.jpg" alt="How to do it..."/><div><p>Tracking JavaScript bugs with Tizen Emulator and Remote Inspector</p></div></div></div><div><div><div><div><h2 class="title"><a id="ch11lvl2sec380"/>How it works</h2></div></div></div><p>The Remote Inspector is integrated in the Tizen IDE. As you have seen, it provides powerful tools for debugging Tizen web applications running on Tizen Emulators and devices. With this tool, you can not only debug JavaScript, but also inspect the resources, the styles, and the DOM structure of the HTML files.</p><p>The Remote Inspector is based on WebKit Web Inspector but it includes additional features for remote debugging. A separate window of the Chrome browser opens automatically when the Remote Inspector is launched. The communication between Tizen Emulator and the Remote Inspector for debugging Tizen web applications goes entirely through HTTP.</p></div><div><div><div><div><h2 class="title"><a id="ch11lvl2sec381"/>See also</h2></div></div></div><p>For more information, visit the following<a id="id1067" class="indexterm"/> links and visit the following pages:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><a class="ulink" href="https://developer.tizen.org/dev-guide/2.2.1/org.tizen.web.appprogramming/html/ide_sdk_tools/javascript_log_console.htm">https://developer.tizen.org/dev-guide/2.2.1/org.tizen.web.appprogramming/html/ide_sdk_tools/javascript_log_console.htm</a></li><li class="listitem" style="list-style-type: disc"><a class="ulink" href="https://developer.tizen.org/dev-guide/2.2.1/org.tizen.web.appprogramming/html/app_dev_process/debugging_widget.htm">https://developer.tizen.org/dev-guide/2.2.1/org.tizen.web.appprogramming/html/app_dev_process/debugging_widget.htm</a></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch11lvl1sec118"/>Unit testing with QUnit</h1></div></div></div><p>Unit testing is an approach for automated verification of the software by testing individual units of it. Unit testing is the backbone of the concept for test-driven development according to which tests must be written before the source code of the application.</p><p>A lot of JavaScript<a id="id1068" class="indexterm"/> frameworks for unit testing are available under an open source license but in this recipe, we will focus on QUnit. It is a jQuery unit testing framework that makes it very appropriate for Tizen web applications built with Tizen Web<a id="id1069" class="indexterm"/> UI Framework or jQuery Mobile. Another advantage of QUnit is its license, because it is available under MIT license.</p><p>This recipe reveals the required steps to integrate QUnit in a Tizen web application and to create several basic tests.</p><div><div><div><div><h2 class="title"><a id="ch11lvl2sec382"/>Getting ready</h2></div></div></div><p>Visit and get the latest version of QUnit. At the time of writing this book, the latest version was Version 1.14.0.</p></div><div><div><div><div><h2 class="title"><a id="ch11lvl2sec383"/>How to do it...</h2></div></div></div><p>Follow these instructions on how to create a new Tizen web application from scratch and to integrate QUnit in it. After that, based on the knowledge gained in this tutorial, you will be able to perform unit tests in any other Tizen web application.</p><div><ol class="orderedlist arabic"><li class="listitem">Launch Tizen IDE and create a new Tizen web application.</li><li class="listitem">Find the application in the <strong>Project Explorer</strong> and right-click on it. From the context menu that will appear, navigate to <strong>New</strong> | <strong>Folder</strong>.</li><li class="listitem">Type in <code class="literal">tests</code> as the name of the new folder and click on <strong>Finish</strong>.</li><li class="listitem">Copy the downloaded QUnit file inside the new folder.</li><li class="listitem">Again, right-click on the name of the project in the <strong>Project Explorer</strong> view and this time navigate to <strong>New</strong> | <strong>File</strong>.</li><li class="listitem">Save the file <code class="literal">tests.js</code> in the folder <code class="literal">tests</code>.</li><li class="listitem">Open <code class="literal">tests.js</code> and<a id="id1070" class="indexterm"/> insert a couple of test cases:<div><pre class="programlisting">QUnit.test( "Tizen Test 1", function( assert ) {
  assert.ok( 1 == "1", <strong>"1 is 1"</strong> );
});

QUnit.test( "Tizen Test 2", function( assert ) {
  assert.equal( 0, 0, "0 is 0" );
  assert.notEqual( 2, 1, "2 is not 1" );
});</pre></div></li><li class="listitem">By following the same<a id="id1071" class="indexterm"/> procedure, create another file called <code class="literal">tests.html</code> and place it in the root directory of the project.</li><li class="listitem">Open <code class="literal">tests.html</code> and insert the following code:<div><pre class="programlisting">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
    &lt;title&gt;QUnit Tests&lt;/title&gt;</pre></div><p>The following line must be included in the source code of the frontend to guarantee that the test results will fit into the size of the screen on Tizen Emulator or device.</p><div><pre class="programlisting">  &lt;meta name="viewport" content="width=device-width,user-scalable=no"/&gt;
  &lt;link rel="stylesheet" href="tests/qunit-1.14.0.css"&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id="qunit"&gt;&lt;/div&gt;
  &lt;div id="qunit-fixture"&gt;&lt;/div&gt;
  &lt;script src="img/qunit-1.14.0.js"&gt;&lt;/script&gt;
  &lt;script src="img/tests.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div></li><li class="listitem">Edit <code class="literal">config.xml</code> and set <code class="literal">tests.html</code> as the main page by changing the value of the <code class="literal">content</code> tag:<div><pre class="programlisting">&lt;content src="img/tests.html"/&gt;</pre></div></li><li class="listitem">Launch the application in the emulator or device to see the results of the tests.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch11lvl2sec384"/>How it works</h2></div></div></div><p>Test results are directly <a id="id1072" class="indexterm"/>displayed on the screen of the device or emulator when the application is launched. This is caused by the changed HTML for the entry at tenth step of the tutorial.</p><p>We have created only two<a id="id1073" class="indexterm"/> basic test cases in <code class="literal">tests.js</code>. The first test case verifies that <code class="literal">1</code> is equal by value to <code class="literal">"1"</code> in JavaScript. The second test case shows the usage of the <code class="literal">equal()</code> assert method. Both unit tests will pass successfully; so, on the screen, a report similar to the one in the following screenshot will be displayed:</p><div><img src="img/1908OS_11_08.jpg" alt="How it works"/><div><p>A QUnit report on Tizen Emulator with successfully completed tests</p></div></div><p>Let's make a minor change in the first test case to demonstrate the QUnit report with the failed test. Change the test by replacing <code class="literal">==</code> with <code class="literal">===</code>, so its code will become:</p><div><pre class="programlisting">QUnit.test( "Tizen Test 1", function( assert ) {
  assert.ok( 1 === "1", "1 is 1" );
});</pre></div><p>This minor modification <a id="id1074" class="indexterm"/>completely changes the relation. In JavaScript, the <a id="id1075" class="indexterm"/>comparison operator <code class="literal">===</code> checks not only the values but also the types. This time the test will fail because the operand on the left is numeric and the one of the right side is a string. Have a look at the following screenshot to see how a failed test case is reported:</p><div><img src="img/1908OS_11_09.jpg" alt="How it works"/><div><p>A QUnit report on Tizen Emulator with a failed test</p></div></div><p>In this recipe, only two assert <a id="id1076" class="indexterm"/>methods have been used. The full list of all assert methods is available at <a class="ulink" href="http://api.qunitjs.com/category/assert/">http://api.qunitjs.com/category/assert/</a>.</p><p>Along with this<a id="id1077" class="indexterm"/> book, you can find a sample Tizen web<a id="id1078" class="indexterm"/> application with integrated unit tests using QUnit. It is created by following the tutorial provided in this recipe. Import it in the Tizen IDE and run it to see the test results of the screen of your emulator or device.</p></div><div><div><div><div><h2 class="title"><a id="ch11lvl2sec385"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">With the examples in this recipe, you have taken a sneak peek in QUnit; so, you can continue by exploring the resources <a id="id1079" class="indexterm"/>available in its API documentation at <a class="ulink" href="http://api.qunitjs.com/">http://api.qunitjs.com/</a>.</li><li class="listitem" style="list-style-type: disc">Furthermore, the<a id="id1080" class="indexterm"/> QUnit cookbook is an excellent <a id="id1081" class="indexterm"/>article for getting started. It is available online at <a class="ulink" href="http://qunitjs.com/cookbook/">http://qunitjs.com/cookbook/</a>.</li><li class="listitem" style="list-style-type: disc">Keep in mind that a lot of other good tools for creating<a id="id1082" class="indexterm"/> JavaScript unit tests exist. Facebook recently published on GitHub the source code of their product for painless unit<a id="id1083" class="indexterm"/> testing called Jest at <a class="ulink" href="http://facebook.github.io/jest/">http://facebook.github.io/jest/</a>.</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch12"/>Chapter 12. Porting Tizen to Hardware Devices</h1></div></div></div><p>In this chapter, we will cover:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Setting up a platform development environment</li><li class="listitem" style="list-style-type: disc">Installing development tools in Ubuntu or Debian</li><li class="listitem" style="list-style-type: disc">Installing development tools in openSUSE</li><li class="listitem" style="list-style-type: disc">Installing development tools in Fedora and CentOS</li><li class="listitem" style="list-style-type: disc">Building Tizen platform images</li><li class="listitem" style="list-style-type: disc">Flashing a Tizen image to mobile devices</li><li class="listitem" style="list-style-type: disc">Enabling 3D acceleration and OpenGL</li><li class="listitem" style="list-style-type: disc">Booting Tizen on Intel NUC</li><li class="listitem" style="list-style-type: disc">Booting Tizen on Allwinner devices</li><li class="listitem" style="list-style-type: disc">Hacking a tablet and booting Tizen on it</li></ul></div><div><div><div><div><h1 class="title"><a id="ch12lvl1sec119"/>Introduction</h1></div></div></div><p>Congratulations! You made it to the last chapter of this book! So far, we have covered Tizen application development and kept the focus on web applications. I hope you had fun. It's time to move to the next level—Tizen platform development.</p><p>This chapter offers just a sneak peek into the enormous possibilities that Tizen platform development opens for both individual developers and companies. I hope your Tizen journey will not finish with the last recipe of this chapter and you will continue experimenting with the platform.</p><p>This is definitely the most advanced and complex chapter of the book. It offers guidelines to build embedded control systems powered by Tizen. Brief tutorials to build Tizen platform images and booting them on ARM and x86 devices are included. The information provided is useful for the development or porting of new or existing embedded control systems, such as IVI or home automation, to the Tizen software platform. Based on all the recipes in this chapter, you should be able to start the development of your own wearable devices and the Internet of Things powered by Tizen.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch12lvl1sec120"/>Setting up a platform development environment</h1></div></div></div><p>The Tizen project uses<a id="id1084" class="indexterm"/> the online code review system Gerrit and the version control system Git. This recipe reveals how to obtain access to and configure both systems.</p><div><div><div><div><h2 class="title"><a id="ch12lvl2sec386"/>Getting ready</h2></div></div></div><p>If you still do not have<a id="id1085" class="indexterm"/> a user account for <a class="ulink" href="https://www.tizen.org/">https://www.tizen.org/</a>, complete the registration form at <a class="ulink" href="https://www.tizen.org/user/register">https://www.tizen.org/user/register</a>. An Internet connection and a Linux computer are also needed for this recipe. Tizen is a Linux-based platform, and the tools for platform development are compatible with popular Linux distributions.</p><p>Ensure that you have installed Git. If it is not present on your system, you can use the following commands to install it:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">On Ubuntu or Debian, use the following command:<div><pre class="programlisting">
<strong>sudo apt-get update</strong>
<strong>sudo apt-get install git</strong>
</pre></div></li><li class="listitem" style="list-style-type: disc">On Fedora or CentOS, use the following command:<div><pre class="programlisting">
<strong>yum install git-core</strong>
</pre></div></li><li class="listitem" style="list-style-type: disc">On OpenSUSE, use the following command:<div><pre class="programlisting">
<strong>zypper install git</strong>
</pre></div></li></ul></div></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec387"/>How to do it...</h2></div></div></div><p>Follow these instructions to<a id="id1086" class="indexterm"/> configure SSH for Gerrit access:</p><div><ol class="orderedlist arabic"><li class="listitem">Generate RSA keys by running the following command in a terminal and follow the onscreen instructions:<div><pre class="programlisting">
<strong>ssh-keygen</strong>
</pre></div></li><li class="listitem">Using your favorite text editor, for example, vim, create an SSH configuration file at <code class="literal">~/.ssh/config</code>, and place it inside the following settings:<div><pre class="programlisting">Host tizen review.tizen.org
Hostname review.tizen.org
IdentityFile ~/.ssh/id_rsa
User &lt;username&gt;
Port 29418</pre></div><div><div><h3 class="title"><a id="note51"/>Note</h3><p>Do not forget to replace <code class="literal">&lt;username&gt;</code> with your Gerrit account name.</p></div></div></li><li class="listitem">Copy the <a id="id1087" class="indexterm"/>entire content of the file generated in the previous step to the clipboard. By default, the file is stored at <code class="literal">~/.ssh/id_rsa.pub</code>.</li><li class="listitem">Open a<a id="id1088" class="indexterm"/> web browser, and log in to <a class="ulink" href="http://review.tizen.org/gerrit/">http://review.tizen.org/gerrit/</a>.</li><li class="listitem">Click on<a id="id1089" class="indexterm"/> your username in the upper-right corner of the web pages, and select <strong>Settings</strong>.</li><li class="listitem">Click on <strong>SSH Public Keys</strong> from the menu of the <strong>Settings</strong> page, which is as follows:<div><img src="img/1908OS_12_01.jpg" alt="How to do it..."/><div><p>Gerrit settings</p></div></div></li><li class="listitem">Paste the content of <code class="literal">~/.ssh/id_rsa.pub</code> from the clipboard to the input box with the label <strong>Add SSH Public Key</strong>, and click on the button <strong>Add</strong>, as follows:<div><img src="img/1908OS_12_02.jpg" alt="How to do it..."/></div></li><li class="listitem">Verify that<a id="id1090" class="indexterm"/> you have successfully<a id="id1091" class="indexterm"/> configured SSH for Gerrit access by running the following command in the terminal:<div><pre class="programlisting">
<strong>ssh tizen</strong>
</pre></div></li><li class="listitem">Upon successful access, you should see a welcome message as follows:<div><pre class="programlisting">
<strong>**** Welcome to Gerrit Code Review ****</strong>
</pre></div></li></ol></div><p>After that, proceed to the next part of the recipe, and configure Git for Gerrit access by performing the following actions after the last two steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Replace <code class="literal">First_Name</code> and <code class="literal">Last_Name</code> shown in the following command, and execute it to configure the username for Git:<div><pre class="programlisting">
<strong>git config --global user.name &lt;First_Name Last_Name&gt;</strong>
</pre></div></li><li class="listitem">Replace <code class="literal">&lt;Email&gt;</code> with the e-mail that you used to register at <a class="ulink" href="http://tizen.org">tizen.org</a>, and run the following command to set it for Git:<div><pre class="programlisting">
<strong>git config --global user.email "&lt;Email&gt;"</strong>
</pre></div></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec388"/>How it works</h2></div></div></div><p>The source code of the Tizen project is hosted using the distributed version control system Git. This is an open source solution initially created by Linux Torvalds in 2005 as a tool for the development of the Linux kernel. It quickly became popular and its usage spread among the majority of open source projects. The services provided by GitHub and Gitorious played an important role in the Git penetration among developers.</p><p>The last two steps of this recipe are dedicated to the global options of Git. The <code class="literal">git config</code> command<a id="id1092" class="indexterm"/> takes two arguments. The first argument is the setting, which should be updated, and the second argument is a new value.</p><p>The other system<a id="id1093" class="indexterm"/> that was configured in this recipe is Gerrit. This is another open source tool. It is a web-based code review system that is tightly integrated with Git. Gerrit is very convenient for large projects, because it enables more centralized usage of Git. Some of the other well-known, large open source projects that rely on Git and Gerrit are Qt, Android, CyanogenMod, Eclipse, LibreOffice, and MediaWiki.</p></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec389"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">For more information as well as instructions on how to configure a working environment through proxy, <a id="id1094" class="indexterm"/>take a look at <a class="ulink" href="https://source.tizen.org/documentation/developer-guide/environment-setup">https://source.tizen.org/documentation/developer-guide/environment-setup</a>.</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch12lvl1sec121"/>Installing development tools in Ubuntu or Debian</h1></div></div></div><p>Tizen platform <a id="id1095" class="indexterm"/>development tools are available for<a id="id1096" class="indexterm"/> several Linux distributions. Their installation is different for each distribution, but it is <a id="id1097" class="indexterm"/>done using their standard installation mechanisms. This recipe provides a step-by-step installation guide for Ubuntu and <a id="id1098" class="indexterm"/>Debian using <code class="literal">apt-get</code>.</p><div><div><div><div><h2 class="title"><a id="ch12lvl2sec390"/>How to do it...</h2></div></div></div><p>Follow these instructions if you are using Ubuntu or Debian:</p><div><ol class="orderedlist arabic"><li class="listitem">Open the file <code class="literal">/etc/apt/sources.list</code> in a text editor with appropriate permissions, for example:<div><pre class="programlisting">
<strong>sudo vim /etc/apt/sources.list</strong>
</pre></div></li><li class="listitem">Append the repository for Tizen development tools that corresponds to the version of Ubuntu or Debian that you are using. For example, the repository for Ubuntu 14.04 is:<div><pre class="programlisting">
<strong>deb http://download.tizen.org/tools/latest-release/Ubuntu_14.04/ /</strong>
</pre></div><div><div><h3 class="title"><a id="note52"/>Note</h3><p>Please note the slash at the end of the line, and do not forget to write it when you specify the repository. The full list of available repositories for the different Linux distributions can be browsed at <a class="ulink" href="http://download.tizen.org/tools/latest-release/">http://download.tizen.org/tools/latest-release/</a>.</p></div></div></li><li class="listitem">Run the following<a id="id1099" class="indexterm"/> command to update the index of the packages and to synchronize with the repository that was added in the previous step:<div><pre class="programlisting">
<strong>sudo apt-get update</strong>
</pre></div></li><li class="listitem">Install the mandatory development tools, GBS and MIC, with the following command:<div><pre class="programlisting">
<strong>sudo apt-get install gbs mic</strong>
</pre></div></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec391"/>How it works</h2></div></div></div><p>Debian is known as a<a id="id1100" class="indexterm"/> stable distribution with an enormous database of supported packages. Ubuntu is built on Debian and recently has become the third most used platform (in the terms of operating systems) behind Mac <a id="id1101" class="indexterm"/>OS X and Microsoft Windows.</p><p>The powerful<a id="id1102" class="indexterm"/> command-line tool for package management <code class="literal">apt-get</code> is used in both Debian and Ubuntu. Packages can be installed, upgraded, or removed with it. The whole process in this recipe is absolutely standard, as it follows the common workflow for package installation on Ubuntu and Debian. The first and second steps are Tizen-specific, because the URL of the appropriate repository of the development tools must be set.</p></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec392"/>There's more...</h2></div></div></div><p>It is highly recommended that you keep the version of the Tizen development tools up to date. In Ubuntu and Debian, it is possible to obtain the latest version of all packages by executing <code class="literal">apt-get</code> with the following parameters:</p><div><pre class="programlisting">
<strong>sudo apt-get update</strong>
<strong>sudo apt-get upgrade</strong>
</pre></div><p>Alternatively, a single package or a list of packages can be upgraded to the newest version with the following command:</p><div><pre class="programlisting">
<strong>sudo apt-get install &lt;package&gt;Replace &lt;package&gt; with the name of the package or the list of packages separated by space if you want to upgrade more than one package. For example, if you have already installed GBS run sudo apt-get install gbs to get its version up to date.</strong>
</pre></div></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec393"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">This article is based <a id="id1103" class="indexterm"/>on the information from the<a id="id1104" class="indexterm"/> developer guide at <a class="ulink" href="http://tizen.org">tizen.org</a>. Visit the following<a id="id1105" class="indexterm"/> link for more information:</li><li class="listitem" style="list-style-type: disc"><a class="ulink" href="https://source.tizen.org/documentation/developer-guide/getting-started-guide/installing-development-tools">https://source.tizen.org/documentation/developer-guide/getting-started-guide/installing-development-tools</a></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch12lvl1sec122"/>Installing development tools in openSUSE</h1></div></div></div><p>OpenSUSE is a free, Linux-based general purpose operating system. The development of this distribution is pushed <a id="id1106" class="indexterm"/>forward by a community project with the same name that is sponsored by SUSE. The mission of this recipe is to facilitate<a id="id1107" class="indexterm"/> openSUSE users with the installation of a Tizen development tool.</p><div><div><div><div><h2 class="title"><a id="ch12lvl2sec394"/>How to do it...</h2></div></div></div><p>Perform these steps to install GBS and MIC on openSUSE:</p><div><ol class="orderedlist arabic"><li class="listitem">Add a repository of Tizen development tools that matches the version of your openSUSE. For example, the following commands add a repository compatible with openSUSE 13.1:<div><pre class="programlisting">
<strong>sudo zypper addrepo http://download.tizen.org/tools/latest-release/openSUSE_13.1/ tools</strong>
</pre></div><div><div><h3 class="title"><a id="note53"/>Note</h3><p>If you are using<a id="id1108" class="indexterm"/> a different version of openSUSE, browse and find an appropriate Tizen developer tools repository for it at <a class="ulink" href="http://download.tizen.org/tools/latest-release/">http://download.tizen.org/tools/latest-release/</a>.</p></div></div></li><li class="listitem">Download the metadata of the repository that has just been added as follows:<div><pre class="programlisting">
<strong>sudo zypper refresh</strong>
</pre></div></li><li class="listitem">Download and install GBS and MIC using the following command:<div><pre class="programlisting">
<strong>sudo zypper install gbs mic</strong>
</pre></div></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec395"/>How it works</h2></div></div></div><p>The installation process on openSUSE is similar to the one for Ubuntu and Debian, but the commands are different. In openSUSE, the name of the command-line tool for package management is<a id="id1109" class="indexterm"/> Zypper. The algorithm for the installation is still the same as in the previous recipe but requires even fewer manual interactions. The first step is to add a repository, and the second step is to update the metadata of the new repository. The last step is to install GBS, MIC, or any of the other tools.</p></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec396"/>There's more...</h2></div></div></div><p>Run the following <a id="id1110" class="indexterm"/>commands if Tizen development tools<a id="id1111" class="indexterm"/> on your computer are outdated and you want to get the latest version:</p><div><pre class="programlisting">
<strong>sudo zypper refresh</strong>
<strong>sudo zypper update &lt;package&gt;</strong>
</pre></div><p>Replace <code class="literal">&lt;package&gt;</code> with the name of the package that you want to upgrade. For example, <code class="literal">gbs</code> or <code class="literal">mic</code>.</p></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec397"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Tizen development tools can be also installed on Ubuntu, Debian, Fedora, and CentOS. Check out the preceding recipe and the next recipe if you want to install these tools on other distributions, or have a look<a id="id1112" class="indexterm"/> at the official guides at <a class="ulink" href="http://https://source.tizen.org/documentation/developer-guide/getting-started-guide/installing-development-tools">https://source.tizen.org/documentation/developer-guide/getting-started-guide/installing-development-tools</a>.</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch12lvl1sec123"/>Installing development tools in Fedora and CentOS</h1></div></div></div><p>You have already seen how to install Tizen development tools on Ubuntu, Debian, and openSUSE from the <a id="id1113" class="indexterm"/>previous recipes. Now, it is time to discuss Fedora and CentOS. The installation processes on these Linux distributions are the same, because<a id="id1114" class="indexterm"/> both Fedora and CentOS are based on <a id="id1115" class="indexterm"/>
<strong>Red Hat Enterprise Linux</strong> (<strong>RHEL</strong>). Both distributions use<a id="id1116" class="indexterm"/> RPM packages, which are managed by the command-line tool <strong>YUM</strong> (Yellowdog Updater, Modified).</p><p>Fedora is owned by <a id="id1117" class="indexterm"/>Red Hat, but the project is supported by the community, and a lot of volunteers are involved in the development and the maintenance of the source code. New versions of Fedora are released every six months.</p><p>Unlike Fedora, the governance of CentOS is independent from Red Hat although it is sponsored by the company. The first edition of CentOS was released in May 2004.</p><div><div><div><div><h2 class="title"><a id="ch12lvl2sec398"/>How to do it...</h2></div></div></div><p>Please follow the steps in the following tutorial to install Tizen development tools on Fedora<a id="id1118" class="indexterm"/> or CentOS using <a id="id1119" class="indexterm"/>YUM:</p><div><ol class="orderedlist arabic"><li class="listitem">Add the repository of Tizen development tools by downloading it using <code class="literal">wget</code> to <code class="literal">/etc/yum.repos.d</code>. Let's add the repository for Fedora 20 as an example:<div><pre class="programlisting">
<strong>sudo wget -O /etc/yum.repos.d/tools.repo http://download.tizen.org/tools/latest-release/Fedora_20/tools.repo</strong>
</pre></div><div><div><h3 class="title"><a id="note54"/>Note</h3><p>If you are using CentOS or another version of Fedora, please browse and retrieve the repo file that matches your operating system at: <a class="ulink" href="http://download.tizen.org/tools/latest-release/">http://download.tizen.org/tools/latest-release/</a>
</p></div></div></li><li class="listitem">Execute the <a id="id1120" class="indexterm"/>following command to update the metadata of the repositories:<div><pre class="programlisting">
<strong>sudo yum makecache</strong>
</pre></div></li><li class="listitem">Install GBS and MIC as follows:<div><pre class="programlisting">
<strong>sudo yum install gbs mic</strong>
</pre></div></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec399"/>How it works</h2></div></div></div><p>If you have read the previous<a id="id1121" class="indexterm"/> two recipes, you will<a id="id1122" class="indexterm"/> already be familiar with the algorithm of the installation. The same procedure with different tools is specific for Fedora and CentOS.</p><p>Just as in the case of Ubuntu, Debian, and openSUSE, the first step again is to add the repository of the<a id="id1123" class="indexterm"/> Tizen development tools. After that, the metadata of the new repository has to be downloaded. Finally, the packages from this repository are downloaded with <code class="literal">yum</code>.</p></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec400"/>There's more...</h2></div></div></div><p>To keep Tizen development tools up to date and to upgrade them to the latest version, please run the following commands:</p><div><pre class="programlisting">
<strong>sudo yum makecache</strong>
<strong>sudo yum update &lt;Package&gt;</strong>
</pre></div><p>Replace <code class="literal">&lt;Package&gt;</code> with the exact name of the package that has to be upgraded, for example, <code class="literal">gbs</code> or <code class="literal">mic</code>.</p></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec401"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The official guide for the<a id="id1124" class="indexterm"/> installation of Tizen development tools is available at <a class="ulink" href="https://source.tizen.org/documentation/developer-guide/getting-started-guide/installing-development-tools">https://source.tizen.org/documentation/developer-guide/getting-started-guide/installing-development-tools</a>.</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch12lvl1sec124"/>Building Tizen platform images</h1></div></div></div><p>This recipe<a id="id1125" class="indexterm"/> reveals the ingredients and the steps required to cook Tizen platform images. A step-by-step tutorial as well as a lot of external links are provided. Based on this information, you will be able to build Tizen platform images and, after that, to boot them on compatible devices, you will need to follow the instructions in the following recipes.</p><div><div><div><div><h2 class="title"><a id="ch12lvl2sec402"/>Getting ready</h2></div></div></div><p>You are about to start a time-consuming process. Make sure that you have a powerful computer to build Tizen platform images; otherwise, prepare to wait for a long time. Although Tizen platform images can also be built on systems with less impressive specifications, my personal experience shows that the recommended system requirements are a new Intel Core i7 processor and 8 GB RAM.</p><p>A platform development environment should be set, and the platform development tools should be properly installed as explained in the previous recipes.</p></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec403"/>How to do it...</h2></div></div></div><p>Follow these guidelines to build a Tizen platform image from scratch:</p><div><ol class="orderedlist arabic"><li class="listitem">Create a directory, <code class="literal">~/bin/</code> ,and include it in <code class="literal">PATH</code> as follows:<div><pre class="programlisting">
<strong>mkdir ~/bin/</strong>
<strong>PATH=~/bin:$PATH</strong>
</pre></div></li><li class="listitem">Download the repo script, and add permissions for its execution by running the following commands:<div><pre class="programlisting">
<strong>cd ~/bin/</strong>
<strong>wget http://commondatastorage.googleapis.com/git-repo-downloads/repo</strong>
<strong>sudo chmod a+x ~/bin/repo</strong>
</pre></div></li><li class="listitem">Create a new directory where the Tizen source code will be downloaded as follows:<div><pre class="programlisting">
<strong>mkdir ~/tizen</strong>
<strong>cd ~/tizen</strong>
</pre></div><div><div><h3 class="title"><a id="note55"/>Note</h3><p>The name of the directory in the preceding example is <code class="literal">tizen</code>. Set a name of the directory that suits you best.</p></div></div></li><li class="listitem">Replace <code class="literal">&lt;user&gt;</code> with your Gerrit username, and execute the following two commands to download the source code of Tizen Common over SSH:<div><pre class="programlisting">
<strong>repo init -u ssh://&lt;user&gt;@review.tizen.org:29418/scm/manifest -b tizen -m common.xml</strong>
<strong>repo sync</strong>
</pre></div><div><div><h3 class="title"><a id="note56"/>Note</h3><p>Change the manifest to <code class="literal">ivi.xml</code> to download the source code of the IVI profile or to <code class="literal">mobile.xml</code> for the mobile profile. The full list of available branches and remote repositories can be found at <a class="ulink" href="https://source.tizen.org/documentation/developer-guide/getting-started-guide/building-packages-locally-gbs#available-branches-and-the-corresponding-remote-repos">https://source.tizen.org/documentation/developer-guide/getting-started-guide/building-packages-locally-gbs#available-branches-and-the-corresponding-remote-repos</a>.</p></div></div></li><li class="listitem">Open <code class="literal">.gbs.conf</code> in your<a id="id1126" class="indexterm"/> favorite text editor, and configure it. For example, this is the default configuration for Tizen Common:<div><pre class="programlisting">[general]
tmpdir=/var/tmp/
profile = profile.tizen3.0_common
work_dir=.
 
[repo.tizen3.0_x86]
url=${work_dir}/pre-built/toolchain-x86/
 
[repo.tizen3.0_arm]
url=${work_dir}/pre-built/toolchain-arm/
 
[profile.tizen3.0_common]
repos=repo.tizen3.0_x86,repo.tizen3.0_arm
buildconf=${work_dir}/scm/meta/build-config/build.conf</pre></div><p>Select one of the following options, and remove <code class="literal">#</code> from the beginning of its line to enable it:</p><div><pre class="programlisting"># For wayland ia32
# buildconf=${work_dir}/scm/meta/build-config/build-ia32-wayland.conf
# For emulator32 wayland
# buildconf=${work_dir}/scm/meta/build-config/build-emulator32-wayland.conf
# For wayland x86_64
# buildconf=${work_dir}/scm/meta/build-config/build-x86_64-wayland.conf
# For wayland arm32
# buildconf=${work_dir}/scm/meta/build-config/build-arm-wayland.conf
# For wayland arm64
# buildconf=${work_dir}/scm/meta/build-config/build-arm64-wayland.conf</pre></div><div><div><h3 class="title"><a id="note57"/>Note</h3><p>The default configurations for the IVI and the mobile profile are available at <a class="ulink" href="https://source.tizen.org/documentation/developer-guide/getting-started-guide/building-packages-locally-gbs">https://source.tizen.org/documentation/developer-guide/getting-started-guide/building-packages-locally-gbs</a>.</p></div></div></li><li class="listitem">Build all packages<a id="id1127" class="indexterm"/> using GBS with a command that matches the targeted CPU architecture as follows:<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">For i586, use the following:<div><pre class="programlisting">gbs build -A i586 --threads=4 --clean-once</pre></div><div><div><h3 class="title"><a id="note58"/>Note</h3><p>If you are building a Tizen 2 platform image, append <code class="literal">--exclude=gcc,cmake,filesystem,aul,libmm-sound,libtool</code> to the preceding command.</p></div></div></li><li class="listitem" style="list-style-type: disc">For armv7l, use the following commands:<div><pre class="programlisting">
<strong>accel_pkgs="bash,bzip2-libs,c-ares,cmake,coreutils,diffutils,eglibc,elfutils-libelf,elfutils-libs,elfutils,fdupes,file,findutils,gawk,gmp,gzip,libacl,libattr,libcap,libcurl,libfile,libgcc,liblua,libstdc++,make,mpc,mpfr,ncurses-libs,nodejs,nspr,nss-softokn-freebl,nss,openssl,patch,popt,rpm-build,rpm-libs,rpm,sed,sqlite,tar,xz-libs,zlib,binutils,gcc"</strong>
<strong>gbs build -A armv7l --threads=4 --clean-once --exclude=${accel_pkgs},filesystem,aul,libmm-sound,libtool</strong>
</pre></div></li></ul></div></li><li class="listitem">Download an<a id="id1128" class="indexterm"/> appropriate kickstart file from <a class="ulink" href="http://download.tizen.org">http://download.tizen.org</a>. For example, the following command will download the kickstart file to build Tizen 2.2.1 for RD-PQ:<div><pre class="programlisting">
<strong>wget http://download.tizen.org/releases/2.2.1/tizen-2.2.1/builddata/image-configs/RD-PQ-REF.ks</strong>
</pre></div></li><li class="listitem">Edit the repo section, and change the value of the <code class="literal">--baseurl</code> argument to point to the local builds. In this case, the value must start with the prefix <code class="literal">file://</code> followed by the absolute path.</li><li class="listitem">Finally, run the following command to create a Tizen image using the kickstart file:<div><pre class="programlisting">
<strong>gbs createimage –ks-file=RD-PQ-REF.ks</strong>
</pre></div><div><div><h3 class="title"><a id="note59"/>Note</h3><p>Append <code class="literal">--tmpfs</code> as an additional argument if more than 4 GB RAM is available on the system.</p></div></div></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec404"/>How it works</h2></div></div></div><p>Tizen is an open source software platform, and anyone can download its source code for free and build it from scratch. The process is time-consuming, but it is not that difficult.</p><p>The main tools used are <strong>Git Build System</strong> (<strong>GBS</strong>) and <strong>MeeGo Image Creator</strong> (<strong>MIC</strong>). GBS is a command-line tool to build Tizen packages. MIC is a tool<a id="id1129" class="indexterm"/> inherited from MeeGo to create<a id="id1130" class="indexterm"/> images. Nowadays, its features are<a id="id1131" class="indexterm"/> embedded into GBS, and images can be created directly by running <code class="literal">gbs createimage</code>. Alternatively, you can still invoke MIC directly with the <code class="literal">create</code> argument.</p><p>The steps of this recipe are pretty much self-explanatory. First, you must get the source code, then build packages, and finally prepare a Tizen image with MIC and an appropriate kickstart file.</p><p>Tizen images can be built for both ARMv7 and i586 compatible processors. Depending on the targeted device, you need to use an appropriate configuration as shown in the sixth step.</p></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec405"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Tizen platform development <a id="id1132" class="indexterm"/>contains a lot of hidden gems. To build Tizen platform images, this recipe covers only the basics. For more information and advanced tutorials, please explore the resource available at <a class="ulink" href="https://source.tizen.org/">https://source.tizen.org/</a>.</li><li class="listitem" style="list-style-type: disc">Detailed<a id="id1133" class="indexterm"/> instructions to clone the source code of different Tizen versions and profiles are available at <a class="ulink" href="https://source.tizen.org/documentation/developer-guide/getting-started-guide/cloning-tizen-source">https://source.tizen.org/documentation/developer-guide/getting-started-guide/cloning-tizen-source</a>.</li><li class="listitem" style="list-style-type: disc">Visit the following link to learn more about building packages with GBS on your computer at <a class="ulink" href="https://source.tizen.org/documentation/developer-guide/getting-started-guide/building-packages-locally-gbs">https://source.tizen.org/documentation/developer-guide/getting-started-guide/building-packages-locally-gbs</a>.</li><li class="listitem" style="list-style-type: disc">Details regarding<a id="id1134" class="indexterm"/> the final step in creating images from the local packages built with GBS can be found at <a class="ulink" href="https://source.tizen.org/documentation/developer-guide/getting-started-guide/creating-tizen-images-mic">https://source.tizen.org/documentation/developer-guide/getting-started-guide/creating-tizen-images-mic</a>.</li><li class="listitem" style="list-style-type: disc">Information about Tizen packaging guidelines is available at <a class="ulink" href="https://wiki.tizen.org/wiki/Packaging/Guidelines">https://wiki.tizen.org/wiki/Packaging/Guidelines</a>.</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch12lvl1sec125"/>Flashing a Tizen image to mobile devices</h1></div></div></div><p>The first Tizen reference device was RD-210, and it was announced at the Tizen Developer Conference in 2012. Nowadays, it is outdated, and new versions of the Tizen mobile profile <a id="id1135" class="indexterm"/>are no longer released for it. Its successor was released a year later under the code name RD-PQ, and as of the time of this writing, it is still compatible with all the latest Tizen releases. RD-PQ is based on Samsung Galaxy S3, and it has similar hardware specifications.</p><p>This recipe provides<a id="id1136" class="indexterm"/> guidelines to flash both of these Tizen reference devices. Please note that the flashing process is simple but potentially risky. Read carefully all instructions as well as the information in the links provided before performing any actions on the device.</p><div><div><div><div><h2 class="title"><a id="ch12lvl2sec406"/>Getting ready</h2></div></div></div><p>The flashing process is very delicate. Prepare well, because even a minor mistake may lead to permanent poor results, and in the worst case to brick the device.</p><p>Make sure that you have a Tizen-compatible device and that its battery is fully charged. Also, you will require a USB cable that will be used to connect the device to the computer.</p><p>A personal computer with Linux distribution is required. The flashing process depends on a tool called <code class="literal">lthor</code>. Ensure<a id="id1137" class="indexterm"/> that you can set up resource a Tizen development tools repository successfully on your distribution, and run the following commands to install <code class="literal">lthor</code>:</p><div><pre class="programlisting">
<strong>sudo apt-get update</strong>
<strong>sudo apt-get install lthor</strong>
</pre></div><p>As a precaution, it is highly recommended that you use a computer with backup power supply, for example, a laptop with a fully charged battery, to minimize the risk of electrical outage during the flashing process.</p></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec407"/>How to do it...</h2></div></div></div><p>The following tutorial describes the flashing process of Tizen reference devices, such as RD-PQ and RD-210:</p><div><ol class="orderedlist arabic"><li class="listitem">Build an appropriate <a id="id1138" class="indexterm"/>Tizen image for your device, or download it from <a class="ulink" href="http://download.tizen.org/releases/">http://download.tizen.org/releases/</a>.</li><li class="listitem">Turn off the device.</li><li class="listitem">Press the volume down and the power hardware buttons simultaneously to boot the device into the download mode.</li><li class="listitem">Connect the device to a computer via a USB cable.</li><li class="listitem">Flash the image to the device by replacing <code class="literal">&lt;Tizen image&gt;</code> with the name of the downloaded file in the following command, and execute it:<div><pre class="programlisting">
<strong>sudo ./lthor &lt;Tizen image&gt;</strong>
</pre></div><div><div><h3 class="title"><a id="note60"/>Note</h3><p>Additional actions are required if you are planning to update RD-210 with Tizen 1.0 Larkspur to a newer version. Please refer to the following link for more information: <a class="ulink" href="https://source.tizen.org/documentation/reference/flash-device#RD-PQ_RD-210">https://source.tizen.org/documentation/reference/flash-device#RD-PQ_RD-210</a>.</p></div></div></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec408"/>There's more...</h2></div></div></div><p>On Ubuntu, the last<a id="id1139" class="indexterm"/> step of the flashing process may fail due to any of the<a id="id1140" class="indexterm"/> following errors:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A handshake failed error:<div><pre class="programlisting">
<strong>USB port is detected: /dev/ttyACM0</strong>

<strong>line 328: failed to read signature bytes</strong>
<strong>line 603: handshake failed</strong>
<strong>line 922: failed to open port (null)</strong>
</pre></div></li><li class="listitem" style="list-style-type: disc">A port open error:<div><pre class="programlisting">
<strong>USB port is detected : /dev/ttyACM0</strong>

<strong>port open error!!</strong>
<strong>: Device or resource busy</strong>
<strong>line 954: failed to open port (null)</strong>
</pre></div></li></ul></div><p>Both issues have been discussed numerous times during the Tizen mailing list. They are caused by <code class="literal">modemmanager</code>, which tries to communicate with the attached device on the USB port and prevents the normal work of <code class="literal">lthor</code>.</p><p>If you experience any of the preceding errors, please uninstall <code class="literal">modemmanager</code> from your computer using the following command and <code class="literal">lthor</code> again:</p><div><pre class="programlisting">
<strong>sudo apt-get purge modemmanager</strong>
</pre></div><p>Alternatively, if you want to keep <code class="literal">modemmanager</code>, please perform the following actions:</p><div><ol class="orderedlist arabic"><li class="listitem">Remove or move to another location the configuration file of the D-BUS service for <code class="literal">modemmanager</code> as follows:<div><pre class="programlisting">
<strong>sudo mv /usr/share/dbus-1/system-services/org.freedesktop.ModemManager.service ~/org.freedesktop.ModemManager.service</strong>
</pre></div></li><li class="listitem">Terminate all instances of <code class="literal">modemmanager</code> that are running at the moment via the following commands:<div><pre class="programlisting">
<strong>sudo stop modemmanager</strong>
<strong>sudo killall modem-manager</strong>
</pre></div></li></ol></div><p>For<a id="id1141" class="indexterm"/> more troubleshooting<a id="id1142" class="indexterm"/> tips and tricks related to <code class="literal">lthor</code>, visit <a class="ulink" href="https://wiki.tizen.org/wiki/Troubleshooting_lthor_on_Ubuntu">https://wiki.tizen.org/wiki/Troubleshooting_lthor_on_Ubuntu</a>.</p></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec409"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Up-to-date information and details about flashing<a id="id1143" class="indexterm"/> Tizen reference mobile devices are available at <a class="ulink" href="https://source.tizen.org/documentation/reference/flash-device#RD-PQ_RD-210">https://source.tizen.org/documentation/reference/flash-device#RD-PQ_RD-210</a>.</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch12lvl1sec126"/>Enabling 3D acceleration and OpenGL</h1></div></div></div><p>This recipe<a id="id1144" class="indexterm"/> will guide you on how to enable 3D acceleration and<a id="id1145" class="indexterm"/> OpenGL on Tizen devices with Mali GPU immediately after flashing Tizen on them.</p><div><div><div><div><h2 class="title"><a id="ch12lvl2sec410"/>Getting ready</h2></div></div></div><p>If you have a flashed Tizen reference device, for example, RD-PQ, upon following the instructions in the previous recipe, you will notice a warning immediately after booting the platform as shown in the following screenshot:</p><div><img src="img/1908OS_12_03.jpg" alt="Getting ready"/><div><p>Compositor warning after booting Tizen 2 for the first time on RD-PQ</p></div></div><p>The warning is<a id="id1146" class="indexterm"/> displayed due to missing drivers for 3D acceleration and OpenGL. It affects a lot of built-in applications and interferes with their normal work. Third-party drivers for Mali DDK have to be installed to solve the issue.</p><p>The installation process<a id="id1147" class="indexterm"/> is fairly easy. It requires a computer with an installed Tizen SDB, an Internet connection, and of course, the Tizen device.</p></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec411"/>How to do it...</h2></div></div></div><p>There are several ways to install Mali DDK. The final result is the same no matter which way you choose. The following methodology to enable hardware acceleration is pretty straightforward:</p><div><ol class="orderedlist arabic"><li class="listitem">Download the Mali DDK compatible with the version of Tizen that has been flashed on<a id="id1148" class="indexterm"/> the devices. The following Mali DDK versions<a id="id1149" class="indexterm"/> are available for Tizen 2:<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Tizen 2.0 (<a class="ulink" href="https://source.tizen.org/mali-ddk">https://source.tizen.org/mali-ddk</a>)</li><li class="listitem" style="list-style-type: disc">Tizen 2.1 (<a class="ulink" href="http://source.tizen.org/mali-ddk-2.1">http://source.tizen.org/mali-ddk-2.1</a>)</li><li class="listitem" style="list-style-type: disc">Tizen 2.2 (<a class="ulink" href="http://source.tizen.org/mali-ddk-2.2">http://source.tizen.org/mali-ddk-2.2</a>)</li></ul></div><div><div><h3 class="title"><a id="note61"/>Note</h3><p>The source code of Mali DDK is not open. Visit <a class="ulink" href="https://source.tizen.org/">https://source.tizen.org/</a> to find out the binaries of the latest available versions.</p></div></div></li><li class="listitem">Extract the<a id="id1150" class="indexterm"/> downloaded files on your computer, for example:<div><pre class="programlisting">
<strong>tar -xvzf hw_accel.tar.gz</strong>
</pre></div></li><li class="listitem">Connect the Tizen device to your computer, and copy the extracted files in it using SDB. The commands in the following example will copy the files to <code class="literal">/home/</code> directory:<div><pre class="programlisting">
<strong>sdb -d root on</strong>
<strong>sdb -d push libdrm-exynos-gem-*.rpm /home/</strong>
<strong>sdb -d push libump-*.rpm /home/</strong>
<strong>sdb -d push opengl-es-mali400mp-*.rpm /home/</strong>
</pre></div></li><li class="listitem">Log in to the devices, and go to the directory where you have copied the files, for example, <code class="literal">/home/</code>, as follows:<div><pre class="programlisting">
<strong>sdb -d shell</strong>
<strong>cd /home/</strong>
</pre></div></li><li class="listitem">Remove old packages as follows:<div><pre class="programlisting">
<strong>rpm -e --nodeps opengl-es-virtual-drv</strong>
</pre></div></li><li class="listitem">Install new packages to enable hardware acceleration as follows:<div><pre class="programlisting">
<strong>rpm -ivh --force *.rpm</strong>
</pre></div></li><li class="listitem">Finally, flush the filesystem buffers, and reboot the Tizen device by executing the following commands:<div><pre class="programlisting">
<strong>sync</strong>
<strong>reboot</strong>
</pre></div></li></ol></div><p>Alternatively, you can even decrease the manual interactions of the described process if you first copy the downloaded tarball and directly extract it on the Tizen device.</p></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec412"/>How it works</h2></div></div></div><p>The Tizen reference device RD-PQ has Mali 400-MP4 GPU. Its drivers are provided as a tarball of RPM files, because<a id="id1151" class="indexterm"/> Tizen, as a platform, uses the RMP package manager. SDB is required to copy the files to the device and, after that, to install the packages. The changes<a id="id1152" class="indexterm"/> take effect only after the device has been rebooted.</p></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec413"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">More information<a id="id1153" class="indexterm"/> about enabling 3D acceleration and OpenGL on Tizen devices is available on the Tizen wiki page at <a class="ulink" href="https://wiki.tizen.org/wiki/Enable_3D_Acceleration_on_Tizen">https://wiki.tizen.org/wiki/Enable_3D_Acceleration_on_Tizen</a></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch12lvl1sec127"/>Booting Tizen on Intel NUC</h1></div></div></div><p>Tizen is a software platform that supports both ARM and x86 architectures. Intel, as one of the leading<a id="id1154" class="indexterm"/> contributors of the Tizen project, is putting in a lot of effort for the support of x86 architecture, which powers their processors. This architecture was introduced more than 40 years ago, in the late 70s. The 64-bit version of<a id="id1155" class="indexterm"/> x86 was released in 2003.</p><p>This recipe is dedicated to the process of flashing Tizen images compatible with the x86 architecture on devices with Intel processors. There are a lot of compatible devices on the market, but the focus of this recipe is on Intel NUC with the Intel Atom processor, model E3815.</p><div><div><div><div><h2 class="title"><a id="ch12lvl2sec414"/>Getting ready</h2></div></div></div><p>A tool to flash Tizen images is required for this recipe. It is provided by the package <code class="literal">bmap-tools</code>. Install it by following the guidelines for the installation of Tizen development tools. For example, on Ubuntu, it can be installed using the following command:</p><div><pre class="programlisting">
<strong>sudo apt-get install bmap-tools</strong>
</pre></div><p>You will also need a USB memory stick with at least 4 GB disk space and a compatible computer, such as Intel NUC. A Tizen image will be flashed on the USB memory stick, and all other data will be completely erased from it. To prevent any loss of data, please make sure that you have a backup of the data from your USB memory stick before you proceed.</p></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec415"/>How to do it...</h2></div></div></div><p>Perform the described actions to create a<a id="id1156" class="indexterm"/> bootable USB memory stick with Tizen:</p><div><ol class="orderedlist arabic"><li class="listitem">Plug the USB memory stick into your computer.</li><li class="listitem">Identify the device using <code class="literal">fdisk -l</code> or by going through the log of <code class="literal">dmesg</code>.</li><li class="listitem">Unmount the device. On Unix-based systems, this can be achieved as follows. Replace <code class="literal">X</code> with the ID of the USB memory device:<div><pre class="programlisting">
<strong>umount /dev/sdX*</strong>
</pre></div></li><li class="listitem">Use <code class="literal">bmaptool</code> to download a Tizen image, and copy it on the USB drive. If you are not sure which<a id="id1157" class="indexterm"/> image to download, bet on milestone release, as follows:<div><pre class="programlisting">
<strong>bmaptool &lt;Tizen&gt; /dev/sdX</strong>
</pre></div></li></ol></div><p>Replace <code class="literal">&lt;Tizen&gt;</code> with the image present on your local drive or with the URL to an image.</p><p>Once you have a<a id="id1158" class="indexterm"/> bootable USB memory stick with Tizen, you can proceed to booting it on a compatible device with an Intel processor:</p><div><ol class="orderedlist arabic"><li class="listitem">Plug the USB memory stick into Intel NUC.</li><li class="listitem">Turn on the device.</li><li class="listitem">Enter its BIOS by hitting <em>F2</em>.</li><li class="listitem">Modify the boot order, and set the USB memory stick with the highest priority.</li><li class="listitem">Save changes and proceed. If everything works fine, Tizen will boot shortly.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec416"/>How it works</h2></div></div></div><p>Tizen is divided into several profiles. Tizen IVI and Common are preferred for Intel architectures. In this recipe, we have used a milestone release of Tizen Common. This type of release should be stable, and it is recommended that you rely on them if you are not sure which version to pick.</p></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec417"/>There's more...</h2></div></div></div><p>By following the preceding process, you created a bootable USB memory stick with Tizen, which you can copy to the persistent memory of the device.</p><p>The following tutorial describes one of the ways to copy Tizen to the built-in storage of Intel NUC. A second USB stick will be needed.</p><div><ol class="orderedlist arabic"><li class="listitem">Plug in the second memory stick in your computer, and copy the same Tizen image as a raw file on it. After that, unplug this USB stick.</li><li class="listitem">Plug the second USB memory stick into Intel NUC while Tizen is running from the first USB stick.</li><li class="listitem">Launch the Tizen terminal and log in as root.</li><li class="listitem">Detect the second USB memory stick and the internal eMMC storage using <code class="literal">fdisk –l</code>.</li><li class="listitem">Unmount the internal eMMC storage using <code class="literal">umount</code>.</li><li class="listitem">Copy the Tizen image from the second USB memory stick to the eMMC. Use the following command, and replace <code class="literal">&lt;Tizen image&gt;</code> with the file from the second USB memory stick, and replace <code class="literal">&lt;storage&gt;</code> with the eMMC, for example, <code class="literal">/dev/mmcblk0</code>:<div><pre class="programlisting">
<strong>bzcat &lt;Tizen image&gt; | dd of=&lt;storage&gt; bs=512k oflag=sync conv=sparse</strong>
</pre></div></li><li class="listitem">Turn off the <a id="id1159" class="indexterm"/>device, unplug all the USB memory sticks and boot it again.</li><li class="listitem">Make sure<a id="id1160" class="indexterm"/> that the device will boot from the internal memory, and if everything works fine, Tizen will boot shortly.</li></ol></div><p>Alternatively, instead of using a second USB memory stick, you can boot Tizen on Intel NUC and enable a network connection. After that, you can copy a Tizen image to the USB memory stick on which the operating system runs.</p></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec418"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">For more information<a id="id1161" class="indexterm"/> about booting Tizen on Intel devices, you can visit<code class="literal"> </code><a class="ulink" href="https://source.tizen.org/documentation/reference/flash-device#intel">https://source.tizen.org/documentation/reference/flash-device#intel</a></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch12lvl1sec128"/>Booting Tizen on Allwinner devices</h1></div></div></div><p>Allwinner is a Chinese company, the core business of which is related to the development of SoC. The company<a id="id1162" class="indexterm"/> was established in 2007, and it became popular worldwide in 2010 with the launch of their SoC with Cortex-A8 processor, which is known as A10. In 2013, Allwinner released A20, which features a dual<a id="id1163" class="indexterm"/> core Cortex-A7 ARM processor.</p><p>In April 2013, Allwinner received the ARM award for being the number one in Android tablet AP shipment worldwide. A lot of popular single-board computers, such as OLinuXino, Cubieboard, and Banana Pi also use Allwinner processors with ARMv7 compatible architecture. All devices with Allwinner processors are also called Sunxi.</p><p>Because of their low prices, Sunxi devices with Android have excellent penetration on the market. They are important for the Tizen ecosystem as well, because they open the road to a lot of owners of Sunxi devices. Additionally, open source hardware devices with Allwinner processors, such as the boards from the OLinuXino series, provide excellent opportunities for innovation to start-up companies and enthusiasts with limited budgets.</p><p>This recipe provides a complete guideline to port Tizen to Sunxi devices. Please note that there are thousands of devices with Allwinner SoCs. Each device has different specifications, so you should adjust the tutorial depending on your device and the version of Tizen that you use.</p><div><div><div><div><h2 class="title"><a id="ch12lvl2sec419"/>Getting ready</h2></div></div></div><p>Prepare for the most<a id="id1164" class="indexterm"/> advanced recipe in this book. The provided instructions are generic for Sunxi devices. Adapt them to match the exact specifications of the vendor of the devices that you target. </p><p>This tutorial is provided<a id="id1165" class="indexterm"/> as is, without warranty of any kind. Do it at your own risk. Read all the instructions very carefully and obey the recommendations and guidelines of the hardware vendors. Be aware that any mistake may brick the device or cause other unwanted behavior.</p><p>To successfully complete this recipe, you need a Linux computer, Sunxi device with a slot for microSD card, and you must have the following:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Tizen platform development environment setup</li><li class="listitem" style="list-style-type: disc">Installed Tizen platform development tools</li><li class="listitem" style="list-style-type: disc">A Tizen image for ARMv7 compatible devices</li></ul></div><p>If you fail to comply with any of the preceding requirements, refer to the previous recipes.</p></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec420"/>How to do it...</h2></div></div></div><p>The following tutorial is about building a Linux-sunxi kernel, U-Boot loader, flashing Tizen on a microSD card, and booting it on a Sunxi device:</p><div><ol class="orderedlist arabic"><li class="listitem">Set up the tool chain to build kernel and bootloader by running the following commands:<div><pre class="programlisting">
<strong>sudo apt-get update</strong>
<strong>sudo apt-get install gcc-4.7-arm-linux-gnueabihf ncurses-dev uboot-mkimage build-essential git</strong>
</pre></div><div><div><h3 class="title"><a id="note62"/>Note</h3><p>Debian users<a id="id1166" class="indexterm"/> might need to add the repositories from <a class="ulink" href="http://www.emdebian.org/debian">http://www.emdebian.org/debian</a> to <code class="literal">/etc/apt/sources.list</code>.</p></div></div></li><li class="listitem">Make a directory and download in it the source code of the U-Boot loader using Git:<div><pre class="programlisting">
<strong>mkdir sunxi/</strong>
<strong>cd sunxi/</strong>
<strong>git clone -b sunxi https://github.com/linux-sunxi/u-boot-sunxi.git</strong>
</pre></div><div><div><h3 class="title"><a id="note63"/>Note</h3><p>It is highly recommended that you use a revision of the source code that has been verified by the vendor of your device.</p></div></div></li><li class="listitem">Enter the directory that has been created by <code class="literal">git clone</code>:<div><pre class="programlisting">
<strong>cd u-boot-sunxi/</strong>
</pre></div></li><li class="listitem">Build a U-Boot loader from scratch using the GNU <code class="literal">make</code> utility. For example, the<a id="id1167" class="indexterm"/> following command will build U-Boot using a<a id="id1168" class="indexterm"/> <strong>makefile</strong> for the open source hardware development board, A20-OLinuXino-MICRO:<div><pre class="programlisting">
<strong>make a20-olinuxino_micro CROSS_COMPILE=arm-linux-gnueabihf-</strong>
</pre></div></li><li class="listitem">Check whether the files <code class="literal">spl/sunxi-spl.bin u-boot.bin u-boot-sunxi-with-spl.bin</code> exist to verify that the build of U-Boot loader was successful.</li><li class="listitem">Go back to<a id="id1169" class="indexterm"/> the major directory, and prepare to build the Linux-sunxi kernel by downloading its source code.<div><pre class="programlisting">
<strong>cd ..</strong>
<strong>git clone https://github.com/linux-sunxi/linux-sunxi</strong>
</pre></div></li><li class="listitem">Enter the directory <code class="literal">linux-sunxi</code>, and build the kernel using appropriate <code class="literal">&lt;defconfig&gt;</code> for the targeted platform with the following command:<div><pre class="programlisting">
<strong>cd linux-sunxi/</strong>
<strong>make ARCH=arm &lt;defconfig&gt;</strong>
</pre></div><div><div><h3 class="title"><a id="note64"/>Note</h3><p>All defconfig files included in the project are located in the directory <code class="literal">linux-sunxi/arch/arm/configs/</code>. It is recommended that you place any third-party defconfig files in the same directories. Some vendors, such as Olimex, provide their own defconfig files.</p></div></div></li><li class="listitem">Optionally, you can build kernel modules using the following commands:<div><pre class="programlisting">
<strong>make ARCH=arm CROSS_COMPILE=arm-linux-gnueabihf- -j4 INSTALL_MOD_PATH=out modules</strong>
<strong>make ARCH=arm CROSS_COMPILE=arm-linux-gnueabihf- -j4 INSTALL_MOD_PATH=out modules_install</strong>
</pre></div></li><li class="listitem">Insert a microSD card into your computer and identify it. Pay attention to the fact that all the information on the microSD card will be erased completely, and Tizen will be overwritten on it.</li><li class="listitem">Replace <code class="literal">&lt;X&gt;</code> with the ID of the microSD card, and launch <code class="literal">fdisk</code>:<div><pre class="programlisting">
<strong>sudo fdisk /dev/sd&lt;X&gt;</strong>
</pre></div></li><li class="listitem">Retrieve the total<a id="id1170" class="indexterm"/> size of the microSD card by running the <code class="literal">p</code> command in <code class="literal">fdisk</code>. This is a sample output for a 4 GB microSD card:<div><pre class="programlisting">
<strong>Command (m for help): p </strong>

<strong>Disk /dev/sdc: 4026 MB, 4026531840 bytes</strong>
</pre></div></li><li class="listitem">Calculate the <a id="id1171" class="indexterm"/>number of cylinders by dividing the size retrieved in the previous step by the size of a single cylinder, which<a id="id1172" class="indexterm"/> is equal to the number of heads multiplied by the number of sectors and the size of a single sector.<div><div><h3 class="title"><a id="note65"/>Note</h3><p>The size of a single cylinder with 255 heads, 63 sectors, and 512 bytes per sector is 8225280 bytes. So, if, for example, the total size of the microSD card is 4026531840 bytes, then the number of cylinders is 489.</p></div></div></li><li class="listitem">Delete the existing partition with the <code class="literal">d</code> command at <code class="literal">fdisk</code> as shown in the following example. Repeat the action until all partitions are deleted:<div><pre class="programlisting">
<strong>Command (m for help):  d</strong>
<strong>Partition number (1-4): 1</strong>
</pre></div></li><li class="listitem">Configure the heads, sectors, and cylinders of the microSD card as follows; replace <code class="literal">&lt;cylinders&gt;</code> with the value calculated in step 12:<div><pre class="programlisting">
<strong>Command (m for help): x</strong>
<strong>Expert command (m for help): h</strong>
<strong>Number of heads (1-256, default 30): 255</strong>
<strong>Expert command (m for help): s</strong>
<strong>Number of sectors (1-63, default 29): 63</strong>
<strong>Warning: setting sector offset for DOS compatibility</strong>
<strong>Expert command (m for help): c</strong>
<strong>Number of cylinders (1-1048576, default 2286): &lt;cylinders&gt; </strong>
</pre></div></li><li class="listitem">Create a boot partition, and leave the rest for Linux partitions:<div><pre class="programlisting">
<strong>Expert command (m for help): r</strong>
<strong>Command (m for help): n</strong>
<strong>Command action</strong>
<strong>e extended</strong>
<strong>p primary partition (1-4)</strong>
<strong>p</strong>
<strong>Partition number (1-4): 1</strong>
<strong>First cylinder (1-123, default 1):</strong>
<strong>Using default value 1</strong>
<strong>Last cylinder or +size or +sizeM or +sizeK (1-123, default 123): +64M (see note above)</strong>
<strong>Command (m for help): n</strong>
<strong>Command action</strong>
<strong>e extended</strong>
<strong>p primary partition (1-4)</strong>
<strong>p</strong>
<strong>Partition number (1-4): </strong>
<strong>2</strong>
<strong>First cylinder (10-123, default 10):</strong>
<strong>Using default value 10</strong>
<strong>Last cylinder or +size or +sizeM or +sizeK (10-123, default 123):</strong>
<strong>Using default value 123</strong>
</pre></div></li><li class="listitem">Set the FAT32 filesystem for the boot partition:<div><pre class="programlisting">
<strong>Command (m for help): t</strong>
<strong>Partition number (1-4): 1</strong>
<strong>Hex code (type L to list codes): c</strong>
<strong>Changed system type of partition 1 to c (W95 FAT32 (LBA))</strong>
<strong>* You have to format 1st partitions with vfat32 filesystem.</strong>
<strong>Command (m for help): a</strong>
<strong>Partition number (1-4): 1</strong>
</pre></div></li><li class="listitem">Verify that the <a id="id1173" class="indexterm"/>partitions are correct by running the <code class="literal">p</code> command again.</li><li class="listitem"> Save all<a id="id1174" class="indexterm"/> changes using the <code class="literal">w</code> command:<div><pre class="programlisting">
<strong>Command (m for help): w</strong>
<strong>The partition table has been altered!</strong>

<strong>Calling ioctl() to re-read partition table.</strong>
</pre></div></li><li class="listitem">Replace <code class="literal">&lt;X&gt;</code> with the identifier of the microSD card, and format the partitions as follows:<div><pre class="programlisting">
<strong>sudo mkfs.vfat -F 32 -n boot /dev/sd&lt;X&gt;1</strong>
<strong>sudo mkfs.ext4 -L rootfs /dev/sd&lt;X&gt;2</strong>
<strong>sudo mkfs.ext4 -L data /dev/sd&lt;X&gt;3</strong>
<strong>sudo mkfs.ext4 -L UMS /dev/sd&lt;X&gt;4</strong>
</pre></div></li><li class="listitem">Unmount the microSD card and write the bootloader as follows:<div><pre class="programlisting">
<strong>umount /dev/sd</strong>
<strong>&lt;X&gt;*</strong>
<strong>dd if=u-boot-sunxi/u-boot-sunxi-with-spl.bin of=/dev/sd&lt;X&gt; bs=1024 seek=8</strong>
</pre></div></li><li class="listitem">After that, mount the microSD card, and copy the Linux-sunxi kernel and configuration files, such as <code class="literal">script.bin</code>, which, in most cases, are provided by the hardware<a id="id1175" class="indexterm"/> vendors to the boot partition. Here is an example:<div><pre class="programlisting">
<strong>mkdir /mnt/sd1</strong>
<strong>mount /dev/sd&lt;X&gt;1 /mnt/sd1</strong>
<strong>cp linux-sunxi/arch/arm/boot/uImage /mnt/sd1</strong>
<strong>cp script.bin /mnt/sd1</strong>
<strong>sync</strong>
<strong>umount /dev/sd&lt;X&gt;1</strong>
</pre></div></li><li class="listitem">Make sure that<a id="id1176" class="indexterm"/> all partitions of the microSD card are unmounted as follows:<div><pre class="programlisting">
<strong>umount /dev/sd&lt;X&gt;*</strong>
</pre></div></li><li class="listitem">Copy each Tizen image to the appropriate partition. Replace <code class="literal">&lt;image&gt;</code> with the Tizen image, <code class="literal">&lt;X&gt;</code> with the identifier of the microSD card, and <code class="literal">&lt;N&gt;</code> with the partition number in the following command:<div><pre class="programlisting">
<strong>sudo dd if=/dev/&lt;image&gt; of=/dev/sd&lt;X&gt;&lt;N&gt; bs=1024 count=1</strong>
</pre></div></li><li class="listitem">Optionally, you can mount the boot (FAT32) partition again and create <code class="literal">uEnv.txt</code>, which allows the hot swap of some configurations, such as the display output. Change <code class="literal">disp.screen0_output_type</code> to <code class="literal">1</code> for LCD display, <code class="literal">3</code> for HDMI, and <code class="literal">4</code> for VGA. The following is an example configuration to enable HDMI display at <code class="literal">uEnv.txt</code>:<div><pre class="programlisting">
<strong>console=tty0</strong>
<strong>loglevel=5</strong>
<strong>extraargs=console=ttyS0,115200 disp.screen0_output_type=3 disp.screen0_output_mode=EDID:800x480p33 hdmi.audio=EDID:0</strong>
</pre></div></li><li class="listitem">Unmount and unplug the microSD card from the computer. Plug into the Sunxi device, and start it to boot Tizen.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec421"/>How it works</h2></div></div></div><p>This recipe had three main ingredients: boot loader, kernel, and the Tizen image.</p><p>U-Boot is a universal boot loader for embedded devices with ARM, PowerPC, MIPS, and other processors. It is preferred for Sunxi devices, and a fork adapted for them resides at GitHub. On the second step of the recipe, the source code of U-Boot is cloned from GitHub, and it is<a id="id1177" class="indexterm"/> built in the previous steps.</p><p>Linux-sunxi is the fork of the Linux kernel, which is hosted at GitHub. It is adapted for devices with Allwinner SoCs. Its build process is explained in the instructions provided from steps 6 to 8.</p><p>The final and most tricky part <a id="id1178" class="indexterm"/>of the recipe is the setting up of the bootable microSD card. This starts at step 9. The first partition is with FAT32 filesystems, which means that it can easily be mounted and edited on computers with different operating systems. This is convenient, because you might want to change a binary file or edit <code class="literal">uEnv.txt</code> on a Microsoft Windows computer.</p><p>The recipe contains a lot of Linux commands. If you are unsure how they work or if you just want to see details about them, please check the corresponding Linux Man Pages. For example, type <code class="literal">man dd</code> to learn more about this command.</p></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec422"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">This recipe is based on several important sources. The information about the microSD card partitions is similar to the process for booting Tizen on PandaBoard, and more <a id="id1179" class="indexterm"/>details can be found on the Tizen wiki at <a class="ulink" href="https://wiki.tizen.org/wiki/Tizen_IVI_Getting_Started_Guide_For_PandaBoard">https://wiki.tizen.org/wiki/Tizen_IVI_Getting_Started_Guide_For_PandaBoard</a>.</li><li class="listitem" style="list-style-type: disc">The Linux-sunxi project is available<a id="id1180" class="indexterm"/> in GitHub at <a class="ulink" href="https://github.com/linux-sunxi/">https://github.com/linux-sunxi/</a>, and more information can also be found at wiki (<a class="ulink" href="http://linux-sunxi.org/Main_Page">http://linux-sunxi.org/Main_Page</a>).</li><li class="listitem" style="list-style-type: disc">There is a community-driven initiative to port Tizen to Allwinner devices, and all resources of this project are also stored in GitHub at <a class="ulink" href="https://github.com/leon-anavi/tizen-sunxi">https://github.com/leon-anavi/tizen-sunxi</a>.</li><li class="listitem" style="list-style-type: disc">Tizen-sunxi <a id="id1181" class="indexterm"/>is being developed and tested primarily on open source hardware devices manufactured by Olimex. Information about building Linux-kernel and U-Boot loader for their most popular single-board computers with Allwinner<a id="id1182" class="indexterm"/> processors can be found on their blog. The following links are useful for:<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A20-OLinuXino-MICRO (<a class="ulink" href="http://olimex.wordpress.com/2013/11/05/building-the-ultimate-debian-sd-card-for-linux-with-kernel-3-4-for-a20-olinuxino-micro/">http://olimex.wordpress.com/2013/11/05/building-the-ultimate-debian-sd-card-for-linux-with-kernel-3-4-for-a20-olinuxino-micro/</a>)</li><li class="listitem" style="list-style-type: disc">A10-OLinuXino-LIME (<a class="ulink" href="http://olimex.wordpress.com/2014/06/23/a10-olinuxino-lime-debian-build-with-kernel-3-4-90/">http://olimex.wordpress.com/2014/06/23/a10-olinuxino-lime-debian-build-with-kernel-3-4-90/</a>)</li><li class="listitem" style="list-style-type: disc">A13-OLinuXino (<a class="ulink" href="http://olimex.wordpress.com/2014/07/18/a13-olinuxino-wifi-debian-build-with-kernel-3-4-90/">http://olimex.wordpress.com/2014/07/18/a13-olinuxino-wifi-debian-build-with-kernel-3-4-90/</a>)</li><li class="listitem" style="list-style-type: disc">A10S-OLinuXino-MICRO (<a class="ulink" href="http://olimex.wordpress.com/2013/10/28/building-debian-sd-card-for-linux-with-kernel-3-4-from-scratch-for-a10s-olinuxino-micro/">http://olimex.wordpress.com/2013/10/28/building-debian-sd-card-for-linux-with-kernel-3-4-from-scratch-for-a10s-olinuxino-micro/</a></li></ul></div></li><li class="listitem" style="list-style-type: disc">Additional<a id="id1183" class="indexterm"/> information about Tizen, ARM devices, and<a id="id1184" class="indexterm"/> porting <a id="id1185" class="indexterm"/>guidelines reside on the<a id="id1186" class="indexterm"/> Tizen wiki. A good starting<a id="id1187" class="indexterm"/> point is <a class="ulink" href="https://wiki.tizen.org/wiki/ARM">https://wiki.tizen.org/wiki/ARM</a>.</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch12lvl1sec129"/>Hacking a tablet and booting Tizen on it</h1></div></div></div><p>Allwinner processors can be found in numerous devices on the market. According to their product catalog, Allwinner shipped the most ARM processors for Android tablets in 2013.</p><p>The previous<a id="id1188" class="indexterm"/> recipe has already proved that Tizen runs on development boards with Allwinner processors, and the next step is to boot Tizen on existing Android tablets<a id="id1189" class="indexterm"/> on the market. This recipe provides guidelines on how to retrieve the binary configuration files of tablets using reverse engineering.</p><div><div><div><div><h2 class="title"><a id="ch12lvl2sec423"/>Getting ready</h2></div></div></div><p>Please make sure that the<a id="id1190" class="indexterm"/> following prerequisites are met:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">An Android tablet (or eventually smartphone) with a slot for a microSD card and an Allwinner ARMv7 compatible processor, such as A20, A13, A10, A10, and so on</li><li class="listitem" style="list-style-type: disc">A computer with installed <a id="id1191" class="indexterm"/><strong>Android Debug Bridge</strong> (<strong>ADB</strong>), which comes with the Android SDK</li><li class="listitem" style="list-style-type: disc">A bootable microSD card with a Tizen image prepared following the tutorial in the preceding recipe</li></ul></div></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec424"/>How to do it...</h2></div></div></div><p>Follow these guidelines to retrieve the binary configuration files of the tablet, to put them on the Tizen image, and to boot it from the microSD card on the tablet. Pay attention to the fact that the<a id="id1192" class="indexterm"/> instructions are provided as is. The process is complex, and you <a id="id1193" class="indexterm"/>must do it at your risk:</p><div><ol class="orderedlist arabic"><li class="listitem">Turn on the tablet, wait until its Android stock image loads, and after that, enable <strong>USB debugging</strong> from <strong>Settings</strong> | <strong>Developer options</strong>.</li><li class="listitem">Connect the tablet to a computer in the developer mode.</li><li class="listitem">Enter remote shell on the tablet by executing the following command:<div><pre class="programlisting">
<strong>adb shell</strong>
</pre></div></li><li class="listitem">Mount and access the NAND memory of the tablet as follows:<div><pre class="programlisting">
<strong>mkdir /sdcard/nanda</strong>
<strong>mount -t vfat /dev/block/nanda /sdcard/nanda</strong>
</pre></div></li><li class="listitem">Exit the shell, and copy <code class="literal">script.bin</code> to the computer using <code class="literal">adb</code> as follows:<div><pre class="programlisting">
<strong>adb pull /sdcard/nanda/script.bin .</strong>
</pre></div></li><li class="listitem">Plug the microSD <a id="id1194" class="indexterm"/>card into the computer.</li><li class="listitem">Overwrite <code class="literal">script.bin</code> on the FAT32 partition of the microSD card, and remove <code class="literal">uEnv.txt</code> if it is present.</li><li class="listitem">Eject the microSD card from the computer.</li><li class="listitem">Turn off the tablet.</li><li class="listitem">Plug the microSD card into the tablet.</li><li class="listitem">Turn on the tablet again. If everything works as expected, Tizen will be booted directly from the microSD card.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec425"/>How it works</h2></div></div></div><p>This command-line tool Android Debug Bridge<a id="id1195" class="indexterm"/> is used to connect to an Android tablet with Allwinner and copy its binary configuration files. It is a client-server program that has exactly the same purpose as SDB but for Android devices.</p><p>The internal storage of Sunxi tablets, also known as their NAND flash memory, is present as a device that can be mounted as shown in step 4. After that, direct access to the files is obtained, and they can be transferred to the computer. This trick allows easy reverse engineering of configuration files and simplifies the booting process of other platforms such as Tizen and Linux distributions such as Debian.</p><p>The ADB command<a id="id1196" class="indexterm"/> <code class="literal">pull</code> is used to download <code class="literal">script.bin</code> from the Android tablet to the computer. The first argument of the <code class="literal">pull</code> command is the location of the file on the device, and the second <a id="id1197" class="indexterm"/>argument is the destination on the computer where it must be saved.</p></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec426"/>There's more...</h2></div></div></div><p>To read its configurations, the binary file that has been copied from Android must be converted to a <code class="literal">fex</code> file. The open source project Linux-sunxi, which is hosted at GitHub, provides a simple<a id="id1198" class="indexterm"/> command-line tool for this job. Perform the following simple operations to convert <code class="literal">script.bin</code> to the <code class="literal">fex</code> file:</p><div><ol class="orderedlist arabic"><li class="listitem">Download<a id="id1199" class="indexterm"/> the source code of sunxi-tools using <code class="literal">git</code> as follows:<div><pre class="programlisting">
<strong>git clone https://github.com/linux-sunxi/sunxi-tools.git</strong>
</pre></div></li><li class="listitem">Build from the source <code class="literal">bin2fex</code> as follows:<div><pre class="programlisting">
<strong>make bin2fex</strong>
</pre></div></li><li class="listitem">Run <code class="literal">bin2fex</code> to convert <code class="literal">script.bin</code> to <code class="literal">script.fex</code>, for example:<div><pre class="programlisting">
<strong>./bin2fex script.bin &gt; script.fex</strong>
</pre></div></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec427"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">This recipe was inspired by the article about <a id="id1200" class="indexterm"/>A10 devices available at <a class="ulink" href="http://elinux.org/Hack_A10_devices">http://elinux.org/Hack_A10_devices</a></li><li class="listitem" style="list-style-type: disc">More information about <a id="id1201" class="indexterm"/>Android Debug Bridge and its commands is available at <a class="ulink" href="http://developer.android.com/tools/help/adb.html">http://developer.android.com/tools/help/adb.html</a></li></ul></div></div></div></body></html>