<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch07"/>Chapter 7. LDAP – A Better Type of User</h1></div></div></div><p>Having a local user account and password defined on each server and workstation for your access is not really practical. Imagine trying to enforce password changes when you may have to implement the change on 10 or 12 systems that you may use. You may also wish to consider what happens when a user leaves; do you really think the account will be deleted from every system each time? The reality is that where multiple systems are placed, some form of directory solution must be in place; this may be means of OpenLDAP, or even Active Directory. Yes, CentOS can join a Windows domain. We will look<a class="indexterm" id="id297"/> at 389-ds, the CentOS implementation of the Red Hat Directory Server. 389-ds is based on OpenLDAP, but with some pretty smart management tools. We are going to cover the following topics in this chapter:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>LDAP concepts</strong>: In this section, you will understand terms that are used when talking about directory services</li><li class="listitem" style="list-style-type: disc"><strong>Installing 389-ds</strong>: This section involves installing the 389 Directory Server ensuring all the plumbing is in place</li><li class="listitem" style="list-style-type: disc"><strong>LDAP user account management</strong>: This section includes the management life cycle of users in the directory</li><li class="listitem" style="list-style-type: disc"><strong>LDAP authentication</strong>: This section will cover authenticating a second CentOS server to the shared directory</li></ul></div><div><div><div><div><h1 class="title"><a id="ch07lvl1sec40"/>LDAP concepts</h1></div></div></div><p>LDAP stands <a class="indexterm" id="id298"/>for Lightweight Directory Access Protocol; as the name suggests, it began as a client-server protocol used to access a directory, but there was so little development in directories <a class="indexterm" id="id299"/>that it soon took on the entire role of a directory server. If we break a directory down, the <strong>Directory Access Protocol</strong> (<strong>DAP</strong>) is just one small part of the many pieces of an LDAP server:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Directory Information Database</strong> (<strong>DIB</strong>): This <a class="indexterm" id="id300"/>is<a class="indexterm" id="id301"/> the database where the directory is stored</li><li class="listitem" style="list-style-type: disc"><strong>Directory Information Tree</strong> (<strong>DIT</strong>): This<a class="indexterm" id="id302"/> is<a class="indexterm" id="id303"/> the hierarchical organization that represents entries in the DIB, organizations, organizational units, and so on</li><li class="listitem" style="list-style-type: disc"><strong>Directory System Protocol</strong> (<strong>DSP</strong>): This<a class="indexterm" id="id304"/> represents<a class="indexterm" id="id305"/> the server to server communication</li><li class="listitem" style="list-style-type: disc"><strong>Directory Access Protocol</strong> (<strong>DAP</strong>): This<a class="indexterm" id="id306"/> represents<a class="indexterm" id="id307"/> the client-to-server communication</li><li class="listitem" style="list-style-type: disc"><strong>Directory Server Agent</strong> (<strong>DSA</strong>): This<a class="indexterm" id="id308"/> is the server software</li><li class="listitem" style="list-style-type: disc"><strong>Directory User Agent</strong> (<strong>DUA</strong>): This<a class="indexterm" id="id309"/> is<a class="indexterm" id="id310"/> the client software</li><li class="listitem" style="list-style-type: disc"><strong>Directory Information Shadowing Protocol</strong> (<strong>DISP</strong>): This<a class="indexterm" id="id311"/> is the replication of <a class="indexterm" id="id312"/>the directory</li><li class="listitem" style="list-style-type: disc"><strong>Schema</strong>: These<a class="indexterm" id="id313"/> are entry data definitions</li></ul></div><p>Each of these<a class="indexterm" id="id314"/> elements is represented in some way in all LDAP directories and common directories, including OpenLDAP, Red Hat Directory Server, and 389-ds. We <a class="indexterm" id="id315"/>will be looking at the 389-ds, which is based on the Red Hat Directory Server, which in turn is an implementation of OpenLDAP with some enhanced features. Ultimately, directories are used in the creation of what has commonly been dubbed as identity management, the central storage of user accounts to lessen the burden on account management, and improve security. A user is much more likely to recall a strong password if he/she only remembers a single credential set.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch07lvl1sec41"/>Installing 389-ds</h1></div></div></div><p>In the<a class="indexterm" id="id316"/> following<a class="indexterm" id="id317"/> sections, we will see the steps<a class="indexterm" id="id318"/> involved in installing 389-ds.</p><div><div><div><div><h2 class="title"><a id="ch07lvl2sec41"/>Configuring DNS or hostname records</h2></div></div></div><p>When installing OpenLDAP or 389-DS, it is imperative that you can resolve the hostname <a class="indexterm" id="id319"/>of the system on which <a class="indexterm" id="id320"/>you install the directory. My system is named <code class="literal">ldap1.tup.com</code>, and I have a local DNS record for this but it can also be maintained by an entry in the local <code class="literal">/etc/hosts</code> file on the host system. I can verify the name is correct by <a class="indexterm" id="id321"/>using the <code class="literal">host</code> command or something similar:</p><div><pre class="programlisting">
<strong>$ host ldap1.tup.com</strong>
</pre></div><p>You should see the IP address being returned. You can see the result of this command when executed on my system in the following screenshot:</p><div><img alt="Configuring DNS or hostname records" src="img/5920OS_07_01.jpg"/></div></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec42"/>Setting TCP keepalives</h2></div></div></div><p>The default timeout of TCP connections is 120 minutes. We will configure it for five minutes. In<a class="indexterm" id="id322"/> doing so, we will reduce the overhead<a class="indexterm" id="id323"/> caused by dropped TCP connections; they will be closed much more quickly. Edit the <code class="literal">/etc/sysctl</code> file to include the following line:</p><div><pre class="programlisting">net.ipv4.tcp_keepalive_time = 300</pre></div><p>Load the settings using <code class="literal">sysctl</code> to make them current as well as the default for the next reboot:</p><div><pre class="programlisting">
<strong># sysctl -p</strong>
</pre></div></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec43"/>Setting file descriptors</h2></div></div></div><p>Editing the<a class="indexterm" id="id324"/> number of file descriptors on the Linux <a class="indexterm" id="id325"/>system can help a directory server access files more efficiently, so we will start by looking at the current setting:</p><div><pre class="programlisting">
<strong># cat /proc/sys/fs/file-max</strong>
</pre></div><p>If the value is less than 64,000, then increase the limit in the <code class="literal">/etc/sysctl</code> file:</p><div><pre class="programlisting">
<strong>fs.file-max = 64000</strong>
</pre></div><p>Run the following command to read the new value we have just set, saving a restart:</p><div><pre class="programlisting">
<strong># sysctl -p</strong>
</pre></div><p>For this <a class="indexterm" id="id326"/>setting to be effective, we must also<a class="indexterm" id="id327"/> allow all users to be allowed to have enough open files. Edit the <code class="literal">/etc/security/limits.conf</code> file to include the following lines:</p><div><pre class="programlisting">*   soft   nofiles   8192
*   hard   nofiles   8192</pre></div><p>This allows all users (<code class="literal">*</code>) to have a maximum of 8,192 open files (<code class="literal">nofiles</code>). We set both limits to the same value, but the soft limit can be exceeded with just a warning, while the hard limit cannot be exceeded.</p></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec44"/>Creating the directory server user and group</h2></div></div></div><p>When configuring the directory, we will need to assign the service a user and group ID; the<a class="indexterm" id="id328"/> default is the <code class="literal">nobody</code> account, but<a class="indexterm" id="id329"/> we should create a <a class="indexterm" id="id330"/>non-privileged user and group dedicated to the directory <a class="indexterm" id="id331"/>as follows:</p><div><pre class="programlisting">
<strong># useradd -m ldap389</strong>
</pre></div><p>The <code class="literal">useradd</code> command will create the <code class="literal">ldap389</code> user and group.</p><p>At this stage, it is pertinent to reboot the system to ensure that the settings are in place before we start the installation of the directory server. With this in place, we can further prepare for the installation.</p></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec45"/>The EPEL repository</h2></div></div></div><p>We will <a class="indexterm" id="id332"/>need to implement the EPEL repository. Using <a class="indexterm" id="id333"/>the <code class="literal">wget</code> command, you can download the RPM file that will <a class="indexterm" id="id334"/>configure the repository for you:</p><div><pre class="programlisting">
<strong>$ wget http://epel.mirror.net.in/epel/6/i386/epel-release-6-8.noarch.rpm</strong>
</pre></div><p>Once you have downloaded, install the RPM as root. This will create the repository file for you. The output <a class="indexterm" id="id335"/>of the <code class="literal">yum repolist</code> command should show the EPEL repository. The following screenshot is from my demonstration system:</p><div><img alt="The EPEL repository" src="img/5920OS_07_02.jpg"/></div></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec46"/>Installing and configuring 389-ds</h2></div></div></div><p>With the <a class="indexterm" id="id336"/>repository configured on our system, we are now ready<a class="indexterm" id="id337"/> to use <code class="literal">yum</code> to install the directory server:</p><div><pre class="programlisting">
<strong># yum install -y 389-ds openldap-clients</strong>
</pre></div><p>Among <a class="indexterm" id="id338"/>other things, you will find that Java will be installed as there is a<a class="indexterm" id="id339"/> Java management console that simplifies connecting to and managing entries in the directory.</p><p>The configuration is made simple with the implementation of a script that will guide us through the configuration of the administration and directory services on CentOS. The administration service represents the LDAP server; the directory service itself represents an individual directory hosted on the administration server. A single administration server can look after directories for company A and company B. The two directories can be administered separately.</p><p>The setup is achieved by running the script, <code class="literal">setup-ds-admin.pl</code>. The script is installed in your PATH statement. The default is for the script to run interactively but, especially where servers are setup frequently, you may use an answer file to accompany the script.</p><p>Running the following command will configure the directory and administration services interactively:</p><div><pre class="programlisting">
<strong># setup-ds-admin.pl</strong>
</pre></div><p>This command, when run, will lead you into a menu, which is explained as follows:</p><div><ol class="orderedlist arabic"><li class="listitem"><strong>Continue with setup</strong>: Choose <code class="literal">yes</code> to continue with the script at the first prompt.</li><li class="listitem"><strong>dsktune</strong>: The tuning analysis will be run to check that you have RAM greater than 1024 MB and that the other preflight checks are in place.</li><li class="listitem"><strong>Choose a setup type</strong>:<div><ol class="orderedlist arabic"><li class="listitem"><strong>Express</strong></li><li class="listitem"><strong>Typical</strong></li><li class="listitem"><strong>Custom</strong></li></ol></div><p>We will choose <code class="literal">2</code> for <strong>Typical</strong>.</p></li><li class="listitem"><strong>Set the computer name</strong>: Next, we set the computer name. This should be default<a class="indexterm" id="id340"/> to your hostname; in my case <code class="literal">ldap1.tup.com</code>.</li><li class="listitem"><strong>Set the user which the directory server will run</strong>: This we set to <code class="literal">ldap389</code> in our<a class="indexterm" id="id341"/> case, the dedicated user we created.</li><li class="listitem"><strong>Set the group which the directory server will run</strong>: We will use the <code class="literal">ldap389</code> group.</li><li class="listitem"><strong>Register the new directory server with an existing server</strong>: We will choose <code class="literal">No</code> as<a class="indexterm" id="id342"/> this is the first server. If another server pre-existed, we <a class="indexterm" id="id343"/>could register this installation with that server.</li><li class="listitem"><strong>Give the configuration directory server a user ID and password</strong>: We can accept the preset name of the admin. We use this account to log in to the directory server.</li><li class="listitem"><strong>The configuration directory server domain</strong>: The domain I am using is <code class="literal">tup.com</code>. We will create an LDAP domain to reflect this.</li><li class="listitem"><strong>Set the directory server port</strong>: The default port for LDAP is <code class="literal">389</code>, and we will keep this as the default.</li><li class="listitem"><strong>Set the directory server identifier</strong>: We will then be prompted for a unique name for the server in the directory. This will default to the first part of the hostname, in my case, <code class="literal">ldap1</code>.</li><li class="listitem"><strong>Set the directory suffix</strong>: LDAP names are comma separated. The LDAP suffix will now be displayed similar to the following and will make up the top container in the LDAP tree:<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">dc=tup, dc=com</code></li></ul></div></li><li class="listitem"><strong>Set the directory manager ID</strong>: This is the LDAP directory manager and has a default name of <code class="literal">cn=Directory Manager</code>. We will need to set a secure password for this.</li><li class="listitem"><strong>Set the administration server port</strong>: The administration port can be used to manage the server through the Java console. We will leave the default port at <code class="literal">9830</code>.</li></ol></div><p>The interactive setup is now complete, and the configuration will be created along with the default entries. The service should start in the final stage and a success message will be shown. We <a class="indexterm" id="id344"/>should ensure that the services start correctly <a class="indexterm" id="id345"/>on boot using <code class="literal">chkconfig</code>:</p><div><pre class="programlisting">
<strong># chkconfig dirsrv on</strong>
<strong># chkconfig dirsrv-admin on</strong>
</pre></div><div><div><h3 class="title"><a id="tip11"/>Tip</h3><p>Remember<a class="indexterm" id="id346"/> that <code class="literal">dirsrv</code> runs on port <code class="literal">389</code> and is the LDAP <a class="indexterm" id="id347"/>directory. The <code class="literal">dirsrv-admin</code> is the administration server that listens on port <code class="literal">9830</code>
</p></div></div></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec47"/>Testing the installation</h2></div></div></div><p>Congratulations! You now have an LDAP server, and we can test the configuration in a couple of <a class="indexterm" id="id348"/>ways. Firstly, we can use the <code class="literal">ldapsearch</code> command to display entries from the directory, and then we will use the 389-console, the GUI tool that we can manage LDAP with. In the following command, the <code class="literal">-x</code> option is for simple authentication and the <code class="literal">-b</code> option is the search base:</p><div><pre class="programlisting">
<strong>$ ldapsearch -x -b dc=tup,dc=com</strong>
</pre></div><p>The output from this will list, in <strong>Lightweight Directory Interchange Format</strong> (<strong>LDIF</strong>), some<a class="indexterm" id="id349"/> containers and groups that were created during the configuration. The following screenshot shows one such group from the output on my system:</p><div><img alt="Testing the installation" src="img/5920OS_07_03.jpg"/></div><p>The big advantage that we have with the 389-ds is the GUI. We can run it from the server or we could install the console on a client machine. We will run it from the server using the following command:</p><div><pre class="programlisting">
<strong>$ 389-console -a http://ldap1.tup.com:9830</strong>
</pre></div><p>We will be <a class="indexterm" id="id350"/>presented with a graphical console, as shown in the following screenshot, in which we can log in as an admin:</p><div><img alt="Testing the installation" src="img/5920OS_07_04.jpg"/></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch07lvl1sec42"/>LDAP user account management</h1></div></div></div><p>The purpose of the directory is to house user accounts. These accounts do not have to be used for <a class="indexterm" id="id351"/>authentication but we can use them for authentication. This<a class="indexterm" id="id352"/> may be for other CentOS or Linux systems as well as services such as Apache. We will now look at creating user accounts in the directory both from the command line and from the GUI console. If we start with the GUI console, we can create and export the user and reimport it from the command line.</p><div><div><div><div><h2 class="title"><a id="ch07lvl2sec48"/>Adding users using the GUI console</h2></div></div></div><p>We can log in to the console using the admin account as before. From the main welcome page, we <a class="indexterm" id="id353"/>should choose the <strong>Users and Groups</strong> tab and then, select the <strong>Search</strong> button. With nothing in the search dialog, the <a class="indexterm" id="id354"/>search will return all users, groups and containers. The container objects that we can see are organizational units; an <strong>organizational unit</strong> (<strong>OU</strong>) is a little like a folder within a filesystem. In the directory, OUs are used to <a class="indexterm" id="id355"/>organize objects. Navigating to the OU named "people", we can use the menu to <strong>Create</strong> | <strong>User</strong>, (found at the bottom of the screen). This will open a form for use to complete the user's details. On the user form, we will add the following data:</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><tbody><tr><td style="text-align: left" valign="top">
<p>
<strong>First Name</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Bob</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Last Name</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Bloggs</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Common Name</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Bob Bloggs</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>User ID</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">bbloggs</code> (it is suggested to keep it all lowercase)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Password</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Password1</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Confirm Password</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Password1</code>
</p>
</td></tr></tbody></table></div><p>If we only needed a user to support an application login, such as from an Apache web server, this is all we would need. As we ultimately would like to log in from Linux, we will also complete the <strong>Posix User</strong> form as follows:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Enable Posix User Attributes</strong>: <code class="literal">Selected</code></li><li class="listitem" style="list-style-type: disc"><strong>UID Number</strong>: <code class="literal">5000</code></li><li class="listitem" style="list-style-type: disc"><strong>GID Number</strong>: <code class="literal">100</code></li><li class="listitem" style="list-style-type: disc"><strong>Home Directory</strong>: <code class="literal">/home/bbloggs</code></li><li class="listitem" style="list-style-type: disc"><strong>Login Shell</strong>: <code class="literal">/bin/bash</code></li></ul></div><p>These attributes then combine to create our user. This will be displayed in the 389-console as well as in <code class="literal">ldapsearch</code>. If we rerun the earlier search, this time, we will add a filter to display only those objects that match <code class="literal">posixAccount</code>:</p><div><pre class="programlisting">
<strong>$ ldapsearch -x -b dc=tup,dc=com objectClass=posixAccount</strong>
</pre></div><p>This should just show a single entry.</p></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec49"/>Adding users from the command line</h2></div></div></div><p>To create <a class="indexterm" id="id356"/>users from the command line, we <a class="indexterm" id="id357"/>have a similar tool to <code class="literal">ldapsearch</code>. The <code class="literal">ldapadd</code> command will create users in the directory. The user account details will be defined within an LDIF file to use as an argument to the <code class="literal">ldapadd</code> command. We will additionally need to be authenticated to perform this operation as anonymous connections, because as you will imagine, it cannot create entries within the directory. We will<a class="indexterm" id="id358"/> begin by ensuring<a class="indexterm" id="id359"/> the authentication is correct by using <code class="literal">ldapsearch</code>; this <a class="indexterm" id="id360"/>will also allow us to view all attributes for the new user <code class="literal">bbloggs</code>. We will use this output, once edited, to create a new user when imported with <code class="literal">ldapadd</code>
</p><div><pre class="programlisting">
<strong>$ ldapsearch -x -D "cn=directory manager" -w Password1 -b dc=tup,dc=com objectClass=posixAccount &gt; /tmp/user.ldif</strong>
</pre></div><p>Using this search, we now authenticate as the directory manager and redirect the output through to the <code class="literal">/tmp/user.ldif</code> file. Using the <code class="literal">-W</code> option in place of <code class="literal">-w</code> will allow the password to be requested during the operation rather than being placed on the command line.</p><p>We should edit the file using your preferred text editor so that it looks similar to the following:</p><div><pre class="programlisting">dn: uid=ssmith,ou=People,dc=tup,dc=com
givenName: Sally
sn: Smith
loginShell: /bin/bash
uidNumber: 5001
gidNumber: 100
objectClass: top
objectClass: person
objectClass: organizationalPerson
objectClass: inetorgperson
objectClass: posixAccount
uid: ssmith
cn: Sally Smith
homeDirectory: /home/ssmith
userPassword: Password1</pre></div><div><div><h3 class="title"><a id="tip12"/>Tip</h3><p>We are setting the <code class="literal">uidNumber</code> manually, and it must be incremented along with changing the other name-based fields.</p></div></div><p>Once the file is edited, we <a class="indexterm" id="id361"/>can create the user from the command line using the <code class="literal">ldapadd</code> command:</p><div><pre class="programlisting">
<strong>$ ldapadd -x -D "cn=directory manager" -w Password1 -f /tmp/user.ldif</strong>
</pre></div><p>If you typed correctly, then you should see a success message similar to the following screenshot taken from my system:</p><div><img alt="Adding users from the command line" src="img/5920OS_07_05.jpg"/></div><p>The<a class="indexterm" id="id362"/> password for the new user <a class="indexterm" id="id363"/>will be stored in an encrypted form, although we add it in clear text from the LDIF file.</p><p>We have now seen how we can use the standard OpenLDAP tool to search and add entries to our directory as well as the comfort of being able to use the GUI tools if we prefer. We have two users in the system now that can be provisioned to client Linux systems.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch07lvl1sec43"/>LDAP authentication</h1></div></div></div><p>We will use an additional CentOS 6.5 server on which we will configure the OpenLDAP client for <a class="indexterm" id="id364"/>authentication so that we make use of the central account <a class="indexterm" id="id365"/>database that we established on the 389-ds server.</p><p>From the client machine, we will need to install the following packages:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">openldap</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">openldap-client</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">nss-pam-ldapd</code></li></ul></div><p>This will be managed through the standard <code class="literal">yum</code> repositories:</p><div><pre class="programlisting">
<strong># yum install openldap openldap-clients  nss-pam-ldapd</strong>
</pre></div><p>Once this is installed, we will make one change to the <code class="literal">/etc/sysconfig/authconfig</code> file. We will edit the line that reads <code class="literal">FORCELEGACY=no</code> to <code class="literal">read FORCELEGACY=yes</code>. This change will allow us to use LDAP rather than LDAPS. Although it would be more secure to use LDAPS as the information encrypts data exchange, using LDAP, we alleviate the need to create certificates for the server, which is adequate on a local network.</p><p>To configure the authentication, we can use the <code class="literal">authconfig</code> command:</p><div><pre class="programlisting">
<strong># authconfig --enableldap --enableldapauth --enablemkhomedir \</strong>
<strong>--enablemkhomedir --ldapserver=ldap://192.168.0.76:389/ \ </strong>
<strong>--ldapbasedn="dc=tup,dc=com" \</strong>
<strong>--enablecache -- disablefingerprint --update</strong>
</pre></div><p>This configures authentication and will write the configuration to the correct files. You will notice that we include the option to create user home directories, <code class="literal">--enablemkhomedir</code>; on login, if a user's home directory does not exist, it will be created. We added the home directory path when creating the users, but this will not have created the home directory. These home directories are not shared unless we remap the <code class="literal">/home</code> directory on client machines to a central location.</p><p>We can verify the configuration <a class="indexterm" id="id366"/>now using the <code class="literal">getent</code> command we touched upon in the previous chapter:</p><div><pre class="programlisting">
<strong># getent passwd</strong>
</pre></div><p>This<a class="indexterm" id="id367"/> should list the <code class="literal">bbloggs</code> and <code class="literal">ssmith</code> account from the central LDAP<a class="indexterm" id="id368"/> server. This can be seen in the output on my system:</p><div><img alt="LDAP authentication" src="img/5920OS_07_06.jpg"/></div><p>We can now log out and log in again as one of our users. Choosing the <code class="literal">ssmith</code> account, we log in to the graphical gnome desktop, navigate to the <strong>System</strong> | <strong>Preferences</strong>, and select the <strong>About Me</strong> button. We can see that we are logged in as <strong>Sally</strong>. The output from my system is shown in the following screenshot:</p><div><img alt="LDAP authentication" src="img/5920OS_07_07.jpg"/></div></div>
<div><div><div><div><h1 class="title"><a id="ch07lvl1sec44"/>Summary</h1></div></div></div><p>In this chapter, we introduced you to the concept of identity management and showed the use of the 389-ds, the enriched OpenLDAP server on CentOS. It is enriched with a simplified setup script and graphical tools; however, we also saw how we can use traditional OpenLDAP tools to create and search entries in a directory. We finished the chapter by allowing a second CentOS server to use the account database shared by 389-ds supplying us with a single logon across many systems.</p><p>In the next chapter, we will discuss the Nginx web server, the new kid on the block, but a refreshing alternative to Apache.</p></div></body></html>