- en: Chapter 9. Security
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第9章 安全
- en: Whether deployed at a hospital, college, corporation, federal agency, or non-profit
    organization, security of the end device has become a critical component of any
    organization’s data loss prevention and information assurance policies. With data
    loss events, for example, such as WikiLeaks or stolen laptops with social security
    numbers from organizations such as the U.S. Census Bureau, Ireland Department
    of Social and Family Affairs, or Anheuser-Busch, ensuring that sensitive data
    stays within the confines of the corporate infrastructure has gained much visibility.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 无论是部署在医院、大学、公司、联邦机构还是非营利组织，终端设备的安全性已成为任何组织的数据丢失防护和信息保障政策的关键组成部分。例如，像维基解密事件或像美国人口普查局、爱尔兰社会与家庭事务部、安海斯·布希等组织丢失带有社会安全号码的笔记本电脑等数据丢失事件，确保敏感数据始终处于公司基础设施的范围内已经引起了广泛关注。
- en: In a traditional physical desktop model end users are issued desktops or laptops
    that contain writeable media (hard drives). These end devices store data such
    as the user’s profile, copies of data from file shares, browser cache, plain text
    documents, images, spreadsheets, and other business and personal data.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在传统的物理桌面模型中，终端用户会配发包含可写介质（硬盘）的桌面或笔记本电脑。这些终端设备存储如用户的个人资料、文件共享的数据副本、浏览器缓存、纯文本文件、图像、电子表格以及其他商业和个人数据。
- en: Even with encryption of the hard drive on the end device sensitive data can
    still reside on the laptop (for example). With the availability of high-powered
    compute instances with processing power ideal for password cracking algorithms,
    such as Amazon EC2 GPU instances, cracking passwords and encryption algorithms
    can be offloaded to a public cloud. Therefore, the safest end device is a device
    that does not store any sensitive information, whether encrypted or not. For this
    reason, PCoIP zero clients (end devices that have a PCoIP chip from Teradici)
    are arguably more secure than thin clients (with a locked down operating system).
    Both are exponentially more secure than thick clients (traditional laptop or desktop).
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 即使在终端设备上对硬盘进行加密，敏感数据仍然可能存储在笔记本电脑（例如）中。由于高性能计算实例的可用性，它们的处理能力非常适合密码破解算法，如亚马逊EC2
    GPU实例，破解密码和加密算法可以被转移到公共云中。因此，最安全的终端设备是不存储任何敏感信息的设备，无论是否加密。基于这个原因，PCoIP零客户端（具有Teradici的PCoIP芯片的终端设备）可以说比薄客户端（具有锁定操作系统的设备）更加安全。两者都比厚客户端（传统的笔记本电脑或台式机）安全得多。
- en: The inherent security of VDI
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: VDI的固有安全性
- en: With a properly designed VDI solution, all of the sensitive data resides in
    a secured data center versus living on hard drives in devices such as laptops
    and desktops. While it is possible to copy data within the vDesktop to, for example,
    a USB thumb drive plugged into the end device, it is also possible to prevent
    USB redirection of such devices.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 使用适当设计的VDI解决方案，所有敏感数据都存储在安全的数据中心，而不是存储在如笔记本电脑和台式机等设备的硬盘中。虽然可以将数据从vDesktop复制到例如插入到终端设备中的USB闪存驱动器，但也可以阻止这种设备的USB重定向。
- en: In secure VDI implementations the only data that is typically transmitted is
    the visual and audio stream to deliver the desktop experience to the end device.
    This means that if an end user is using Microsoft Word to manipulate a document
    while connected to their vDesktop, the document does not live on his/her end device
    (for example, a laptop). Instead, it completely resides within the vDesktop running,
    ideally, within the data center. The visual representation of the desktop, including
    the visual display of Microsoft Word and the document are streamed down to the
    end device via the secured PCoIP protocol.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在安全的VDI实现中，通常传输的唯一数据是视觉和音频流，用以将桌面体验传输到终端设备。这意味着，如果终端用户在连接到其vDesktop时使用Microsoft
    Word操作文档，那么该文档不会存储在他的终端设备（例如笔记本电脑）上。相反，它完全存储在vDesktop中，理想情况下，这个vDesktop运行在数据中心内。桌面的视觉表现，包括Microsoft
    Word的视觉显示和文档，都会通过安全的PCoIP协议流式传输到终端设备。
- en: In a properly designed VDI solution, if an end device is broken, stolen, lost,
    or misplaced, the end user simply needs a new end device to connect back to their
    vDesktop. For example, if Lily has a PCoIP zero client that is no longer working,
    she can be issued a new zero client and can immediately resume working in the
    VDI. There is no re-imaging process for zero clients and Lily can quickly return
    to productive tasks.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在一个设计得当的 VDI 解决方案中，如果终端设备损坏、被盗、丢失或遗失，最终用户只需更换一个新的终端设备即可重新连接到他们的 vDesktop。例如，如果
    Lily 的 PCoIP 零客户端无法使用，她可以领取一台新的零客户端，并能立即恢复在 VDI 中的工作。零客户端无需重新映像，Lily 可以快速恢复生产任务。
- en: Without VDI, she may have to wait for days for an end device to be repurposed,
    procured, or provisioned before she can return to productivity.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 如果没有 VDI，她可能需要等待几天才能让终端设备重新利用、采购或配置，才能恢复生产工作。
- en: In addition, there are no data salvage actions that need to be performed because
    no data exists on the end device. In environments that employ the use of hot desking,
    or the practice of providing unassigned workspaces without reservations in an
    office environment, Lily could simply walk to an available workspace, log in,
    and reconnect to the VDI. Again, all of Lily’s data resides in the data center.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，不需要执行数据恢复操作，因为终端设备上不存在数据。在使用热桌面技术的环境中，或者在办公环境中提供不需要预约的未分配工作区的做法下，Lily 只需走到一个可用的工作区，登录并重新连接到
    VDI。同样，Lily 的所有数据都存储在数据中心。
- en: Firewalls, zones, and antivirus
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 防火墙、区域和防病毒
- en: The basic fundamentals of securing a VMware View environment involve only allowing
    the specific ports and protocols absolutely necessary for a functioning VDI. In
    addition, it also involves the use of **Secure Sockets Layer (SSL)** (as opposed
    to unencrypted traffic over port 80) when available. In addition, requiring the
    use of PCoIP, as opposed to also allowing RDP connections, can further increase
    security in the environment.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: VMware View 环境安全的基本原则包括仅允许那些对功能性 VDI 至关重要的特定端口和协议。此外，当可用时，还需要使用**安全套接字层（SSL）**（与通过端口
    80 的未加密流量相对）。另外，要求使用 PCoIP，而不是同时允许 RDP 连接，也可以进一步提高环境的安全性。
- en: 'Within a given VDI solution there are potentially several firewalls that come
    into effect. These firewalls include:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 在给定的 VDI 解决方案中，可能会有多个生效的防火墙。这些防火墙包括：
- en: '**Windows OS firewall:** This firewall is used to restrict inbound and outbound
    traffic at the operating system layer'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Windows 操作系统防火墙：** 此防火墙用于限制操作系统层的进出流量'
- en: '**Network firewall (internal):** These firewalls are used to restrict traffic
    within the internal LAN environment'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网络防火墙（内部）：** 这些防火墙用于限制内部局域网环境内的流量'
- en: '**Network firewall (external/DMZ)**: These firewalls are used to restrict traffic
    (typically) generated from the Internet'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网络防火墙（外部/DMZ）：** 这些防火墙用于限制通常来自互联网的流量'
- en: '**Virtual firewall:** These firewalls are used to restrict traffic across virtual
    port groups and virtual switches within the virtual infrastructure'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**虚拟防火墙：** 这些防火墙用于限制虚拟基础设施中虚拟端口组和虚拟交换机之间的流量'
- en: The calculated use of firewalls helps create physical and virtual security enclaves
    known as **zones**. A virtual security zone is a group of network configurations,
    security policies, virtual machines, and other virtual infrastructure components
    allowed to freely communicate with each other according to the defined policies.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 精心计算使用防火墙有助于创建被称为**区域**的物理和虚拟安全隔离区。虚拟安全区是一组网络配置、安全策略、虚拟机及其他虚拟基础设施组件，根据定义的策略允许彼此自由通信。
- en: 'Virtual security zones have the following possibilities for cross-zone communication:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 虚拟安全区有以下几种跨区通信的可能性：
- en: '**Permitted:** Virtual machines in Zone_A and Zone_B are able to freely communicate
    with each other based on a mutual trust relationship (not to be confused with
    technologies such as Active Directory trusts and relationships)'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**允许的：** Zone_A 和 Zone_B 中的虚拟机可以基于互相信任关系自由地相互通信（不要与像 Active Directory 信任和关系这样的技术混淆）'
- en: '**Restricted:** Virtual machines in Zone_A and Zone_B are able to communicate
    with each other along predefined ports and protocols only'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**受限的：** Zone_A 和 Zone_B 中的虚拟机只能通过预定义的端口和协议相互通信'
- en: '**Prohibited:** Virtual machines in Zone_A and Zone_B are not permitted to
    communicate with each other'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**禁止的：** Zone_A 和 Zone_B 中的虚拟机不允许相互通信'
- en: One of the final pieces of the security matrix is antivirus protection for vDesktops.
    Antivirus protection ensures that malware does not penetrate and proliferate the
    physical and/or virtual desktop environment.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 安全矩阵的最后一个重要组成部分是 vDesktops 的防病毒保护。防病毒保护确保恶意软件不会渗透并传播到物理和/或虚拟桌面环境中。
- en: The fundamentals firewall rules
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 基本的防火墙规则
- en: 'For a more detailed list of ports and protocols, please see Christoph Harding’s
    excellent article *Firewall settings for a VMware View environment* on `ThatsMyView.net`
    found at: [http://www.thatsmyview.net/2011/04/24/firewall-settings-for-a-vmware-view-environment/](http://www.thatsmyview.net/2011/04/24/firewall-settings-for-a-vmware-view-environment/).'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 如需更详细的端口和协议列表，请参阅 Christoph Harding 的优秀文章 *VMware View 环境的防火墙设置*，文章可以在 `ThatsMyView.net`
    网站上找到：[http://www.thatsmyview.net/2011/04/24/firewall-settings-for-a-vmware-view-environment/](http://www.thatsmyview.net/2011/04/24/firewall-settings-for-a-vmware-view-environment/)。
- en: '| Source IP | Direction | Destination IP | Transport protocol | Port | Application
    protocol | Description |'
  id: totrans-25
  prefs: []
  type: TYPE_TB
  zh: '| 源IP | 方向 | 目标IP | 传输协议 | 端口 | 应用协议 | 描述 |'
- en: '| --- | --- | --- | --- | --- | --- | --- |'
  id: totrans-26
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- | --- | --- |'
- en: '| End user device | Inbound | View Security Server | TCP | 443 | HTTPS | Authentication
    and other communications |'
  id: totrans-27
  prefs: []
  type: TYPE_TB
  zh: '| 终端用户设备 | 入站 | 查看安全服务器 | TCP | 443 | HTTPS | 身份验证及其他通信 |'
- en: '| End user device | Both | View Security Server | TCP and UDP | 4172 | PCoIP
    | PCoIP handshake and data transfer |'
  id: totrans-28
  prefs: []
  type: TYPE_TB
  zh: '| 终端用户设备 | 双向 | 查看安全服务器 | TCP 和 UDP | 4172 | PCoIP | PCoIP 握手和数据传输 |'
- en: '| View Security Server | Inbound | View Connection Server | TCP | 8009 | AJP13
    | AJP-Data Traffic |'
  id: totrans-29
  prefs: []
  type: TYPE_TB
  zh: '| 查看安全服务器 | 入站 | 查看连接服务器 | TCP | 8009 | AJP13 | AJP-数据流量 |'
- en: '| View Security Server | Inbound | View Connection Server | TCP | 4001 | JMS
    | Java |'
  id: totrans-30
  prefs: []
  type: TYPE_TB
  zh: '| 查看安全服务器 | 入站 | 查看连接服务器 | TCP | 4001 | JMS | Java |'
- en: '| View Security Server | Inbound | View Transfer Server | TCP | 443 | HTTPS
    | Communication with View Transfer Server |'
  id: totrans-31
  prefs: []
  type: TYPE_TB
  zh: '| 查看安全服务器 | 入站 | 查看传输服务器 | TCP | 443 | HTTPS | 与查看传输服务器的通信 |'
- en: '| View Security Server | Both | View Agent | TCP and UDP | 4172 | PCoIP | PCoIP
    handshake and data transfer |'
  id: totrans-32
  prefs: []
  type: TYPE_TB
  zh: '| 查看安全服务器 | 双向 | 查看代理 | TCP 和 UDP | 4172 | PCoIP | PCoIP 握手和数据传输 |'
- en: '| View Security Server | Both | View Agent | TCP | 32111 |   | USB Redirection
    (if applicable) |'
  id: totrans-33
  prefs: []
  type: TYPE_TB
  zh: '| 查看安全服务器 | 双向 | 查看代理 | TCP | 32111 |   | USB 重定向（如适用） |'
- en: '| View Connection Server | Outbound | Active Directory | TCP and UDP | 389
    | LDAP | Active Directory Authentication and ADAM |'
  id: totrans-34
  prefs: []
  type: TYPE_TB
  zh: '| 查看连接服务器 | 出站 | Active Directory | TCP 和 UDP | 389 | LDAP | Active Directory
    身份验证和 ADAM |'
- en: '| View Connection Server | Both | View Connection Server | TCP | 4100 | JMSIR
    | Internal View Connection Server communication |'
  id: totrans-35
  prefs: []
  type: TYPE_TB
  zh: '| 查看连接服务器 | 双向 | 查看连接服务器 | TCP | 4100 | JMSIR | 内部查看连接服务器通信 |'
- en: '| View Connection Server | Both | View Connection Server | TCP | 636 | LDAPS
    | AD LDS |'
  id: totrans-36
  prefs: []
  type: TYPE_TB
  zh: '| 查看连接服务器 | 双向 | 查看连接服务器 | TCP | 636 | LDAPS | AD LDS |'
- en: '| View Connection Server | Both | View Connection Server | TCP | 1515 |   |
    Microsoft Endpoint Mapper |'
  id: totrans-37
  prefs: []
  type: TYPE_TB
  zh: '| 查看连接服务器 | 双向 | 查看连接服务器 | TCP | 1515 |   | Microsoft 端点映射器 |'
- en: '| View Connection Server | Both | View Connection Server | TCP | 4001 | JMS
    | Java |'
  id: totrans-38
  prefs: []
  type: TYPE_TB
  zh: '| 查看连接服务器 | 双向 | 查看连接服务器 | TCP | 4001 | JMS | Java |'
- en: '| View Connection Server | Both | View Connection Server | TCP | 8009 | AJP13
    | AJP-Data Traffic |'
  id: totrans-39
  prefs: []
  type: TYPE_TB
  zh: '| 查看连接服务器 | 双向 | 查看连接服务器 | TCP | 8009 | AJP13 | AJP-数据流量 |'
- en: '| View Connection Server | Both | View Transfer Server | TCP | 8009 | AJP13
    | AJP-Data Traffic |'
  id: totrans-40
  prefs: []
  type: TYPE_TB
  zh: '| 查看连接服务器 | 双向 | 查看传输服务器 | TCP | 8009 | AJP13 | AJP-数据流量 |'
- en: '| View Connection Server | Outbound | View Transfer Server | TCP | 443 | HTTPS
    | Communication with View Transfer Server |'
  id: totrans-41
  prefs: []
  type: TYPE_TB
  zh: '| 查看连接服务器 | 出站 | 查看传输服务器 | TCP | 443 | HTTPS | 与查看传输服务器的通信 |'
- en: '| View Connection Server | Outbound | View Transfer Server | TCP | 4001 | JMS
    | Java |'
  id: totrans-42
  prefs: []
  type: TYPE_TB
  zh: '| 查看连接服务器 | 出站 | 查看传输服务器 | TCP | 4001 | JMS | Java |'
- en: '| View Connection Server | Outbound | View Transfer Server | TCP | 4100 | JMSIR
    | Internal communication |'
  id: totrans-43
  prefs: []
  type: TYPE_TB
  zh: '| 查看连接服务器 | 出站 | 查看传输服务器 | TCP | 4100 | JMSIR | 内部通信 |'
- en: '| View Connection Server | Outbound | vCenter Server | TCP | 18443 | SOAP |
    View Composer communication |'
  id: totrans-44
  prefs: []
  type: TYPE_TB
  zh: '| 查看连接服务器 | 出站 | vCenter 服务器 | TCP | 18443 | SOAP | 查看 Composer 通信 |'
- en: '| View Connection Server | Outbound | vCenter Server | TCP | 443 | HTTPS |
    vCenter communication |'
  id: totrans-45
  prefs: []
  type: TYPE_TB
  zh: '| 查看连接服务器 | 出站 | vCenter 服务器 | TCP | 443 | HTTPS | vCenter 通信 |'
- en: '| View Connection Server | Both | View Agent | TCP | 4001 | JMS | Java |'
  id: totrans-46
  prefs: []
  type: TYPE_TB
  zh: '| 查看连接服务器 | 双向 | 查看代理 | TCP | 4001 | JMS | Java |'
- en: '| End user device | Outbound | View Connection Server | TCP | 443 | SSL | Communication
    with View Connection Server for authentication and other activities |'
  id: totrans-47
  prefs: []
  type: TYPE_TB
  zh: '| 终端用户设备 | 出站 | 查看连接服务器 | TCP | 443 | SSL | 与查看连接服务器的通信（用于身份验证及其他活动） |'
- en: '| View Security Server | Inbound | View Connection Server | TCP | 8009 | AJP13
    | AJP-Data Traffic |'
  id: totrans-48
  prefs: []
  type: TYPE_TB
  zh: '| View Security Server | 入站 | View Connection Server | TCP | 8009 | AJP13 |
    AJP-数据流量 |'
- en: '| View Security Server | Inbound | View Connection Server | TCP | 4001 | JMS
    | Java |'
  id: totrans-49
  prefs: []
  type: TYPE_TB
  zh: '| View Security Server | 入站 | View Connection Server | TCP | 4001 | JMS | Java
    |'
- en: '| End user device | Inbound | View Transfer Server | TCP | 443 | HTTPS | Communication
    with View Transfer Server |'
  id: totrans-50
  prefs: []
  type: TYPE_TB
  zh: '| 终端设备 | 入站 | View Transfer Server | TCP | 443 | HTTPS | 与 View Transfer Server
    的通信 |'
- en: '| View Security Server | Inbound | View Transfer Server | TCP | 443 | HTTPS
    | Communication with View Transfer Server |'
  id: totrans-51
  prefs: []
  type: TYPE_TB
  zh: '| View Security Server | 入站 | View Transfer Server | TCP | 443 | HTTPS | 与
    View Transfer Server 的通信 |'
- en: '| View Security Server | Inbound | View Transfer Server | TCP | 8009 | AJP13
    | AJP-Data Traffic |'
  id: totrans-52
  prefs: []
  type: TYPE_TB
  zh: '| View Security Server | 入站 | View Transfer Server | TCP | 8009 | AJP13 | AJP-数据流量
    |'
- en: '| View Security Server | Inbound | View Transfer Server | TCP | 4100 | JMSIR
    | Internal communication |'
  id: totrans-53
  prefs: []
  type: TYPE_TB
  zh: '| View Security Server | 入站 | View Transfer Server | TCP | 4100 | JMSIR | 内部通信
    |'
- en: '| View Security Server | Inbound | View Transfer Server | TCP | 4001 | JMS
    | Java |'
  id: totrans-54
  prefs: []
  type: TYPE_TB
  zh: '| View Security Server | 入站 | View Transfer Server | TCP | 4001 | JMS | Java
    |'
- en: '| View Connection Server | Inbound | View Transfer Server | TCP | 8009 | AJP13
    | AJP-Data traffic |'
  id: totrans-55
  prefs: []
  type: TYPE_TB
  zh: '| View Connection Server | 入站 | View Transfer Server | TCP | 8009 | AJP13 |
    AJP-数据流量 |'
- en: '| End user device | Both | View Agent | TCP and UDP | 4172 | PCoIP | PCoIP
    connection and data |'
  id: totrans-56
  prefs: []
  type: TYPE_TB
  zh: '| 终端设备 | 双向 | View Agent | TCP 和 UDP | 4172 | PCoIP | PCoIP 连接和数据 |'
- en: '| End user device | Both | View Agent | TCP | 32111 |   | USB redirection (if
    applicable) |'
  id: totrans-57
  prefs: []
  type: TYPE_TB
  zh: '| 终端设备 | 双向 | View Agent | TCP | 32111 |   | USB 重定向（如适用） |'
- en: '| View Agent | Outbound | View Connection Server | TCP | 4001 | JMS | Java
    |'
  id: totrans-58
  prefs: []
  type: TYPE_TB
  zh: '| View Agent | 出站 | View Connection Server | TCP | 4001 | JMS | Java |'
- en: '| End user device | Both | View Agent | TCP and UDP | 4172 | PCoIP | PCoIP
    connection and data |'
  id: totrans-59
  prefs: []
  type: TYPE_TB
  zh: '| 终端设备 | 双向 | View Agent | TCP 和 UDP | 4172 | PCoIP | PCoIP 连接和数据 |'
- en: '| End user device | Inbound | View Agent | TCP | 32111 |   | USB redirection
    (if applicable) |'
  id: totrans-60
  prefs: []
  type: TYPE_TB
  zh: '| 终端设备 | 入站 | View Agent | TCP | 32111 |   | USB 重定向（如适用） |'
- en: '| End user device | Inbound | View Connection Server | TCP | 443 | HTTPS |
      |'
  id: totrans-61
  prefs: []
  type: TYPE_TB
  zh: '| 终端设备 | 入站 | View Connection Server | TCP | 443 | HTTPS |   |'
- en: '| End user device | Inbound | View Connection Server | TCP | 443 | HTTPS |
      |'
  id: totrans-62
  prefs: []
  type: TYPE_TB
  zh: '| 终端设备 | 入站 | View Connection Server | TCP | 443 | HTTPS |   |'
- en: '| End user device | Both | View Connection Server | TCP and UPD | 4172 | PCoIP
    | PCoIP connection and data |'
  id: totrans-63
  prefs: []
  type: TYPE_TB
  zh: '| 终端设备 | 双向 | View Connection Server | TCP 和 UDP | 4172 | PCoIP | PCoIP 连接和数据
    |'
- en: Virtual enclaves
  id: totrans-64
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 虚拟隔离区
- en: A **virtual enclave** is a defined group of virtual machines, virtual port groups,
    resources (if using resource pools), and potentially underlying datastores. The
    notion of a virtual enclave is to provide segmentation within the VDI, separating
    one group from another.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '**虚拟隔离区**是由虚拟机、虚拟端口组、资源（如果使用资源池）以及可能的底层数据存储组成的一个定义好的组。虚拟隔离区的概念是提供 VDI 内部的分段，将一个组与另一个组分隔开。'
- en: 'The following diagram is an illustration showing three separate enclaves:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 下图展示了三个独立的隔离区：
- en: '![Virtual enclaves](img/1124EN_09_01.jpg)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![虚拟隔离区](img/1124EN_09_01.jpg)'
- en: 'In the preceding diagram, three classifications of vDesktops exist within the
    overall virtual infrastructure. These classifications are composed of desktop
    pools of the same name. They are as follows:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的图示中，三个类别的 vDesktops 存在于整个虚拟基础设施中。这些类别由同名的桌面池组成，具体如下：
- en: '**Training:** This enclave is used by training rooms to provide vDesktops for
    training purposes'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**培训：**该隔离区由培训室使用，为培训提供虚拟桌面'
- en: '**Faculty:** This enclave is used by faculty members at the organization for
    their primary vDesktop'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**教职工：**该隔离区由组织内的教职工用于其主要虚拟桌面'
- en: '**Servers:** This enclave is used by all of the virtual machines running a
    server-based operating system'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**服务器：**该隔离区由所有运行服务器操作系统的虚拟机使用'
- en: 'From within the virtual infrastructure, there are ways to isolate the three
    enclaves as follows:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 在虚拟基础设施中，有以下方法可以隔离这三个隔离区：
- en: VLAN tagging
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: VLAN 标签
- en: Separate vSwitch/vDSwitch uplinks
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 独立的 vSwitch/vDSwitch 上行链路
- en: Enabling vSwitch/vDSwitch security settings
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 启用 vSwitch/vDSwitch 安全设置
- en: Using resource pools to isolate compute consumption
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用资源池来隔离计算消耗
- en: Using separate datastores to isolate data and I/O
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用独立的数据存储来隔离数据和 I/O
- en: Using separate clusters
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用独立集群
- en: All of the preceding methods are available with VMware vSphere without additional
    software components.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 所有前述方法均可在 VMware vSphere 中使用，无需额外的软件组件。
- en: However, with solutions such as VMware vShield TM, Reflex Systems vTrust TM
    with vmTagging TM, and other security products, it’s possible to provide virtual
    air gaps from within the virtual infrastructure.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，使用诸如 VMware vShield TM、Reflex Systems vTrust TM 配合 vmTagging TM 和其他安全产品的解决方案，可以从虚拟基础设施内部提供虚拟气隙。
- en: 'The following diagram shows different segmentation options with VMware virtual
    networking:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图示展示了 VMware 虚拟网络的不同分段选项：
- en: '![Virtual enclaves](img/1124EN_09_02.jpg)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![虚拟隔离区](img/1124EN_09_02.jpg)'
- en: 'The preceding diagram showcases several virtual networking technologies:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 上面的图示展示了几种虚拟网络技术：
- en: A virtual distributed switch (vDSwitch)
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 虚拟分布式交换机（vDSwitch）
- en: Three separate virtual distributed port groups
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 三个独立的虚拟分布式端口组
- en: Two separate software firewalls (provided through VMware vShield technology
    or Reflex Systems vTrust technology)
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 两个独立的软件防火墙（通过 VMware vShield 技术或 Reflex Systems vTrust 技术提供）
- en: A provider network connection; this connection has direct access to the Internet
    (in this example)
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提供商网络连接；该连接可以直接访问互联网（在本例中）
- en: Three separate vDesktop groups
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 三个独立的 vDesktop 组
- en: The red enclave contains vDesktops that support within a given organization
    that require direct access to the Internet for functions that support external
    clients.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 红色隔离区包含一个组织内需要直接访问互联网以支持外部客户的 vDesktops。
- en: This enclave’s vDesktops are connected to the provider port group, which has
    direct access to the Internet from within the virtual infrastructure. The connection
    could be filtered further upstream at the physical layer, however.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 该隔离区的 vDesktops 连接到提供商端口组，该端口组可以直接从虚拟基础设施访问互联网。然而，该连接可以在物理层进一步过滤。
- en: The blue enclave contains vDesktops used by the majority of the work staff within
    a given organization.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 蓝色隔离区包含一个组织内大多数工作员工使用的 vDesktops。
- en: This enclave’s vDesktops are connected to a port group that has access to the
    provider network; however, instead of direct access to the provider network, it
    uses **network address translation (NAT)** to mask the actual IP addresses of
    vDesktops within the blue enclave.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 该隔离区的 vDesktops 连接到一个可以访问提供商网络的端口组；然而，它不是直接访问提供商网络，而是使用**网络地址转换（NAT）**来隐藏蓝色隔离区内
    vDesktops 的实际 IP 地址。
- en: The green enclave contains vDesktops used by the training rooms within a given
    organization.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 绿色隔离区包含一个组织内培训室使用的 vDesktops。
- en: This enclave’s vDesktops are connected to a port group that does not have access
    to the provider network (note the fact that the connection terminates as it exits
    the firewall). Its virtual enclave provides access for the vDesktops and resources
    within the green enclave to communicate freely. However, there is no mechanism
    for virtual machines within the green enclave to communicate with resources outside
    of the enclave. This enclave is described as being isolated.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 该隔离区的 vDesktops 连接到一个没有访问提供商网络的端口组（注意连接在离开防火墙时终止）。它的虚拟隔离区允许绿色隔离区内的 vDesktops
    和资源自由通信。然而，绿色隔离区内的虚拟机无法与隔离区外的资源通信。这个隔离区被描述为隔离的。
- en: In addition to performing network segmentation, both the VMware vShield and
    Reflex Systems solutions can provide software-based firewall protection between
    the various enclaves.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 除了执行网络分段，VMware vShield 和 Reflex Systems 解决方案还可以在不同的隔离区之间提供基于软件的防火墙保护。
- en: For example, vDesktops in the blue enclave may only be allowed to communicate
    with vDesktops in the green enclave over port 443 (HTTPS).
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，蓝色隔离区中的 vDesktops 可能仅允许通过端口 443（HTTPS）与绿色隔离区中的 vDesktops 进行通信。
- en: The jailbreak scenario
  id: totrans-97
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 越狱场景
- en: The **jailbreak scenario**, pulled from a real-world solution, involves preventing
    communications between vDesktops within the same desktop pool. Desktop pools are
    used to define several key settings of all of its vDesktops; one of these settings
    is the specific port group (standard or distributed) assigned to one or more vDesktop’s
    virtual NICs. This setting is defined at a desktop pool level; therefore, all
    vDesktops within a given desktop pool will be on the same port group.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '**越狱场景**，摘自一个实际的解决方案，涉及防止同一桌面池内的 vDesktops 之间的通信。桌面池用于定义所有 vDesktops 的几个关键设置；其中一个设置是分配给一个或多个
    vDesktop 虚拟网卡的特定端口组（标准或分布式）。此设置是在桌面池级别定义的；因此，给定桌面池中的所有 vDesktops 都将位于同一端口组中。'
- en: In the jailbreak scenario, the IT staff at a detention center has implemented
    a VDI to allow inmates to perform various training exercises. While the vDesktops
    have been locked down to prevent connectivity to the Internet, the fact that all
    of the vDesktops are on the same port group could pose a threat.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 在越狱场景中，拘留中心的IT人员实施了VDI，以便让囚犯进行各种训练。尽管vDesktops已被锁定以防止连接到互联网，但所有vDesktops处于同一端口组中这一事实可能会带来威胁。
- en: '![The jailbreak scenario](img/1124EN_09_03.jpg)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![越狱场景](img/1124EN_09_03.jpg)'
- en: The biggest threat in the prison break scenario is that the various vDesktop
    users, while segregated from any other network connectivity (including connectivity
    to the Internet or to the production network of the detention center) still have
    the ability to send data to one another. The threat is that multiple vDesktop
    users will leverage the fact that all of their vDesktop virtual machines are on
    the same port group and send messages to coordinate a revolt on the prison staff
    at a specific time.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 越狱场景中的最大威胁是，虽然各个vDesktop用户与其他网络连接（包括互联网或拘留中心的生产网络）被隔离，但他们仍然可以相互发送数据。威胁在于，多个vDesktop用户将利用所有vDesktop虚拟机都在同一端口组中的事实，发送消息以协调在特定时间对监狱工作人员发起起义。
- en: For example, if thirty inmates are logged into a VDI and start trading discrete
    messages to assault the prison staff at 11:00 a.m., that could pose a huge risk
    for the prison staff in terms of their own personal safety, the safety of the
    facilities, and of the nearby community.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，如果三十个囚犯登录VDI并开始互相发送离散消息，计划在上午11点袭击监狱工作人员，那么这可能会对监狱工作人员的个人安全、设施的安全以及周围社区的安全构成巨大风险。
- en: While there is no out of the box solution to prevent this type of communication
    (arguably, the built-in Windows firewall can be of use in this scenario), Reflex
    Systems does offer the ability to segregate individual virtual machines from one
    another. In addition, VMware vShield could potentially be used to provide this
    virtual segmentation. For environments with a high rate of volatility (expansion,
    contraction, View Composer refreshes, and so on), this solution, regardless of
    whether VMware, Reflex Systems, or another security solution is used, will require
    a significant amount of customization, scripting, and integration work.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管没有现成的解决方案可以防止这种类型的通信（可以说，内置的Windows防火墙在这种情况下可能会有所帮助），Reflex Systems确实提供了将虚拟机彼此隔离的能力。此外，VMware
    vShield也可能被用来提供这种虚拟分段。对于具有高度波动性的环境（例如扩展、收缩、View Composer刷新等），无论是使用VMware、Reflex
    Systems还是其他安全解决方案，这种解决方案都需要大量的定制、脚本编写和集成工作。
- en: USB redirection and filtering
  id: totrans-104
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: USB重定向与过滤
- en: 'Throughout a growing number of organizations, USB hard drives are prohibited.
    This is because of the great risk of data leakage from end users copying sensitive
    data to a USB hard drive and then misusing the device or using the USB hard drive’s
    data maliciously. However, simply blocking all USB devices may disallow the following
    perfectly accepted USB devices such as:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 在越来越多的组织中，USB硬盘被禁止使用。这是因为终端用户将敏感数据复制到USB硬盘上，并可能滥用该设备或恶意使用USB硬盘的数据，导致数据泄露的巨大风险。然而，简单地禁止所有USB设备可能会阻止以下完全可以接受的USB设备，如：
- en: Pointing devices
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 指示设备
- en: Audio headsets
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 音频耳机
- en: Transcription playback pedals
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 转录播放踏板
- en: Medical equipment, for example, a patient monitoring device
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 医疗设备，例如病人监测设备
- en: Scientific equipment, for example, a metering device
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 科学设备，例如测量仪器
- en: Photographic equipment, for example, a video recorder
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 摄影设备，例如录像机
- en: Audio equipment, for example, USB MIDI interfaces
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 音频设备，例如USB MIDI接口
- en: Authentication devices, for example, a card reader
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 身份验证设备，例如读卡器
- en: Therefore, it’s important to not simply block all devices, but instead, build
    a white list of allowed USB devices. This is known as **USB filtering.**
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，重要的是不要简单地禁止所有设备，而是建立一个允许的USB设备白名单。这就是所谓的**USB过滤**。
- en: 'The following diagram is an illustration showing the three main levels available
    for USB filtering:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 下图展示了可用于USB过滤的三个主要级别：
- en: '![USB redirection and filtering](img/1124EN_09_04.jpg)'
  id: totrans-116
  prefs: []
  type: TYPE_IMG
  zh: '![USB重定向与过滤](img/1124EN_09_04.jpg)'
- en: 'There are three integration points where USB filtering can be applied, they
    are as follows:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: USB过滤可以应用的三个集成点如下：
- en: End device
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 终端设备
- en: View Connection Server
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 查看连接服务器
- en: Windows desktop operating system
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Windows桌面操作系统
- en: 'In addition, USB Filtering can be applied to:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，USB 过滤可以应用于：
- en: An entire ClassID to allow or disallow an entire class of devices (for example,
    USB mass storage device)
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 整个 ClassID，以允许或禁止某一类设备（例如，USB 大容量存储设备）
- en: A **VendorID (VID)** and **ProductID (PID)** to allow or disallow a specific
    device (for example, Kingston mass storage device)
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**供应商 ID (VID)** 和 **产品 ID (PID)** 以允许或拒绝特定设备（例如，金士顿大容量存储设备）'
- en: USB filtering at the end device
  id: totrans-124
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在终端设备上进行 USB 过滤
- en: One of the benefits of using PCoIP zero clients is the ability to create device
    profiles and apply them to all zero clients in an environment. In this manner,
    a single USB filtering device profile could be created and applied to all zero
    clients in an environment. By locking the devices down with a complex password,
    the device’s profile would only be controlled by, for example, the Teradici Management
    Console. Therefore, any policy defining USB filtering would not be able to be
    overridden. By managing USB filtering at the end device, such as with the Teradici
    Management Console, permissions can be granted on a device ID or device class,
    allowing great flexibility in management (for example, USB thumb drives are disallowed
    unless they are made by IronKey TM).
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 PCoIP 零客户机的一个好处是可以创建设备配置文件并将其应用于环境中的所有零客户机。通过这种方式，可以创建一个 USB 过滤设备配置文件，并将其应用于环境中所有的零客户机。通过设置复杂的密码锁定设备，设备的配置文件仅能由例如
    Teradici 管理控制台控制。因此，任何定义 USB 过滤的策略都无法被覆盖。通过在终端设备上管理 USB 过滤，例如使用 Teradici 管理控制台，可以基于设备
    ID 或设备类别授予权限，从而实现灵活的管理（例如，除非是由 IronKey TM 制造的，否则不允许使用 USB 闪存驱动器）。
- en: The drawbacks of applying USB device filtering at the device level is that it
    strongly discourages **bring-your-own-device (BYOD)** programs. These programs
    encourage end users to use the device that they are most comfortable with; as
    the device will ultimately be connecting to an organization-owned vDesktop and
    all work will be performed on the vDesktop, it is of less or no concern whether
    the end device is in such a scenario.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 在设备级别应用 USB 设备过滤的缺点是，它强烈限制了 **自带设备（BYOD）** 计划。这些计划鼓励最终用户使用他们最熟悉的设备；因为设备最终会连接到组织拥有的
    vDesktop，并且所有工作将在 vDesktop 上进行，所以终端设备在这种情况下的性质并不重要。
- en: Using device profiles for USB filtering means that a profile must be built for
    each device, and each device must be managed.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 使用设备配置文件进行 USB 过滤意味着必须为每个设备创建一个配置文件，并且每个设备都必须进行管理。
- en: In many organizations, the move to a VDI solution is to get out of the business
    of managing end devices and instead, enabling the end user workforce to use their
    preferred method of computing.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 在许多组织中，转向 VDI 解决方案的目的是摆脱管理终端设备的工作，而是允许最终用户使用他们首选的计算方式。
- en: USB filtering via View Connection Server
  id: totrans-129
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 通过视图连接服务器进行 USB 过滤
- en: VMware View Connection Server also provides a mechanism for performing USB filtering.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: VMware View 连接服务器还提供了执行 USB 过滤的机制。
- en: 'The following screenshot shows the USB access policy setting in the View Admin
    console:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 下图显示了 View 管理控制台中的 USB 访问策略设置：
- en: '![USB filtering via View Connection Server](img/1124EN_09_05.jpg)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![通过视图连接服务器进行 USB 过滤](img/1124EN_09_05.jpg)'
- en: From within the **Policies** | **Global Policies** section of the View Admin
    console, **USB access** can be set to the all-encompassing, **Allow** or **Deny**.
    This does not allow fine-toothed management of only granting access to specific
    devices. Instead, this allows or disallows USB redirection for all devices.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 在 View 管理控制台的 **策略** | **全局策略** 部分，可以将 **USB 访问** 设置为全面的 **允许** 或 **拒绝**。这不允许对仅授予特定设备访问权限进行精细管理。相反，它允许或禁止所有设备的
    USB 重定向。
- en: Another method that is similar in the all or nothing approach, is to not install
    the USB redirection component of the VMware View Agent from within the vDesktop
    template or Parent VM. This is not recommended as it is limiting future capabilities
    within the environment.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种类似于全有或全无的方法，是不从 vDesktop 模板或父虚拟机中安装 VMware View Agent 的 USB 重定向组件。这种方法不推荐使用，因为它会限制环境中的未来功能。
- en: USB filtering via the Windows operating system
  id: totrans-135
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 通过 Windows 操作系统进行 USB 过滤
- en: For example, an IronKey encrypted USB drive has a device class of **Windows
    Portable Device (WPD)**.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，IronKey 加密 USB 驱动器的设备类别是 **Windows 便携设备 (WPD)**。
- en: 'The following screenshot shows a USB device from within the guest operating
    system:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 下图显示了来自来宾操作系统的 USB 设备：
- en: '![USB filtering via the Windows operating system](img/1124EN_09_06.jpg)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
  zh: '![通过 Windows 操作系统进行 USB 过滤](img/1124EN_09_06.jpg)'
- en: This information can be found by opening the **Properties** tab from within
    **Device Manager** with the applicable device highlighted.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 通过在 **设备管理器**中选中相应设备并打开**属性**选项卡，可以找到此信息。
- en: 'The following screenshot specifically shows a USB device ID:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图具体显示了一个 USB 设备 ID：
- en: '![USB filtering via the Windows operating system](img/1124EN_09_07.jpg)'
  id: totrans-141
  prefs: []
  type: TYPE_IMG
  zh: '![通过 Windows 操作系统进行 USB 过滤](img/1124EN_09_07.jpg)'
- en: Under **Hardware Ids** of the given device (for example, IronKey thumb drive),
    the PID and **firmware revision (REV)** can be found. In the preceding example,
    **VID** is **1953, PID** is **0201** and **REV** is **0208**.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 在给定设备的**硬件 ID**下（例如，IronKey U 盘），可以找到 PID 和 **固件版本（REV）**。在前面的示例中，**VID** 为
    **1953**，**PID** 为 **0201**，**REV** 为 **0208**。
- en: NirSoft makes a free product called USBDeview © that is a handy utility to quickly
    find the PID, VID, serial number, and other information about a specific USB device
    as well. It also shows the information in a more user friendly manner.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: NirSoft 提供了一款免费的产品 USBDeview©，它是一个便捷的工具，可以快速查找特定 USB 设备的 PID、VID、序列号以及其他信息。它还以更友好的方式展示这些信息。
- en: 'The following screenshot shows the use of USBDeview to identify the ID of a
    USB product:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了使用 USBDeview 来识别 USB 产品 ID：
- en: '![USB filtering via the Windows operating system](img/1124EN_09_22.jpg)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![通过 Windows 操作系统进行 USB 过滤](img/1124EN_09_22.jpg)'
- en: In the preceding example, the IronKey thumb drive has a **VendorID** of **1953**
    and a **ProductID** of **0201**.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的示例中，IronKey U 盘的**供应商 ID（VendorID）**为 **1953**，**产品 ID（ProductID）**为 **0201**。
- en: The DeviceClassGUID is also needed to configure USB filtering. It can also be
    found under the **Properties** tab from within **Device Manager**.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 配置 USB 过滤还需要 DeviceClassGUID。它也可以在 **设备管理器**的**属性**选项卡下找到。
- en: 'The following screenshot shows the registry key for hardware filters:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了硬件过滤的注册表键：
- en: '![USB filtering via the Windows operating system](img/1124EN_09_08.jpg)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![通过 Windows 操作系统进行 USB 过滤](img/1124EN_09_08.jpg)'
- en: For example, to disallow all IronKey encrypted thumb drives (VendorID 1958,
    ProductID 0201), **VID_1958&PID_0201** would be added to the **HardwareIDFilters**
    key at the location **Computer\HKEY_LOCAL_MACHINE\SOFTWARE\VMware, Inc.\VMware
    VDM\USB\**.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，要禁止所有 IronKey 加密 U 盘（供应商 ID 1958，产品 ID 0201），可以将 **VID_1958&PID_0201** 添加到
    **HardwareIDFilters** 键，路径为 **Computer\HKEY_LOCAL_MACHINE\SOFTWARE\VMware, Inc.\VMware
    VDM\USB\**。
- en: 'The registry change takes effect immediately and does not require a reboot.
    Now, when an end user attempts to connect their IronKey encrypted thumb drive
    they will receive the error. The following screenshot gives an example of the
    error message a user may receive when attempting to use a USB device in an environment
    where that USB device is prohibited:'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 注册表更改会立即生效，无需重新启动。现在，当最终用户尝试连接他们的 IronKey 加密 U 盘时，将会收到错误消息。以下截图展示了在禁止某个 USB
    设备的环境中，用户尝试使用 USB 设备时可能收到的错误信息：
- en: '![USB filtering via the Windows operating system](img/1124EN_09_09.jpg)'
  id: totrans-152
  prefs: []
  type: TYPE_IMG
  zh: '![通过 Windows 操作系统进行 USB 过滤](img/1124EN_09_09.jpg)'
- en: There are several methods of allowing and disallowing USB devices (especially
    mass storage devices). However, the techniques outlined in this section fundamentally
    apply to all devices and should be used as a best practice.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 有多种方法可以允许或禁止 USB 设备（特别是大容量存储设备）。然而，本节中概述的技术基本适用于所有设备，应该作为最佳实践来使用。
- en: The most secure way of performing USB filtering is to block all devices except
    those defined on the white list.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 执行 USB 过滤的最安全方法是阻止所有设备，除非它们被定义在白名单中。
- en: Smart card authentication
  id: totrans-155
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 智能卡身份验证
- en: '**Smart card authentication** is a mechanism by which a plastic card, typically
    with gold plated contact pads, is used to store certificates used by the end user
    to authenticate. Smart cards are used throughout many industries, including military,
    healthcare, education, retail, and the scientific community. The advantages of
    smart card authentication are as follows:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '**智能卡身份验证**是一种机制，通过该机制，通常带有金属触点的塑料卡片用于存储由最终用户使用的证书进行身份验证。智能卡在许多行业中都有使用，包括军事、医疗保健、教育、零售和科学界。智能卡身份验证的优点如下：'
- en: It requires the end user to have the authentication mechanism on his person
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它要求最终用户随身携带身份验证机制
- en: It requires the end user to successfully provide the answer to a challenge (PIN)
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它要求最终用户成功地提供挑战（PIN）的答案
- en: Smart card authentication is a two-factor authorization mechanism that requires
    the end user to physically possess a smart card as well as enter in a PIN successfully.
    The PIN does not authenticate the end user to the domain; instead the PIN authenticates
    the end user to the certificate on the smart card. The certificate on the smart
    card is then used to authenticate the end user to the domain.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 智能卡身份验证是一种双因素授权机制，要求最终用户不仅必须物理持有智能卡，还需要成功输入 PIN 码。PIN 码并不用于验证用户对域的身份；而是用来验证用户对智能卡上证书的身份。智能卡上的证书随后用于验证最终用户对域的身份。
- en: Smart card authentication is already a standard practice within hospitals, education
    facilities, the scientific community, and military organizations.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 智能卡身份验证已经成为医院、教育机构、科学界和军事组织中的标准做法。
- en: 'Smart card authentication requires the following things:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 智能卡身份验证需要以下内容：
- en: One or more certificates
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个或多个证书
- en: Middleware (for example, ActivClient from ActivIdentity)
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 中间件（例如来自 ActivIdentity 的 ActivClient）
- en: Note
  id: totrans-164
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Middleware should be installed before the VMware View Agent to avoid any GINA
    chaining issues; the proper installation order is VMware Tools, then Smart Card
    Middleware, and then VMware View Agent.
  id: totrans-165
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 中间件应在 VMware View Agent 之前安装，以避免任何 GINA 链接问题；正确的安装顺序是 VMware Tools、然后是智能卡中间件，最后是
    VMware View Agent。
- en: It may also be beneficial to set smart card removal behavior to lock the workstation
    for persistent solutions or log off for non-persistent solutions.
  id: totrans-166
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 设置智能卡移除行为为锁定工作站（对于持久解决方案）或注销（对于非持久解决方案）可能会有所帮助。
- en: Smart card
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 智能卡
- en: Smart card reader (for example, SCR331)
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 智能卡读卡器（例如 SCR331）
- en: 'In addition, the following prerequisites must be met:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，必须满足以下先决条件：
- en: The smart card option is installed during the VMware View Connection Server
    installation process
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 VMware View Connection Server 安装过程中安装了智能卡选项
- en: The VMware View Connection Server is configured to allow smart card authentication
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: VMware View Connection Server 已配置为允许智能卡身份验证
- en: The middleware (for example, ActivClient) is functioning properly and is configured
    with the necessary certificates
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 中间件（例如 ActivClient）正常运行并配置了必要的证书
- en: The `locked.properties` file on all of the VMware View Connection and Security
    Servers in the environment has been configured to use the master keystore holding
    one or more **Certificate Authority (CA)** certificates for the respective user
    certificates in use on the smart cards
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有 VMware View Connection 和安全服务器上的 `locked.properties` 文件已配置为使用包含一个或多个 **证书颁发机构（CA）**
    证书的主密钥库，这些证书用于智能卡上使用的用户证书
- en: The smart card configuration should be nearly identical for any organization
    (with only the certificates being the differentiator). It is important to note
    that while most smart cards may look the same, there are approximately a dozen
    or so smart card models on the market.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 智能卡配置对于任何组织应该几乎相同（只有证书是区分的因素）。需要注意的是，尽管大多数智能卡可能看起来相同，但市场上大约有十几种智能卡型号。
- en: The make and model of the smart card can typically be discovered via the smart
    card middleware in use, for example, ActivClient.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 智能卡的品牌和型号通常可以通过正在使用的智能卡中间件（例如 ActivClient）发现。
- en: 'The following screenshot shows a given smart card from within the ActivClient
    console:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了在 ActivClient 控制台中看到的某智能卡：
- en: '![Smart card authentication](img/1124EN_09_10.jpg)'
  id: totrans-177
  prefs: []
  type: TYPE_IMG
  zh: '![智能卡身份验证](img/1124EN_09_10.jpg)'
- en: In the preceding screenshot, a card has been inserted into an approved card
    reader (for example, SCR331). There are three options on the home screen within
    ActivClient. Clicking on the **My Certificates** folder opens the user certificates
    stored on the smart card. Clicking on **CA Certificates** opens the CA certificates
    stored on the smart card and are used to validate the user certificates.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的截图中，卡片已插入到经过批准的读卡器中（例如 SCR331）。在 ActivClient 的主屏幕上有三个选项。点击 **我的证书** 文件夹可以打开存储在智能卡上的用户证书。点击
    **CA 证书** 可以打开存储在智能卡上的 CA 证书，这些证书用于验证用户证书。
- en: 'Opening the **Smart Card Info** object brings up the following screenshot that
    shows smart card information from within ActivClient:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 打开 **智能卡信息** 对象会弹出以下截图，显示 ActivClient 中的智能卡信息：
- en: '![Smart card authentication](img/1124EN_09_11.jpg)'
  id: totrans-180
  prefs: []
  type: TYPE_IMG
  zh: '![智能卡身份验证](img/1124EN_09_11.jpg)'
- en: As shown in the preceding screenshot, the **Manufacturer** of the smart card
    in question is **Gemalto** and the **Model** is **Cyberflex Access 64K V2c**.
    In addition, the username (typically associated with an Active Directory user
    account of the same name) is also displayed in the **User Name** field.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 如上图所示，相关智能卡的**制造商**是**Gemalto**，**型号**是**Cyberflex Access 64K V2c**。此外，用户名（通常与相同名称的Active
    Directory用户账户关联）也显示在**用户名**字段中。
- en: 'The following screenshot shows the certificates on a given smart card:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了给定智能卡上的证书：
- en: '![Smart card authentication](img/1124EN_09_12.jpg)'
  id: totrans-183
  prefs: []
  type: TYPE_IMG
  zh: '![智能卡认证](img/1124EN_09_12.jpg)'
- en: While only one user certificate is shown in the preceding screenshot, it is
    possible to have multiple user certificates stored on a smart card. VMware View
    will filter through the user certificates and prompt the end user to select which
    certificate to use for authentication. Only valid certificates that have the client
    authentication and smart card logon role will be displayed.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管前面的截图中只显示了一个用户证书，但智能卡上可能存储多个用户证书。VMware View将筛选用户证书并提示最终用户选择使用哪个证书进行认证。仅显示具有客户端认证和智能卡登录角色的有效证书。
- en: 'The following screenshot shows certificate details of a smart card via ActivClient:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了通过ActivClient查看智能卡的证书详细信息：
- en: '![Smart card authentication](img/1124EN_09_13.jpg)'
  id: totrans-186
  prefs: []
  type: TYPE_IMG
  zh: '![智能卡认证](img/1124EN_09_13.jpg)'
- en: The preceding screenshot shows the **My Certificate** screen from within ActivClient.
    The principal name of the issuing CA for the user certificate (for example, `thinkvirt.demo.local)`
    is displayed. It is important that the name resolution to the issuing CA be fully
    functional. Malfunctioning DNS resolution can impact smart card authentication
    times.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 上面的截图显示了ActivClient中的**我的证书**屏幕。用户证书的颁发CA的主体名称（例如`thinkvirt.demo.local`）已显示。确保对颁发CA的名称解析功能正常非常重要。DNS解析故障可能会影响智能卡认证的时间。
- en: Additional smart card information from VMware can be found in the *Smart Card
    Certificate Authentication with VMware View 4.5/4.6* whitepaper.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 来自VMware的附加智能卡信息可以在*《VMware View 4.5/4.6的智能卡证书认证》*白皮书中找到。
- en: Configuring smart card authentication for VMware View Connection Servers
  id: totrans-189
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 为VMware View连接服务器配置智能卡认证
- en: Smart card authentication is supported by PCoIP zero clients, thin clients,
    and thick clients. It is important to verify that the exact card reader model,
    card model, and certificates in use are supported in the VMware View/Teradici
    PCoIP support matrix. These documents are available at [http://www.vmware.com/](http://www.vmware.com/)
    and [http://www.teradici.com/](http://www.teradici.com/) respectively.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 智能卡认证受到PCoIP零客户端、瘦客户端和厚客户端的支持。重要的是要验证正在使用的卡读卡器型号、卡型号和证书是否在VMware View/Teradici
    PCoIP支持矩阵中得到支持。这些文档可以在[http://www.vmware.com/](http://www.vmware.com/)和[http://www.teradici.com/](http://www.teradici.com/)找到。
- en: In addition, smart cards are often used to provide a secure mechanism for Single
    Sign-On, which is the ability to log in to the VMware View environment once (and
    not for every time a session is connected or reconnected to a vDesktop).
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，智能卡通常用于提供单点登录的安全机制，即用户只需一次登录VMware View环境（而不是每次会话连接或重新连接到vDesktop时）。
- en: To mandate the use of smart card authentication, go to the **Edit View Connection
    Server Settings** tab found under **View Configuration** | **Servers**.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 要强制使用智能卡认证，请转到**编辑视图连接服务器设置**选项卡，路径为**视图配置** | **服务器**。
- en: 'The following screenshot shows advanced smart card configuration options:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了高级智能卡配置选项：
- en: '![Configuring smart card authentication for VMware View Connection Servers](img/1124EN_09_14.jpg)'
  id: totrans-194
  prefs: []
  type: TYPE_IMG
  zh: '![为VMware View连接服务器配置智能卡认证](img/1124EN_09_14.jpg)'
- en: '**Smart card authentication** can be set to not **Allowed, Optional**, or **Required**.
    In addition, sessions can be set to disconnect upon smart card removal by selecting
    the **Disconnect user sessions on smart card removal** checkbox.'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: '**智能卡认证**可以设置为**不允许、可选**或**必需**。此外，通过勾选**在智能卡移除时断开用户会话**复选框，可以设置会话在移除智能卡时断开连接。'
- en: In many secured environments, the required option will be configured to enforce
    that any incoming requests to access a vDesktop in the VDI are authenticated by
    the use of a user’s smart card.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 在许多安全环境中，必需选项将被配置为强制任何请求访问VDI中vDesktop的传入请求，都必须通过用户的智能卡进行身份验证。
- en: In addition to configuring smart card authentication in the VMware View Admin
    console, there is a main file of importance during configuration `locked.properties`.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 除了在 VMware View 管理控制台中配置智能卡认证外，还有一个在配置过程中非常重要的主文件 `locked.properties`。
- en: The `settings.properties` file, also located in the `\sslgateway\conf` subdirectory
    contains configuration for the certificate used by the VMware View Admin console
    for HTTPS encryption; the value for which certificate to use is stored in the
    `keyfile` string. In addition, the `settings.properties` file contains the hashed
    password necessary to use the certificate; the value for the password is stored
    in the `keypass` string.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: '`settings.properties` 文件也位于 `\sslgateway\conf` 子目录中，包含 VMware View 管理控制台用于
    HTTPS 加密的证书配置；用于选择证书的值存储在 `keyfile` 字符串中。此外，`settings.properties` 文件还包含使用该证书所需的哈希密码；密码的值存储在
    `keypass` 字符串中。'
- en: Preparing the environment for smart card authentication
  id: totrans-199
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 为智能卡认证准备环境
- en: 'To prepare the environment for smart card authentication, perform the following
    steps:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 为准备智能卡认证环境，请执行以下步骤：
- en: The first step is to verify a fully functioning DNS and NTP environment as certificate-based
    authentication is very sensitive to the time drift or difficulty in resolving
    servers within the **public key infrastructure (PKI)**.
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第一步是验证 DNS 和 NTP 环境是否完全正常，因为基于证书的认证对时间漂移或在**公钥基础设施（PKI）**中解析服务器的困难非常敏感。
- en: Next, the CA certificate must be downloaded. This can be done by opening a browser
    and pointing it to `http://<CA_SERVER>/certsrv`, where`<CA_SERVER>` is the **fully
    qualified domain name (FQDN)** or IP address of the CA Server.
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，必须下载 CA 证书。可以通过打开浏览器并指向 `http://<CA_SERVER>/certsrv` 来完成此操作，其中 `<CA_SERVER>`
    是 CA 服务器的**完全限定域名（FQDN）**或 IP 地址。
- en: Select the **Download CA Certificate** link with **DER encoding** (default)
    selected. Save the certificate to the VMware View Connection Server under `\VMware
    View\Server\jre\bin`.
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**下载 CA 证书**链接，默认选择**DER 编码**。将证书保存到 VMware View 连接服务器的 `\VMware View\Server\jre\bin`
    目录中。
- en: Launch the command prompt with administrative permission (for example, right-click
    on the **Command Prompt** icon and select **Run As Administrator)**. Navigate
    to `\VMware View\Server\jre\bin`.
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员权限启动命令提示符（例如，右键单击**命令提示符**图标并选择**以管理员身份运行**）。导航到 `\VMware View\Server\jre\bin`。
- en: 'Next, type the following command to generate the keystore:'
  id: totrans-205
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，输入以下命令以生成密钥库：
- en: '[PRE0]'
  id: totrans-206
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: The `certnew.cer` file is the CA certificate that was downloaded in a previous
    step. The `trust.key` file is the generated keystore that will be used by the
    VMware View Connection Server to verify end user certificates stored on their
    smart card.
  id: totrans-207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`certnew.cer` 文件是前一步下载的 CA 证书。`trust.key` 文件是生成的密钥库，将由 VMware View 连接服务器用于验证存储在智能卡上的最终用户证书。'
- en: The keytool utility will then prompt for the CA certificates password as well
    as to whether the certificate should or should not be trusted.
  id: totrans-208
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，keytool 工具将提示输入 CA 证书的密码，并询问是否信任该证书。
- en: Once the keystore has been successfully generated, copy the file (for example,
    `trust.key)` to `\VMware View\Server\sslgateway\conf` subdirectory.
  id: totrans-209
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦密钥库成功生成，将文件（例如 `trust.key`）复制到 `\VMware View\Server\sslgateway\conf` 子目录中。
- en: Next, create a text file named `locked.properties` within the `\VMware View\Server\sslgateway\conf`
    subdirectory with Notepad (or a similar tool).
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在 `\VMware View\Server\sslgateway\conf` 子目录中使用记事本（或类似工具）创建名为 `locked.properties`
    的文本文件。
- en: 'Enter the following text:'
  id: totrans-211
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入以下文本：
- en: '[PRE1]'
  id: totrans-212
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Restart the VMware View Connection Server service.
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重启 VMware View 连接服务器服务。
- en: Configuring smart card authentication for VMware View Security Servers
  id: totrans-214
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 配置 VMware View 安全服务器的智能卡认证
- en: For environments that leverage one or more VMware View Security Servers, it
    is important to configure the View Security Server to also utilize smart card
    authentication (as well as configuring the appropriate certificates). Otherwise,
    only internal users or users bypassing the VMware View Security Server, will be
    able to leverage their smart card for authentication.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 对于利用一个或多个 VMware View 安全服务器的环境，配置 View 安全服务器以使用智能卡认证（以及配置适当的证书）非常重要。否则，只有内部用户或绕过
    VMware View 安全服务器的用户才能使用智能卡进行认证。
- en: The steps are identical to those listed in the *Configuring smart card authentication
    for VMware View Connection Servers* section.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 这些步骤与*配置VMware View连接服务器的智能卡认证*部分中列出的步骤相同。
- en: 'The following diagram shows an illustration showing the location of the `locked.properties`
    file:'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图示显示了`locked.properties`文件的位置：
- en: '![Configuring smart card authentication for VMware View Security Servers](img/1124EN_09_15.jpg)'
  id: totrans-218
  prefs: []
  type: TYPE_IMG
  zh: '![配置VMware View安全服务器的智能卡认证](img/1124EN_09_15.jpg)'
- en: 'Therefore, the easiest way to configure a VMware View Security Server (shown
    as VSS in the preceding diagram) is as follows:'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，配置VMware View安全服务器（在前述图示中显示为VSS）最简单的方法如下：
- en: Copy the `trust.key` file (or other appropriate keystore file) to the `\VMware
    View\Server\sslgateway\conf` subdirectory.
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`trust.key`文件（或其他适当的密钥存储文件）复制到`\VMware View\Server\sslgateway\conf`子目录中。
- en: Copy the `locked.properties` file to the `\VMware View\Server\sslgateway\conf`
    subdirectory.
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`locked.properties`文件复制到`\VMware View\Server\sslgateway\conf`子目录中。
- en: Restart the VMware View Security Server service.
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重启VMware View安全服务器服务。
- en: Notice the simplicity of the preceding steps if a VMware View environment is
    leveraging the same PKI and same keystore for the CA certificate, which is likely
    almost all VMware View solutions using smart cards. Therefore, it is quite possible
    to script the copying of the files from one server to the other, as well as restarting
    the appropriate service (for example, VMware View Security Server service) when
    necessary.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 如果VMware View环境利用相同的PKI和相同的密钥存储用于CA证书，则前述步骤非常简洁，这几乎适用于所有使用智能卡的VMware View解决方案。因此，完全有可能脚本化文件从一个服务器到另一个服务器的复制，以及在必要时重启相关服务（例如，VMware
    View安全服务器服务）。
- en: Configuring U.S. Department of Defense CAC Authentication
  id: totrans-224
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 配置美国国防部CAC认证
- en: '**U.S. Department of Defense Common Access Card (DoD CAC)** (smart card) authentication
    is a **Homeland Security Presidential Directive 12 (HSPD-12)** approved mechanism
    used by U.S. military installations for authentication to IT assets. CACs also
    serve as a general identification card pursuant to the Geneva Conventions.'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: '**美国国防部通用接入卡（DoD CAC）**（智能卡）认证是**国土安全总统指令12号（HSPD-12）**批准的机制，供美国军事设施用于身份认证访问IT资产。CAC卡还根据《日内瓦公约》作为通用身份证明卡。'
- en: Personnel log in to their physical desktop by entering their CAC into a USB
    smart card reader, laptop smart card reader, a thin or zero client with an integrated
    card reader, or a keyboard with an integrated card reader. Once the card has been
    read, the end user is prompted to enter his PIN.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 用户通过将CAC插入USB智能卡读卡器、笔记本电脑智能卡读卡器、集成卡读卡器的瘦客户端或零客户端、或带集成卡读卡器的键盘来登录其物理桌面。一旦卡被读取，终端用户会被提示输入其PIN。
- en: It is entirely possible to use CAC authentication inside the vDesktop without
    ever configuring it as an acceptable authentication mechanism to get to the vDesktop.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 完全可以在vDesktop内部使用CAC认证，而无需将其配置为访问vDesktop的可接受认证机制。
- en: For example, if ActivClient is installed and configured properly within a vDesktop
    but smart card authentication has not been configured on the View Connection Server
    environment, then the smart card cannot be used to connect to the vDesktop. However,
    once connected to the vDesktop, the smart card can be successfully used to authenticate
    within the VDI (for example, an RDP connection). In normal smart card operation,
    authentication using a smart card will prompt the end user for his/her PIN. While
    this scenario is possible, it is far from the preferred solution, as connecting
    into the VDI is not done via smart card authentication.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，如果在vDesktop中已正确安装和配置了ActivClient，但在View连接服务器环境中尚未配置智能卡认证，则无法使用智能卡连接到vDesktop。然而，一旦连接到vDesktop，智能卡可以成功用于VDI中的身份认证（例如，RDP连接）。在正常的智能卡操作中，使用智能卡进行身份认证时，系统会提示终端用户输入其PIN。虽然这种情况是可能的，但远非首选解决方案，因为VDI连接不是通过智能卡认证完成的。
- en: Configuring CAC authentication encompasses the techniques used in standard smart
    card authentication configuration and adds a few minor considerations.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 配置CAC认证包括在标准智能卡认证配置中使用的技术，并添加了一些细小的注意事项。
- en: 'Configuring CAC authentication is explained as follows:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 配置CAC认证的过程如下所示：
- en: On the VMware View Connection Server, navigate to the `\VMware View Server\Server\sslgateway\conf`
    subdirectory.
  id: totrans-231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在VMware View连接服务器上，导航到`\VMware View Server\Server\sslgateway\conf`子目录。
- en: Create a subdirectory named `certexport`. Within `\certexport`, place all of
    the `.cer` files that are applicable. This directory is used to generate a current
    or future `master keystore`.
  id: totrans-232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为`certexport`的子目录。在`\certexport`中放置所有适用的`.cer`文件。该目录用于生成当前或未来的`主密钥存储`。
- en: The next step of configuring CAC authentication is to generate or obtain a `master
    keystore`, which contains all of the U.S. DoD and intermediate CA certificates.
    The `master keystore` file should be placed in the `\sslgateway\conf` subdirectory
    found within the `VMware View installation` directory on the View Connection Server.
    Instructions on how to generate a `master keystore` are outlined later in this
    chapter.
  id: totrans-233
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 配置CAC认证的下一步是生成或获取一个`master keystore`，该文件包含所有美国国防部和中间CA证书。`master keystore`文件应放置在`VMware
    View安装`目录中的`\sslgateway\conf`子目录下，View Connection Server所在的位置。如何生成`master keystore`的详细说明将在本章后面进行说明。
- en: Copy the `truststore` files to the `\sslgateway\conf` subdirectory.![Configuring
    U.S. Department of Defense CAC Authentication](img/1124EN_09_16.jpg)
  id: totrans-234
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`truststore`文件复制到`\sslgateway\conf`子目录下。![配置美国国防部CAC认证](img/1124EN_09_16.jpg)
- en: The preceding screenshot is a representative screen capture of the `\\sslgateway\conf`
    subdirectory of working VMware View Connection Server configured for CAC authentication.
  id: totrans-235
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 上面的截图是配置了CAC认证的工作VMware View Connection Server的`\\sslgateway\conf`子目录的典型屏幕截图。
- en: Now that all of the certificates are in the proper location, VMware View Connection
    Server must be configured to use the certificates.
  id: totrans-236
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在所有证书都已放置在正确的位置，必须配置VMware View Connection Server以使用这些证书。
- en: Next, open the `locked.properties` file, which can also be found in the `\sslgateway\conf`
    subdirectory. If the file does not exist, it should be created using Notepad or
    a similar utility.
  id: totrans-237
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，打开`locked.properties`文件，该文件也可以在`\sslgateway\conf`子目录中找到。如果该文件不存在，则应使用记事本或类似工具创建它。
- en: 'The contents of the `locked.properties` file should be similar to:'
  id: totrans-238
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`locked.properties`文件的内容应类似于：'
- en: '[PRE2]'
  id: totrans-239
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: The preceding text assumes that the `master keystore` file is actually named
    as `masterkeystore`. The `trustStoreType` = `JKS` defined that the trust store
    is a Java keystore generated with the **Java Runtime Environment (JRE)** `keytool.exe`
    or similar utility. The `useCertAuth` = `true` enabled the use of the certificate.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 上述文本假设`master keystore`文件实际命名为`masterkeystore`。`trustStoreType`=`JKS`定义了信任库为使用**Java运行时环境（JRE）**
    `keytool.exe`或类似工具生成的Java密钥库。`useCertAuth`=`true`启用了证书的使用。
- en: Once the settings have been applied, restart the VMware View Connection Server
    service or the VMware View Security Server service. At this point, it’s also important
    to verify that the View Admin console is still functional, as a malformed `locked.properties`
    file can prevent the View Admin console from loading properly.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦设置完成，重新启动VMware View Connection Server服务或VMware View Security Server服务。此时，还需要验证View
    Admin控制台是否仍然可用，因为格式错误的`locked.properties`文件可能会导致View Admin控制台无法正常加载。
- en: Certificate revocation configuration
  id: totrans-242
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 证书撤销配置
- en: A **Certificate Revocation List (CRL)** is used to prevent users whose end user
    certificate has been revoked (for example, the end user is an employee who has
    been terminated) from successfully authenticating to the environment. VMware View
    supports CRLs and **Online Certificate Status Protocol (OCSP)** to check the certificate
    revocation status of a given certificate. If both OCSP and CRL are configured
    on a VMware View Connection Server or VMware View Security Server, VMware View
    will attempt to use OCSP first and then fall back to the use of a CRL if OCSP
    fails. VMware View will not fall back to OCSP from the use of a CRL if the CRL
    check fails.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: '**证书撤销列表（CRL）**用于防止那些证书已被撤销的用户（例如，已经被解雇的员工）成功地进行环境认证。VMware View支持CRL和**在线证书状态协议（OCSP）**，用于检查给定证书的撤销状态。如果在VMware
    View Connection Server或VMware View Security Server上配置了OCSP和CRL，VMware View会首先尝试使用OCSP，如果OCSP失败，则会回退到使用CRL。VMware
    View不会从CRL回退到OCSP，如果CRL检查失败。'
- en: Configure the use of a CRL
  id: totrans-244
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 配置CRL的使用
- en: 'The use of a CRL is configured by editing the `locked.properties` file and
    adding the following lines:'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 通过编辑`locked.properties`文件并添加以下行来配置CRL的使用：
- en: '[PRE3]'
  id: totrans-246
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: The `enableRevocationchecking` and `allowCertCRLs` strings enables VMware View
    to perform certificate revocation checking. The `crlLocation` string is used to
    define the location of the CRL.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: '`enableRevocationchecking`和`allowCertCRLs`字符串启用了VMware View执行证书撤销检查。`crlLocation`字符串用于定义CRL的位置。'
- en: An example of a value for `crlLocation` is `http://cert.demo.local/certEnroll/ocsp-ROOT_CA.crl`.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: '`crlLocation`的一个示例值是`http://cert.demo.local/certEnroll/ocsp-ROOT_CA.crl`。'
- en: Configure the use of OCSP
  id: totrans-249
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 配置OCSP的使用
- en: 'The use of a OCSP is configured by editing the `locked.properties` file and
    adding the following lines:'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 OCSP 可以通过编辑 `locked.properties` 文件并添加以下行来进行配置：
- en: '[PRE4]'
  id: totrans-251
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The `enableRevocationchecking` and `allowCertCRLs` strings enables VMware View
    to perform a certificate revocation check. The `enableOCSP` string enables OCSP.
    The `ocspSigningCert` is used to define the certificate used by the OCSP authority
    and the `ocspURL` is used to define the location of OCSP responder.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: '`enableRevocationchecking` 和 `allowCertCRLs` 字符串使 VMware View 执行证书撤销检查。`enableOCSP`
    字符串启用 OCSP。`ocspSigningCert` 用于定义 OCSP 授权机构使用的证书，而 `ocspURL` 用于定义 OCSP 响应者的位置。'
- en: Configure the use of both a CRL and OCSP
  id: totrans-253
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 配置同时使用 CRL 和 OCSP
- en: To configure the use of both a CRL and OCSP, insert all of the preceding fields
    and their appropriate values into the `locked.properties` file. Please note that
    the `allowCertCRLs=true` string only needs to be listed once.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 要配置同时使用 CRL 和 OCSP，请将所有前述字段及其适当的值插入到 `locked.properties` 文件中。请注意，`allowCertCRLs=true`
    字符串只需列出一次。
- en: 'In addition, the following should be added to the `locked.properties` file:'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，还应将以下内容添加到 `locked.properties` 文件中：
- en: '[PRE5]'
  id: totrans-256
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: The `ocspCRLFailover` string allows the VMware View Connection Server or VMware
    View Security Server to use a CRL if OCSP fails.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: '`ocspCRLFailover` 字符串允许 VMware View 连接服务器或 VMware View 安全服务器在 OCSP 失败时使用 CRL。'
- en: Prohibiting the use of Copy and Paste functions
  id: totrans-258
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 禁止使用复制和粘贴功能
- en: In some environments, administrators may want to prevent end users from copying
    and pasting between their vDesktop and their thick or thin client. The proper
    way to prevent the Copy and Paste functions is via Group Policy of the vDesktops.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些环境中，管理员可能希望防止最终用户在其虚拟桌面与厚客户端或瘦客户端之间进行复制和粘贴。防止复制和粘贴功能的正确方法是通过虚拟桌面的组策略进行配置。
- en: This is defined in the `PCOIP.ADM` template available on any View Connection
    Server in the `\extras` subdirectory. This setting can be found in `Computer Configuration\Admin
    Templates\PCoIP Session Variables\Not Overridable Admin Settings\Configure PCoIP
    Virtual Channels`.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 这在 `\extras` 子目录下任何 View 连接服务器上的 `PCOIP.ADM` 模板中定义。该设置可以在 `计算机配置\管理模板\PCoIP
    会话变量\不可覆盖的管理员设置\配置 PCoIP 虚拟通道` 中找到。
- en: Within this setting, there is an allowed and disallowed list. If a virtual channel
    is listed on both the allowed and disallowed list, it will be disallowed. In View
    4.6 and later, the virtual channel responsible for the clipboard (mksvchan) no
    longer needs to be explicitly mentioned. Instead, the administrator can simply
    check the disable clipboard processing on the PCoIP host and enable the policy.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 在此设置中，有一个允许列表和一个不允许列表。如果虚拟通道同时出现在允许列表和不允许列表中，它将被禁止。在 View 4.6 及更高版本中，负责剪贴板的虚拟通道（mksvchan）不再需要明确提及。管理员只需勾选“禁用
    PCoIP 主机上的剪贴板处理”并启用该策略即可。
- en: 'The following screenshot shows the settings of the clipboard process:'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图展示了剪贴板处理的设置：
- en: '![Prohibiting the use of Copy and Paste functions](img/1124EN_09_17.jpg)'
  id: totrans-263
  prefs: []
  type: TYPE_IMG
  zh: '![禁止使用复制和粘贴功能](img/1124EN_09_17.jpg)'
- en: The **Disable clipboard processing on PCoIP host** setting is read at the time
    of connection or reconnection. Therefore, changing the setting from **Not Configured**
    to **Enabled**, for example, will go into effect on the next log in and not the
    existing session.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: '**禁用 PCoIP 主机的剪贴板处理** 设置在连接或重新连接时读取。因此，将设置从 **未配置** 更改为 **启用**（例如）将会在下次登录时生效，而不是在当前会话中生效。'
- en: View Connection Server tags
  id: totrans-265
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: View 连接服务器标签
- en: VMware View Connection Server uses tags to control the access to specific desktop
    pools in an environment with multiple View Connection Servers. Any given VMware
    View Connection Server can have no tags, one tag, or many tags. Tags are defined
    under **View Configuration** | **Servers** | **Edit View Connection Server Settings**
    in the View Admin console.
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: VMware View 连接服务器使用标签来控制在多台 View 连接服务器环境中对特定桌面池的访问。任何给定的 VMware View 连接服务器可以没有标签、一个标签或多个标签。标签在
    View 管理控制台的 **View 配置** | **服务器** | **编辑 View 连接服务器设置** 下定义。
- en: 'The following screenshot shows the use of a Connection Server tag (thinkvirt,
    in this case):'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图展示了使用连接服务器标签（在本例中为 thinkvirt）：
- en: '![View Connection Server tags](img/1124EN_09_18.jpg)'
  id: totrans-268
  prefs: []
  type: TYPE_IMG
  zh: '![View 连接服务器标签](img/1124EN_09_18.jpg)'
- en: In the preceding example, a specific VMware View Connection Server has been
    assigned the **thinkvirt** tag. To assign multiple tags to a VMware View Connection
    server, separate the tags by either semicolons or commas.
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 在上述示例中，已为特定的 VMware View 连接服务器分配了 **thinkvirt** 标签。要为 VMware View 连接服务器分配多个标签，可以使用分号或逗号分隔标签。
- en: Then, from within the configuration of a desktop pool, on the **Pool Settings**
    tab select **Browse** for configuration tagging.
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，在桌面池的配置中，选择 **池设置** 选项卡，点击 **浏览** 进行配置标签。
- en: 'The following screenshot shows the use of a restriction tag:'
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 下图显示了限制标签的使用：
- en: '![View Connection Server tags](img/1124EN_09_19.jpg)'
  id: totrans-272
  prefs: []
  type: TYPE_IMG
  zh: '![View 连接服务器标签](img/1124EN_09_19.jpg)'
- en: The preceding screenshot would show multiple tags if multiple tags were in use
    and would allow the administrator to select none, some, or all of the available
    tags.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 上述截图会显示多个标签（如果使用了多个标签），并允许管理员选择一个、一些或所有可用的标签。
- en: Note
  id: totrans-274
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注
- en: The **Tag** field will only be populated if at least one View Connection Server
    within the environment has a defined tag.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: '**标签**字段仅会在环境中至少一个 View 连接服务器具有定义标签时填充。'
- en: 'In the **Connection Server Restrictions** dialog box, there are two options:'
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 在 **连接服务器限制** 对话框中，有两个选项：
- en: '**No restrictions:** This pool can be accessed from any VMware View Connection
    Server'
  id: totrans-277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**没有限制：** 此池可以从任何 VMware View 连接服务器进行访问'
- en: '**Restricted to these tags:** This pool can be accessed from one or more VMware
    View Connection Servers with the defined tags'
  id: totrans-278
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**限制为这些标签：** 此池只能从具有定义标签的一个或多个 VMware View 连接服务器访问'
- en: 'The following is a matrix of tag connection permissions:'
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是标签连接权限的矩阵：
- en: '| Connection Server has defined tag? | Desktop pool is configured to use tags?
    | Result |'
  id: totrans-280
  prefs: []
  type: TYPE_TB
  zh: '| 连接服务器是否已定义标签？ | 桌面池是否配置为使用标签？ | 结果 |'
- en: '| --- | --- | --- |'
  id: totrans-281
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| No | No | Able to connect |'
  id: totrans-282
  prefs: []
  type: TYPE_TB
  zh: '| 没有 | 没有 | 可连接 |'
- en: '| No | One or more | Not able to connect |'
  id: totrans-283
  prefs: []
  type: TYPE_TB
  zh: '| 没有 | 一个或多个 | 无法连接 |'
- en: '| One or more | No | Able to connect |'
  id: totrans-284
  prefs: []
  type: TYPE_TB
  zh: '| 一个或多个 | 没有 | 可连接 |'
- en: '| One or more | One or more | Able to connect only if one or more tags match
    |'
  id: totrans-285
  prefs: []
  type: TYPE_TB
  zh: '| 一个或多个 | 一个或多个 | 仅在一个或多个标签匹配时才可连接 |'
- en: One example of when this may be useful is if an organization has two separate
    inbound VPN environments. VPN_A is used by consultants and visitors. VPN_B is
    used by employees. If the organization wanted to restrict users of VPN_A to a
    desktop with limited capabilities and minimal applications installed, one or more
    separate View Connection Servers could be set up for VPN_A and VPN_B, respectively.
    The View Connection Servers would be tagged VPNA and VPNB, respectively. Then,
    the limited desktop pool would only allow connections from VPNA, whereas the fully
    functional desktop pool would only allow connections from VPNB.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 这种情况的一个例子是，如果一个组织有两个独立的入站 VPN 环境。VPN_A 供顾问和访客使用，VPN_B 供员工使用。如果该组织希望将 VPN_A 的用户限制为一个具有有限功能和最少应用程序安装的桌面，可以分别为
    VPN_A 和 VPN_B 设置多个独立的 View 连接服务器。然后，View 连接服务器将分别标记为 VPNA 和 VPNB。此时，有限功能的桌面池将只允许
    VPNA 连接，而完全功能的桌面池将只允许 VPNB 连接。
- en: It’s important to note that a VMware View solution can leverage more than one
    vCenter Server. Therefore, not only could tagging limit the pools an inbound user
    has access to but the backend desktop pools could live on a completely separate
    virtual infrastructure.
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 需要注意的是，VMware View 解决方案可以利用多个 vCenter 服务器。因此，标签不仅可能限制传入用户可以访问的池，还可能使后端桌面池存在于完全独立的虚拟基础架构中。
- en: In addition, you could use View Connection Server tagging to identify which
    users were forced to use two-factor authentication and which were not.
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，您还可以使用 View 连接服务器标签来识别哪些用户被强制使用双重身份验证，哪些没有。
- en: '![View Connection Server tags](img/1124EN_09_20.jpg)'
  id: totrans-289
  prefs: []
  type: TYPE_IMG
  zh: '![View 连接服务器标签](img/1124EN_09_20.jpg)'
- en: In the previous example, the end user has more than one View Connection Server
    (VCS) available to him. The Green VCS requires smart card authentication. For
    example, this VCS could be used by military staff or doctors who have been issued
    a common access card (CAC), whereby the Blue VCS could be used by civilians, interns,
    or temporary staff (who are not issued smart cards). Within the VDI there exists
    a Desktop Pool that has several sensitive financial applications as part of its
    base image. By using VMware View Connection Server tagging, the financial desktop
    pool can be configured to only allow incoming connections from the Green VCS,
    thereby enforcing the use of smart card authentication for incoming users.
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的示例中，最终用户可以访问多个View Connection Server（VCS）。绿色VCS要求智能卡认证。例如，该VCS可能用于军事人员或医生，他们已获得通用访问卡（CAC），而蓝色VCS则可供平民、实习生或临时员工（未发放智能卡的人员）使用。在VDI环境中，存在一个桌面池，其中包括多个敏感的财务应用程序作为基础镜像。通过使用VMware
    View Connection Server标记，财务桌面池可以被配置为只允许来自绿色VCS的连接，从而强制要求来访用户使用智能卡认证。
- en: Forensics
  id: totrans-291
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 法医学
- en: '**Forensics**, in terms of Information Technology, typically relates to the
    extraction of legal evidence from computer systems to support legal events. Forensics
    involves identifying, preserving, recovering, analyzing, and presenting collected
    data from a computer environment. Forensics is also a required component for many
    sensitive computing environments looking to leverage VDI solutions.'
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: '**法医学**，在信息技术领域，通常指从计算机系统中提取法律证据，以支持法律事件。法医学包括识别、保存、恢复、分析和呈现从计算机环境中收集的数据。法医学也是许多敏感计算环境在寻求使用VDI解决方案时所需的组件。'
- en: '![Forensics](img/1124EN_09_21.jpg)'
  id: totrans-293
  prefs: []
  type: TYPE_IMG
  zh: '![法医学](img/1124EN_09_21.jpg)'
- en: To understand how forensics is impacted by VDI, it’s first important to understand
    where user-authored or user-manipulated data may reside.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解法医学如何受到VDI的影响，首先需要理解用户创作或用户操控的数据可能存放在哪里。
- en: 'The primary locations for user-authored or user-manipulated data are as follows:'
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 用户创作或用户操控数据的主要位置如下：
- en: '**Operating system:** For VMware View solutions that do not leverage View Composer
    or do not leverage redirection of the users persona, user data will reside within
    the operating system partition.'
  id: totrans-296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**操作系统：** 对于不使用View Composer或不使用重定向用户人物配置文件的VMware View解决方案，用户数据将位于操作系统分区中。'
- en: '**Persona:** For VMware View solutions that leverage Microsoft roaming profiles,
    a persona management solution, for example, Liquidware Labs ProfileUnity TM, or
    VMware Views persistent user data drives, user data will reside within the persona
    partition. For Microsoft roaming profiles, AppSense, or ProfileUnity, the user
    data will be stored on a network share. Therefore, ensuring that the network share
    that stores the user data is backed up according to the organizations policy is
    imperative as the location where forensics analysis will occur.'
  id: totrans-297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**人物层：** 对于使用Microsoft漫游配置文件的VMware View解决方案，或者使用例如Liquidware Labs ProfileUnity
    TM的个人管理解决方案，或VMware View的持久性用户数据驱动器，用户数据将位于人物分区中。对于Microsoft漫游配置文件、AppSense或ProfileUnity，用户数据将存储在网络共享中。因此，确保存储用户数据的网络共享根据组织政策进行备份是至关重要的，因为法医学分析将在此位置进行。'
- en: For solutions that use persistent user data drives, it is important to preserve
    these virtual disk files so that they can be attached to other virtual machines
    if the need to perform forensics arises. When user data resides in the persona
    layer, virtual machine volatility is of far less concern.
  id: totrans-298
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于使用持久性用户数据驱动器的解决方案，保存这些虚拟磁盘文件至关重要，以便在需要进行法医学分析时，它们可以附加到其他虚拟机上。当用户数据位于人物层时，虚拟机的不稳定性就不再是一个大问题。
- en: '**Network resources:** For network resources, such as file shares, web-based
    collaboration resources, the scope for preserving these data points is outside
    the scope of this book and relies more on understanding various platforms and
    how they provide auditing and data restoration capabilities.'
  id: totrans-299
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网络资源：** 对于网络资源，例如文件共享、基于Web的协作资源，保留这些数据点的范围超出了本书的讨论范围，更依赖于理解各种平台以及它们如何提供审计和数据恢复能力。'
- en: '**Temporary location:** For solutions that leverage redirecting the users profile,
    its possible that configuration of the solution may miss user data due to misconfiguration
    and therefore, would be discarded during a vDesktop or desktop pool View Composer.'
  id: totrans-300
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**临时位置：** 对于那些利用重定向用户配置文件的解决方案，可能由于配置错误导致用户数据未被正确捕捉，因此在vDesktop或桌面池的View Composer过程中可能会被丢弃。'
- en: The biggest challenge for VDI that requires forensics capabilities is the use
    of non-persistent desktop pools. Persistent desktop pools are automatically assigned
    once and therefore data, versioning, state, and so on is able to be maintained.
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 对于需要取证能力的VDI（虚拟桌面基础设施）最大的挑战是使用非持久性桌面池。持久性桌面池会自动分配一次，因此能够保持数据、版本、状态等信息。
- en: Summary
  id: totrans-302
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: While a VDI solution is inherently secure in nature, as the end user’s data
    typically resides in a secure data center, it is still important to understand
    an organization’s security posture, policies, and attack vectors and take appropriate
    measures where necessary. With end users connecting from any location, such as
    an unsecured Wi-Fi connection at a coffee shop, an Apple iPad over the AT&T 3G
    network, a corporate LAN, or a home cable ISP, it is important to protect corporate
    data and intellectual property. The use of smart card authentication a solution
    rapidly gaining in popularity — is one strong approach for protecting the authentication
    entry point. Sound networking policies limiting traffic to defined ports, protocols,
    sources, and destinations is another key component of a secure VDI.
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然VDI解决方案本质上是安全的，因为最终用户的数据通常存储在安全的数据中心，但了解组织的安全态势、政策和攻击向量，并在必要时采取适当的措施仍然至关重要。由于最终用户可以从任何位置连接，例如咖啡店的非安全Wi-Fi、通过AT&T
    3G网络的Apple iPad、公司局域网或家庭有线ISP，因此保护公司数据和知识产权非常重要。使用智能卡身份验证（这一解决方案正在迅速普及）是保护身份验证入口的一种有效方法。合理的网络策略，限制流量到定义的端口、协议、来源和目的地，是确保VDI安全的另一个关键组成部分。
- en: Finally, understanding basic fundamentals of data forensics to ensure compliance,
    if necessary, is an important skill to have within the VDI solution team. While
    potentially the majority of VDI solutions will not require in-depth forensic capabilities,
    understanding the data points to preserve, monitor, and collect are significant.
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，了解数据取证的基本原理，以确保合规性（如果需要），是VDI解决方案团队必须具备的重要技能。虽然大多数VDI解决方案可能不需要深入的取证能力，但理解需要保留、监控和收集的数据点非常重要。
- en: The next chapter focuses on the process of migrating from a physical desktop
    solution to a virtual desktop solution. There are many different approaches that
    can be taken, and the advantages and disadvantages of each will be covered.
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 下一章将重点介绍从物理桌面解决方案迁移到虚拟桌面解决方案的过程。可以采取许多不同的方法，每种方法的优缺点将进行详细讨论。
