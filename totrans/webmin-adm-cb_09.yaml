- en: Chapter 9. Running a MySQL Database Server
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第 9 章：运行 MySQL 数据库服务器
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Installing the MySQL database server
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装 MySQL 数据库服务器
- en: Allowing access to MySQL over the network
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许通过网络访问 MySQL
- en: Accessing your MySQL server over an SSH tunnel
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过 SSH 隧道访问 MySQL 服务器
- en: Creating a new database
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建新数据库
- en: Creating users and granting permissions to databases
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建用户并授予数据库权限
- en: Creating a backup of your database
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建数据库备份
- en: Executing custom SQL commands
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 执行自定义 SQL 命令
- en: Restoring database from the backup
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从备份中恢复数据库
- en: Editing the structure of your database
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编辑数据库结构
- en: Editing records in a database
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编辑数据库中的记录
- en: Checking who is using your database server
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 检查谁在使用你的数据库服务器
- en: Installing phpMyAdmin
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装 phpMyAdmin
- en: Introduction
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍
- en: MySQL is a powerful open source database management system. MySQL servers are
    easy to set up and scale quite well. This database system powers some of the world's
    largest websites including Facebook, Twitter, and Wikipedia.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL 是一个强大的开源数据库管理系统。MySQL 服务器易于设置并且扩展性很好。这个数据库系统为一些世界上最大的网站提供支持，包括 Facebook、Twitter
    和 Wikipedia。
- en: MySQL employs a distributed client-server architecture. A single server can
    provide database services to multiple client programs simultaneously. Clients
    running on the same machine as the server usually connect using a Unix socket.
    Clients can also run on separate machines and connect to the database server over
    the network. MySQL uses TCP connections, and the server's default listening port
    is 3306.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL 采用分布式客户端-服务器架构。单个服务器可以同时为多个客户端程序提供数据库服务。运行在与服务器相同机器上的客户端通常通过 Unix 套接字连接。客户端也可以运行在不同的机器上，通过网络连接到数据库服务器。MySQL
    使用 TCP 连接，服务器的默认监听端口是 3306。
- en: Note
  id: totrans-17
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Unix domain sockets are channels used for inter-process communication. Different
    programs running on the same machine can read and write information to a socket,
    enabling communication between the programs. Unix sockets are represented as nodes
    of the filesystem, so you can find a socket by listing the contents of a directory
    in which it was created.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: Unix 域套接字是用于进程间通信的通道。不同程序在同一台机器上运行时，可以读写套接字中的信息，从而实现程序之间的通信。Unix 套接字作为文件系统的节点表示，因此你可以通过列出创建套接字的目录内容来找到它。
- en: The permissions system of MySQL is very granular. Each client can have access
    limited to a subset of databases and be allowed to execute a different set of
    SQL commands on each database.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL 的权限系统非常细粒度。每个客户端的访问权限可以被限制在部分数据库上，并且在每个数据库上允许执行不同的 SQL 命令。
- en: The database server maintains a list of client accounts, which are separate
    from the system user accounts. Each client account is defined not only by a username
    and password, but also by the host from which the user is connecting. Thanks to
    this solution, complex permission definitions are possible. For instance, the
    same username and password may be used locally to perform administrative tasks,
    but allowed only to view the server state remotely.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库服务器维护一份客户端账户列表，这些账户与系统用户账户是分开的。每个客户端账户不仅由用户名和密码定义，还由用户连接的主机定义。由于这个解决方案，复杂的权限定义成为可能。例如，相同的用户名和密码可以在本地用于执行管理任务，但在远程仅允许查看服务器状态。
- en: The default MySQL installation creates an administrative superuser called `root`
    as well as an anonymous account, which makes it possible to connect to the database
    server without authentication. It's important to equip the `root` account with
    a strong password and disable anonymous accounts on a production system.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 默认的 MySQL 安装会创建一个名为 `root` 的超级管理员账户以及一个匿名账户，允许无需身份验证即可连接到数据库服务器。在生产环境中，确保为 `root`
    账户设置强密码，并禁用匿名账户非常重要。
- en: Note
  id: totrans-22
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: In addition to a username and password, MySQL may require the client to provide
    a certificate for increased security.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 除了用户名和密码外，MySQL 还可能要求客户端提供证书以提高安全性。
- en: Webmin's support for MySQL is excellent and allows you to perform most tasks
    related to the running of the database server. In this chapter, we will demonstrate
    how Webmin can help you install MySQL, set up access to the server over a network,
    manage user accounts, create databases, and edit the structure and data of databases.
    We'll also demonstrate how to automatically backup databases and restore backup
    files. If you find that you need an even more advanced web-based management tool,
    we will demonstrate how to set up phpMyAdmin on your server.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: Webmin 对 MySQL 的支持非常出色，允许您执行与数据库服务器运行相关的大多数任务。在本章中，我们将演示 Webmin 如何帮助您安装 MySQL，设置通过网络访问服务器，管理用户帐户，创建数据库，编辑数据库的结构和数据。我们还将演示如何自动备份数据库并恢复备份文件。如果您发现需要一个更先进的基于网页的管理工具，我们将演示如何在服务器上设置
    phpMyAdmin。
- en: Installing the MySQL database server
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装 MySQL 数据库服务器
- en: Practically all operating systems that come with a package management solution
    for open source software make MySQL packages available for installation. In this
    recipe, we will install MySQL from a package and set it up on your system. The
    server package automatically installs MySQL's command-line client package as well.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 几乎所有附带开源软件包管理解决方案的操作系统都提供 MySQL 软件包以供安装。在本节中，我们将从软件包安装 MySQL，并在您的系统上进行设置。服务器包还会自动安装
    MySQL 的命令行客户端包。
- en: How to do it...
  id: totrans-27
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Follow these steps to set up MySQL on your server:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤在您的服务器上设置 MySQL：
- en: Follow the steps described in the *Installing software packages* recipe in [Chapter
    1](ch01.html "Chapter 1. Setting Up Your System"), *Setting Up Your System*, to
    find and install the MySQL database server package.
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按照[第1章](ch01.html "第1章. 设置您的系统")中*安装软件包*一节的步骤，*设置您的系统*，查找并安装 MySQL 数据库服务器包。
- en: Note
  id: totrans-30
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注
- en: Most distributions make multiple versions of MySQL available in their package
    repositories. On some systems, you will find a meta-package called `mysql-server`
    that installs the latest version. On other systems, you will find packages with
    version numbers in the name, for instance `mysql-server-5.5` or `mysql55-server`
    for version 5.5.x. Pick the package with the latest version unless you have reasons
    to stick to an older one.
  id: totrans-31
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 大多数发行版在其软件包存储库中提供多个版本的 MySQL。在一些系统中，您会找到一个名为 `mysql-server` 的元包，它安装最新版本。在其他系统中，您会找到版本号在名称中的包，例如
    `mysql-server-5.5` 或 `mysql55-server`，用于安装 5.5.x 版本。除非有理由使用旧版本，否则请选择最新版本的软件包。
- en: Navigate to **System** | **Bootup and Shutdown**.
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到 **系统** | **启动和关闭**。
- en: Select the checkbox next to the init script for the MySQL database server (it
    will be named `mysql`, `mysqld`, `mysql-server`, or similarly).
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 MySQL 数据库服务器的启动脚本旁边的复选框（它的名称可能是 `mysql`、`mysqld`、`mysql-server` 或类似的名称）。
- en: Click the **Start Now and On Boot** button.
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **立即启动并开机自启** 按钮。
- en: Click the **Refresh Modules** link at the bottom of Webmin's main menu and reload
    the browser to update the menu.
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 Webmin 主菜单底部的**刷新模块**链接，然后重新加载浏览器以更新菜单。
- en: Navigate to **Servers** | **MySQL Database Server**.
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到 **服务器** | **MySQL 数据库服务器**。
- en: Webmin should be able to connect to your MySQL server. You will see a list of
    databases that, at this stage, should include default databases such as `information_schema`
    and `mysql`.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: Webmin 应该能够连接到您的 MySQL 服务器。此时，您将看到一个数据库列表，其中应该包括默认的数据库，如 `information_schema`
    和 `mysql`。
- en: Tip
  id: totrans-38
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: 'If you see **Warning: The Perl modules DBI and DBD::mysql are not installed
    on your system**, click the link and follow Webmin''s instructions to install
    the missing Perl modules.'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您看到**警告：Perl 模块 DBI 和 DBD::mysql 未安装在您的系统上**，请点击链接并按照 Webmin 的说明安装缺失的 Perl
    模块。
- en: The default MySQL setup is fine for a development or testing server. However,
    if you plan to use the database in production or on a shared server, please continue
    reading the *There's more* section of this recipe.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 默认的 MySQL 设置适用于开发或测试服务器。然而，如果您打算在生产环境或共享服务器上使用数据库，请继续阅读本节的*更多内容*部分。
- en: How it works...
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: Webmin helps you find and install the `mysql-server` package from your distribution's
    repositories. The package contains an init script, which we enabled in order to
    start the database server whenever your machine boots.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: Webmin 帮助您从发行版的存储库中找到并安装 `mysql-server` 包。该包包含一个启动脚本，我们已启用该脚本，以便在您的机器启动时启动数据库服务器。
- en: The default MySQL installation contains a number of convenient features, such
    as anonymous user accounts or the ability to log in as root without providing
    a password. These default options make it easier to get started with MySQL. However,
    they should never be used in production because they constitute a major security
    risk.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 默认的MySQL安装包含许多便利的功能，如匿名用户帐户或可以不提供密码即可作为root登录的能力。这些默认选项使得启动MySQL变得更加简单。但是，它们不应该在生产环境中使用，因为它们构成重大安全风险。
- en: There's more...
  id: totrans-44
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: Perform the following steps to make MySQL more secure for use in a production
    setting.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤，使MySQL在生产环境中更安全。
- en: Making MySQL ready for production use
  id: totrans-46
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使MySQL准备好进行生产使用
- en: 'Follow these steps to provide basic security for your MySQL server:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤为你的MySQL服务器提供基本安全性：
- en: Connect to your server using a terminal emulator, for instance over SSH.
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用终端仿真器（例如通过SSH）连接到你的服务器。
- en: Tip
  id: totrans-49
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: You may also use Webmin's **Text Login** module.
  id: totrans-50
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 你也可以使用Webmin的 **Text Login** 模块。
- en: 'Type in the following command: `mysql_secure_installation`.'
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入以下命令：`mysql_secure_installation`。
- en: Answer yes to all questions by pressing *Y* and then *Enter*, unless you know
    that you want settings other then the recommended ones.
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过按 *Y* 然后 *Enter* 确认所有问题，除非你知道你想要其他推荐设置以外。
- en: 'The `mysql_secure_installation` script performs the following tasks:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '`mysql_secure_installation` 脚本执行以下任务：'
- en: Sets a password for the database `root` user
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为数据库 `root` 用户设置密码
- en: Removes anonymous access to the database; MySQL will only allow authorized users
    access from now on
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 删除数据库的匿名访问；从现在开始，MySQL将仅允许授权用户访问
- en: Disallows remote login by the `root` user, because this user should normally
    only access the database from the same computer
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 禁止 `root` 用户远程登录，因为这个用户通常只应该从同一台计算机访问数据库
- en: Removes the `test` database.
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 删除 `test` 数据库。
- en: See also
  id: totrans-58
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: If you want to allow other computers access to your databases, take a look at
    the *Allowing access to MySQL over the network* recipe of this chapter.
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你想让其他计算机访问你的数据库，查看本章节的 *允许通过网络访问MySQL* 部分。
- en: Allowing access to MySQL over the network
  id: totrans-60
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 允许通过网络访问MySQL
- en: Programs that access MySQL databases, which are called clients, may be running
    on the same machine as the server. In this case, the client and server will communicate
    most efficiently using a Unix domain socket, which is a channel of inter-process
    communication accessed through the filesystem like a file or directory. Access
    to a socket is controlled by the filesystem's permissions.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 访问MySQL数据库的程序（称为客户端）可能在与服务器相同的计算机上运行。在这种情况下，客户端和服务器将通过Unix域套接字进行最有效的通信，这是通过文件系统访问的进程间通信通道，类似于文件或目录。套接字的访问受文件系统权限控制。
- en: Other client programs may be able to communicate only over TCP network sockets.
    These clients may connect to the local server using the loopback interface and
    IP address of 127.0.0.1\. In this case, the MySQL server must be compiled with
    networking support and configured to listen for connections on the loopback interface.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 其他客户端程序可能仅能通过TCP网络套接字进行通信。这些客户端可以使用回环接口和IP地址127.0.0.1连接到本地服务器。在这种情况下，MySQL服务器必须编译为支持网络并配置为在回环接口上监听连接。
- en: However, if the client program is located on a machine other than the server,
    then communication between them must take place over the network using the TCP
    protocol. In order to make this communication possible, you will need to open
    an exception in your firewall and instruct MySQL to listen for incoming network
    connections on a physical network interface.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 但是，如果客户端程序位于服务器以外的机器上，则它们之间的通信必须通过使用TCP协议的网络进行。为了使这种通信成为可能，你需要在防火墙中开放一个例外，并指示MySQL在物理网络接口上监听传入的网络连接。
- en: Tip
  id: totrans-64
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: You may also tunnel MySQL traffic over SSH, which may be a more secure solution.
    Take a look at the *Accessing your database server remotely over an SSH tunnel*
    recipe for more information.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以通过SSH隧道传输MySQL流量，这可能是更安全的解决方案。查看 *通过SSH隧道远程访问数据库服务器* 部分以获取更多信息。
- en: Getting ready
  id: totrans-66
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备就绪
- en: If you plan to make your database server available over the network, you should
    definitely take measures to secure it. Take a look at the *Making MySQL ready
    for production use* section of the *Installing the MySQL database server* recipe
    in this chapter for more information.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你计划使数据库服务器通过网络可用，你应该采取措施来确保其安全。查看本章节的 *使MySQL准备好进行生产使用* 部分以获取更多信息。
- en: 'Before starting, follow steps described in the *Allowing access to a service
    through the firewall* recipe in [Chapter 3](ch03.html "Chapter 3. Securing Your
    System"), *Securing your system*, to allow incoming TCP traffic to port `3306`
    through your firewall as shown in the following screenshot:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始之前，请按照[第 3 章](ch03.html "第 3 章。保护您的系统")中*通过防火墙允许访问服务*一节的步骤，允许通过防火墙将传入的 TCP
    流量导入端口 `3306`，如下图所示：
- en: '![Getting ready](img/5849_09_01.jpg)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![准备就绪](img/5849_09_01.jpg)'
- en: How to do it...
  id: totrans-70
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Steps in this recipe will be divided into the following four sections:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 本配方的步骤将分为以下四个部分：
- en: First, we'll instruct MySQL to listen for incoming network connections on the
    standard MySQL port (`3306`)
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 首先，我们将指示 MySQL 在标准 MySQL 端口（`3306`）上监听传入的网络连接
- en: Then, we'll create a database user named `dbuser`
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 然后，我们将创建一个名为 `dbuser` 的数据库用户
- en: We will grant access to a database named `testdb`
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们将授予对名为 `testdb` 的数据库的访问权限
- en: Finally, we will test the setup by connecting to our server from a secondary
    client machine
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最后，我们将通过从第二台客户端机器连接到我们的服务器来测试设置
- en: Instructing MySQL server to listen for network connections
  id: totrans-76
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 指示 MySQL 服务器监听网络连接
- en: 'For MySQL to accept incoming network connections, perform the following steps:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使 MySQL 接受传入的网络连接，请执行以下步骤：
- en: Navigate to **Servers** | **MySQL Database Server** | **MySQL Server Configuration**.
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到**服务器** | **MySQL 数据库服务器** | **MySQL 服务器配置**。
- en: Set **MySQL server listening address** to **Any**.
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**MySQL 服务器监听地址**设置为**任何**。
- en: Click the **Save and Restart MySQL** button.
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存并重新启动 MySQL**按钮。
- en: Creating a new user
  id: totrans-81
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 创建新用户
- en: 'In order to create a new user, perform the following steps:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 为了创建一个新用户，请执行以下步骤：
- en: Navigate to **Servers** | **MySQL Database Server** | **User Permissions**.
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到**服务器** | **MySQL 数据库服务器** | **用户权限**。
- en: Click the **Create new user** link.
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建新用户**链接。
- en: Set **Username** to `dbuser`, **Password** to a strong password, and **Hosts**
    to **Any**.
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**用户名**设置为 `dbuser`，**密码**设置为强密码，**主机**设置为**任何**。
- en: Click the **Create** button.
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建**按钮。
- en: Granting user access to database
  id: totrans-87
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 授予用户访问数据库的权限
- en: 'In order to grant user access to database, perform the following steps:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 为了授予用户访问数据库的权限，请执行以下步骤：
- en: Navigate to **Servers** | **MySQL Database Server** | **Database Permissions**.
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到**服务器** | **MySQL 数据库服务器** | **数据库权限**。
- en: Click the **Create new database permissions** link.
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建新数据库权限**链接。
- en: In the **Databases** line, choose **Selected** and select your `testdb` database.
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**数据库**行中，选择**已选**并选择您的 `testdb` 数据库。
- en: Set **Username** to the name of the created user, that is, `dbuser`.
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**用户名**设置为创建的用户的名称，即 `dbuser`。
- en: Set **Hosts** to **Any** to allow the user to connect from anywhere.
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**主机**设置为**任何**，以允许用户从任何地方连接。
- en: Tip
  id: totrans-94
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: For added security, you should specify an IP address or domain name from which
    the user will be able to connect. You can use `%` as part of the address to specify
    a wildcard. For example, `192.168.0.%` would denote the entire `192.168.0.1/24`
    subnet, while `%.example.com` would include all hosts within a domain.
  id: totrans-95
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为了增加安全性，您应该指定一个用户可以连接的 IP 地址或域名。您可以使用 `%` 作为地址的一部分来指定通配符。例如，`192.168.0.%` 表示整个
    `192.168.0.1/24` 子网，而 `%.example.com` 包括域名下的所有主机。
- en: Select all the permissions in the **Permissions** list.
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**权限**列表中选择所有权限。
- en: Click the **Create** button.
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建**按钮。
- en: Testing the connection
  id: totrans-98
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 测试连接
- en: 'Try to connect to your database server from a second machine on the network.
    If your other machine has the MySQL command-line client installed, you can test
    the connection by typing in this command at the terminal, but substitute `mysql-host`
    with the IP or domain name of your MySQL server:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 尝试从网络中的第二台机器连接到数据库服务器。如果另一台机器上安装了 MySQL 命令行客户端，您可以通过在终端输入以下命令来测试连接，但请将`mysql-host`替换为
    MySQL 服务器的 IP 或域名：
- en: '[PRE0]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'If the connection is successful, you will see the following welcome message
    including the server''s MySQL version:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 如果连接成功，您将看到以下欢迎消息，其中包括服务器的 MySQL 版本：
- en: '[PRE1]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: When you arrive at the `mysql>` prompt, you can start executing SQL commands.
    Type `exit` and press *Enter* to disconnect.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 当您到达 `mysql>` 提示符时，可以开始执行 SQL 命令。输入 `exit` 并按 *Enter* 断开连接。
- en: How it works...
  id: totrans-104
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: In order to allow the MySQL server to accept incoming network connections, Webmin
    edits your server's configuration file (usually located in `/etc/my.cnf`, `/var/db/mysql/my.cnf`
    or `/etc/mysql/my.cnf`).
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 为了允许 MySQL 服务器接受传入的网络连接，Webmin 会编辑您服务器的配置文件（通常位于 `/etc/my.cnf`、`/var/db/mysql/my.cnf`
    或 `/etc/mysql/my.cnf`）。
- en: 'There are two lines in the server''s configuration that specify what connections
    the server will accept. For instance, if we only want to accept local connections,
    these lines could read like the following:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 服务器配置中有两行指定了服务器将接受哪些连接。例如，如果我们只希望接受本地连接，这些行可以写成如下：
- en: '[PRE2]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: The first line instructs MySQL to create a local Unix socket for communication
    with other programs on the same machine, while the second line instructs it to
    listen for incoming connections on the local loopback interface (`127.0.0.1`).
    In order to make the server listen to incoming network connections on all interfaces,
    Webmin simply removes the `bind-address` line.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 第一行指示 MySQL 创建一个本地 Unix 套接字，用于与同一机器上的其他程序通信，而第二行则指示它在本地回环接口（`127.0.0.1`）上监听传入连接。为了使服务器在所有接口上都能监听传入的网络连接，Webmin
    只需删除 `bind-address` 这一行。
- en: 'We tested our connection by issuing the following command on another computer
    attached to the same network:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 我们通过在同一网络下的另一台计算机上发出以下命令来测试连接：
- en: '[PRE3]'
  id: totrans-110
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'This command starts the MySQL command-line client. The options specified are
    as follows:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 该命令启动 MySQL 命令行客户端。指定的选项如下：
- en: '`-u`: This option specifies which user is trying to connect to the server'
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-u`：此选项指定尝试连接到服务器的用户'
- en: '`-p`: This option states that we want to be prompted for a password'
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-p`：此选项指示我们希望系统提示输入密码'
- en: '`-h`: This option specifies the host to which we''re trying to connect'
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-h`：此选项指定我们尝试连接的主机'
- en: '`-D`: This option states which database we want to use once we are connected'
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-D`：此选项指定我们连接后要使用的数据库'
- en: In order to create database users and grant them permissions, Webmin operates
    directly on the data stored in MySQL's internal configuration databases. If you
    wanted to perform the same operations manually, you could connect to the MySQL
    server by using the command-line client and issuing the following commands.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 为了创建数据库用户并授予他们权限，Webmin 直接在 MySQL 的内部配置数据库中操作数据。如果你想手动执行相同的操作，可以使用命令行客户端连接到
    MySQL 服务器，并发出以下命令。
- en: 'First, connect to the local database server as `root`:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，以 `root` 用户连接到本地数据库服务器：
- en: '[PRE4]'
  id: totrans-118
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Next, issue the following MySQL commands:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，发出以下 MySQL 命令：
- en: '[PRE5]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: The first command creates a user named `dbuser`, while the second gives this
    user complete access to the `testdb` database. The final command forces your MySQL
    server to reload information about users and privileges so that the new user can
    connect.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 第一条命令创建了一个名为 `dbuser` 的用户，而第二条命令为该用户提供对 `testdb` 数据库的完全访问权限。最后一条命令强制 MySQL 服务器重新加载关于用户和权限的信息，以便新用户可以连接。
- en: Tip
  id: totrans-122
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: 'The MySQL command-line client stores a history of all the entered commands
    in a file. If we execute the commands listed earlier, the history file will contain
    the password of our newly created user. To avoid this, we can instruct MySQL not
    to save history during this session by issuing the following command before connecting
    to the server:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL 命令行客户端会将所有输入的命令历史保存在一个文件中。如果我们执行之前列出的命令，历史文件将包含我们新创建用户的密码。为了避免这种情况，我们可以在连接到服务器之前，通过发出以下命令指示
    MySQL 在此会话期间不保存历史记录：
- en: '[PRE6]'
  id: totrans-124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: There's more...
  id: totrans-125
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多内容...
- en: This recipe allows a user to access a single database remotely. For security
    reasons, the primary management account (`root`) should not be allowed to connect
    to your server from another computer. If you would nevertheless like to allow
    some remote management of the database server (creating databases, users, and
    so on), you can perform the following outlined steps.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 本食谱允许用户远程访问单一数据库。出于安全原因，主管理账户（`root`）不应允许从其他计算机连接到你的服务器。如果你仍希望允许对数据库服务器进行一些远程管理（如创建数据库、用户等），可以按照以下步骤进行操作。
- en: Managing databases remotely
  id: totrans-127
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 远程管理数据库
- en: 'Follow these steps to create an account that you will use for remote administration:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤创建一个账户，用于远程管理：
- en: Navigate to **Servers** | **MySQL Database Server** | **User Permissions**.
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航至 **服务器** | **MySQL 数据库服务器** | **用户权限**。
- en: Click the **Create new user** link.
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **创建新用户** 链接。
- en: Set **Username** to an administrative account name. Try to choose a username
    that will be harder to guess than `admin`.
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设置 **用户名** 为一个管理账户名。尽量选择一个比 `admin` 更难猜测的用户名。
- en: Set **Password** to a very strong password.
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设置 **密码** 为一个非常强的密码。
- en: Set **Hosts** to the IP address range from which your administrative user will
    connect.
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设置 **主机** 为你的管理用户将要连接的 IP 地址范围。
- en: From the **Permissions** list, carefully choose only those permissions that
    you are sure you need to access remotely.
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 **权限** 列表中，仔细选择你确定需要远程访问的权限。
- en: Note
  id: totrans-135
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: 'More information about the significance of each permission can be found in
    the *Privileges Provided by MySQL* section of MySQL''s documentation at the following
    link:'
  id: totrans-136
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 关于每个权限的详细信息，可以在 MySQL 文档中的 *MySQL 提供的权限* 部分找到，链接如下：
- en: '[http://dev.mysql.com/doc/refman/5.6/en/privileges-provided.html](http://dev.mysql.com/doc/refman/5.6/en/privileges-provided.html)'
  id: totrans-137
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[http://dev.mysql.com/doc/refman/5.6/en/privileges-provided.html](http://dev.mysql.com/doc/refman/5.6/en/privileges-provided.html)'
- en: Click the **Create** button.
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **创建** 按钮。
- en: 'You should now be able to connect to your server (`mysql-host`) from a remote
    client computer. You do not need to specify a database name when you connect:'
  id: totrans-139
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 现在你应该能够从远程客户端计算机连接到服务器（`mysql-host`）。连接时无需指定数据库名称：
- en: '[PRE7]'
  id: totrans-140
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: See also
  id: totrans-141
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另见
- en: In order to make remote access and management of your MySQL databases more secure,
    you can tunnel your connection over SSH.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使远程访问和管理你的 MySQL 数据库更加安全，你可以通过 SSH 隧道来传输连接。
- en: Take a look at the *Accessing your MySQL server over an SSH tunnel* recipe of
    this chapter for instructions.
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 查看本章中的 *通过 SSH 隧道访问 MySQL 服务器* 食谱以获取说明。
- en: Accessing your MySQL server over an SSH tunnel
  id: totrans-144
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过 SSH 隧道访问 MySQL 服务器
- en: If your server is hosting a website on the Internet and running a database system
    on the same machine, it is safer to disable remote network access to MySQL. On
    the other hand, you may still want to manage your databases remotely, and you
    can do so by tunneling MySQL traffic over an SSH connection.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的服务器托管了一个网站，并且在同一台机器上运行数据库系统，那么禁用 MySQL 的远程网络访问会更安全。另一方面，你可能仍然希望远程管理你的数据库，你可以通过
    SSH 连接隧道化 MySQL 流量来实现。
- en: Note
  id: totrans-146
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: One of the most important aspects of a database system is the speed with which
    it can find and return the data that you ask for. Tunneling traffic over SSH will
    add significant overhead to this communication. This solution is great for intermittent
    management tasks, but is typically not suitable as a replacement for a direct
    connection to your database system.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库系统的一个最重要方面是它查找并返回你请求的数据的速度。通过 SSH 隧道传输流量会为此通信增加显著的开销。这个解决方案非常适合间歇性的管理任务，但通常不适合作为直接连接数据库系统的替代方案。
- en: Getting ready
  id: totrans-148
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: The server you want to connect to must run both the MySQL server and an SSH
    server. The remote client machine must have an SSH client and MySQL client software
    installed. Make a note of the IP address or domain name of the server (`mysql-host`),
    the SSH username (`ssh-user`), MySQL user (`mysql-user`), and database name (`database-name`).
    Substitute them in this recipe.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 你想要连接的服务器必须同时运行 MySQL 服务器和 SSH 服务器。远程客户端机器必须安装 SSH 客户端和 MySQL 客户端软件。记下服务器的 IP
    地址或域名（`mysql-host`）、SSH 用户名（`ssh-user`）、MySQL 用户（`mysql-user`）和数据库名称（`database-name`）。在这个步骤中需要替换为相应的值。
- en: How to do it...
  id: totrans-150
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'In order to create an SSH tunnel for MySQL, follow these steps:'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 为了创建 MySQL 的 SSH 隧道，请按照以下步骤操作：
- en: 'Issue the following command on your client machine:'
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在客户端机器上执行以下命令：
- en: '[PRE8]'
  id: totrans-153
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: This creates a tunnel between the port `15000` on your client machine and the
    port `3306` of the server. You can now access the remote database by making a
    MySQL connection to your client computer's local port `15000`.
  id: totrans-154
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这会在客户端机器上的端口 `15000` 和服务器的端口 `3306` 之间创建一个隧道。现在你可以通过将 MySQL 连接到客户端计算机的本地端口 `15000`
    来访问远程数据库。
- en: 'Issue the following command on the client system to test the connection:'
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在客户端系统上执行以下命令以测试连接：
- en: '[PRE9]'
  id: totrans-156
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: How it works...
  id: totrans-157
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The SSH client acts as an intermediator in communication between a MySQL client
    running on your machine and the remote server. It opens port `15000` and listens
    for incoming connections. All packets arriving at port `15000` are encrypted and
    forwarded over SSH to the server. On the server side, SSH receives the packets,
    decrypts them, and sends them to port `3306`. Answers are sent back in the opposite
    direction over the same channel.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: SSH 客户端充当你机器上运行的 MySQL 客户端与远程服务器之间的通信中介。它会打开端口 `15000` 并监听传入连接。所有到达端口 `15000`
    的数据包都会被加密并通过 SSH 转发到服务器。在服务器端，SSH 接收数据包，解密后将其发送到端口 `3306`。响应通过相同的通道返回。
- en: You can find more information about SSH tunnels in the *Connecting to Webmin
    securely over an SSH tunnel* recipe in [Chapter 3](ch03.html "Chapter 3. Securing
    Your System"), *Securing Your System*.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 有关 SSH 隧道的更多信息，请参见*通过 SSH 隧道安全连接 Webmin*食谱，详见[第 3 章](ch03.html "第 3 章. 安全加固系统")，*安全加固系统*。
- en: There's more...
  id: totrans-160
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: Some MySQL clients incorporate the ability to set up an SSH tunnel when connecting
    to a remote database.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 一些 MySQL 客户端集成了在连接远程数据库时设置 SSH 隧道的功能。
- en: Making an SSH tunnel in MySQL Workbench
  id: totrans-162
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 在 MySQL Workbench 中创建 SSH 隧道
- en: 'Popular GUI clients such as MySQL Workbench or Sequel Pro allow you to specify
    the SSH connection settings in the same window as the database connection settings.
    The procedure is similar in all cases. In MySQL Workbench you would set up the
    connection as follows:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 像 MySQL Workbench 或 Sequel Pro 这样的流行 GUI 客户端，允许你在与数据库连接设置相同的窗口中指定 SSH 连接设置。所有情况下的步骤都类似。在
    MySQL Workbench 中，你将按照以下步骤设置连接：
- en: Run MySQL Workbench on your client computer.
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在客户端计算机上运行 MySQL Workbench。
- en: Select **Connect to database** from the **Database** menu.
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**数据库**菜单中选择**连接到数据库**。
- en: Set **Connection Method** to **Standard TCP/IP over SSH**.
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**连接方式**设置为**通过 SSH 的标准 TCP/IP**。
- en: Set **SSH Hostname** to the remote server's IP address or domain name.
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**SSH 主机名**设置为远程服务器的 IP 地址或域名。
- en: Set **SSH Username** to a system user with SSH access.
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**SSH 用户名**设置为具有 SSH 访问权限的系统用户。
- en: Set **MySQL Hostname** to `127.0.0.1`.
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**MySQL 主机名**设置为 `127.0.0.1`。
- en: Set **MySQL Server Port** to `3306`.
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**MySQL 服务器端口**设置为 `3306`。
- en: Set **Username** to the name of a MySQL user.
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**用户名**设置为 MySQL 用户的名称。
- en: Click the **Test Connection** button. Consider the following screenshot:![Making
    an SSH tunnel in MySQL Workbench](img/5849_09_02.jpg)
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**测试连接**按钮。参考以下截图：![在 MySQL Workbench 中创建 SSH 隧道](img/5849_09_02.jpg)
- en: You will be asked for the password of the SSH user and then the password of
    the MySQL user. If all goes well, you will see a message indicating that the connection
    parameters are correct.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 系统会要求你输入 SSH 用户的密码，然后是 MySQL 用户的密码。如果一切顺利，你将看到一条消息，提示连接参数正确。
- en: See also
  id: totrans-174
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另见
- en: There are many tools that allow you to connect to and control your MySQL databases.
    Webmin provides a wide range of tools to perform most of the common tasks, and
    these are described in recipes later in this chapter. An even more powerful web-based
    solution that is dedicated to MySQL is phpMyAdmin. It is discussed in the *Installing
    phpMyAdmin* recipe of this chapter.
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有许多工具可以让你连接和控制你的 MySQL 数据库。Webmin 提供了广泛的工具来执行大多数常见任务，后续章节中会描述这些工具。一个更强大的基于 Web
    的 MySQL 专用解决方案是 phpMyAdmin，本章节的*安装 phpMyAdmin*食谱中将进行讨论。
- en: 'You can download the GUI clients mentioned in this recipe from the following
    sites:'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可以从以下网站下载本食谱中提到的 GUI 客户端：
- en: '**MySQL Workbench**: [http://dev.mysql.com/downloads/tools/workbench](http://dev.mysql.com/downloads/tools/workbench).'
  id: totrans-177
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**MySQL Workbench**：[http://dev.mysql.com/downloads/tools/workbench](http://dev.mysql.com/downloads/tools/workbench)。'
- en: '**Sequel Pro (OS X only)**: [http://www.sequelpro.com/download](http://www.sequelpro.com/download).'
  id: totrans-178
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Sequel Pro（仅限 OS X）**：[http://www.sequelpro.com/download](http://www.sequelpro.com/download)。'
- en: More information about SSH tunnels is provided in the *Connecting to Webmin
    securely over an SSH tunnel* recipe in [Chapter 3](ch03.html "Chapter 3. Securing
    Your System"), *Securing Your System*.
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有关 SSH 隧道的更多信息，请参见*通过 SSH 隧道安全连接 Webmin*食谱，详见[第 3 章](ch03.html "第 3 章. 安全加固系统")，*安全加固系统*。
- en: Creating a new database
  id: totrans-180
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建新数据库
- en: Creating a new MySQL database through Webmin's interface is very quick and simple.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 通过 Webmin 界面创建新 MySQL 数据库非常快捷和简单。
- en: How to do it...
  id: totrans-182
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Follow these steps to create a new database:'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤创建一个新数据库：
- en: Navigate to **Servers** | **MySQL Database Server**.
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航至**服务器** | **MySQL 数据库服务器**。
- en: Click the **Create a new database** link.
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建一个新数据库**链接。
- en: Enter **Database name**, for instance, `new_db`.
  id: totrans-186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入**数据库名称**，例如，`new_db`。
- en: Set **Character set** to **utf8 (UTF-8 Unicode)**.
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**字符集**设置为**utf8 (UTF-8 Unicode)**。
- en: Set **Collation order** to **utf8_unicode_ci (UTF-8 Unicode)**.
  id: totrans-188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**排序规则**设置为**utf8_unicode_ci (UTF-8 Unicode)**。
- en: Note
  id: totrans-189
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: The character set specifies how letter characters are stored in your database
    and the `utf8` character set contains all the letters of most alphabets. The collation
    order, on the other hand, specifies what order the letters should be placed in
    when sorting alphabetically. The `utf8_unicode_ci` collation aims to be universal,
    but there may be regional variations that make a local collation such as `utf8_polish_ci`
    more appropriate for your situation.
  id: totrans-190
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 字符集指定了字母字符在数据库中的存储方式，而`utf8`字符集包含了大多数字母表中的所有字母。另一方面，排序规则指定了字母在按字母顺序排序时应该放置的顺序。`utf8_unicode_ci`排序规则旨在成为通用的，但可能会有地区性差异，使得像`utf8_polish_ci`这样的本地排序规则更适合你的情况。
- en: Set **Initial table** to **None**.
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**初始表**设置为**无**。
- en: Click the **Create** button.
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建**按钮。
- en: How it works...
  id: totrans-193
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的……
- en: 'Webmin takes the information that you provide and creates a new database by
    connecting to the MySQL server and executing the following command:'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: Webmin会根据你提供的信息，通过连接到MySQL服务器并执行以下命令来创建一个新数据库：
- en: '[PRE10]'
  id: totrans-195
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: See also
  id: totrans-196
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另见
- en: In order to make the database useful, you would want to grant users permissions
    to access it. Take a look at the *Creating users and granting permissions to databases*
    recipe of this chapter for instructions.
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为了使数据库可用，你需要授予用户访问数据库的权限。有关说明，请参阅本章中的*创建用户并授予数据库权限*一节。
- en: If you have an initial database structure or contents, you can upload them to
    the server using a SQL commands file. Take a look at the *Executing custom SQL
    commands* recipe of this chapter for more information.
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你有初始的数据库结构或内容，可以通过使用SQL命令文件将它们上传到服务器。有关更多信息，请查看本章中的*执行自定义SQL命令*一节。
- en: 'More information about character sets and collations can be found in MySQL''s
    manual at the following link: [https://dev.mysql.com/doc/refman/5.7/en/charset-charsets.html](https://dev.mysql.com/doc/refman/5.7/en/charset-charsets.html)'
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有关字符集和排序规则的更多信息，可以在MySQL手册中的以下链接找到：[https://dev.mysql.com/doc/refman/5.7/en/charset-charsets.html](https://dev.mysql.com/doc/refman/5.7/en/charset-charsets.html)
- en: Creating users and granting permissions to databases
  id: totrans-200
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建用户并授予数据库权限
- en: Because of MySQL's client-server architecture, the server may accept connections
    from multiple clients. The connecting clients authenticate themselves to MySQL
    using a username and password. Information about user accounts and privileges
    is stored in an internal database called `mysql`.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 由于MySQL的客户端-服务器架构，服务器可能会接受来自多个客户端的连接。连接的客户端通过用户名和密码向MySQL进行身份验证。关于用户账户和权限的信息存储在一个名为`mysql`的内部数据库中。
- en: MySQL accounts are separate from system accounts, which is usually a good thing
    because more often than not they represent applications running on your server
    rather than actual users. Each application connecting to your database server
    should have its own user account, with access privileges limited to only those
    databases which are needed for the application to run. It would be a bad idea
    to allow an application root-level access. This is because if the application
    is compromised, an attacker could steal or damage all databases on your system.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL账户与系统账户是分开的，通常这是一件好事，因为它们通常代表在服务器上运行的应用程序，而非实际用户。每个连接到数据库服务器的应用程序应该有自己的用户账户，并且访问权限仅限于该应用程序运行所需的数据库。允许应用程序具有root级别的访问权限是不明智的，因为如果应用程序被攻击者入侵，攻击者可能会窃取或损坏系统上的所有数据库。
- en: In addition to a username and password, MySQL accounts are also described by
    the host from which a user is allowed to connect. This means that `'user'@'localhost'`
    is a different account than `'user'@'remotehost'` and these accounts may have
    different access privileges.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 除了用户名和密码外，MySQL账户还通过用户允许连接的主机来描述。这意味着`'user'@'localhost'`与`'user'@'remotehost'`是不同的账户，这些账户可能具有不同的访问权限。
- en: Unfortunately, this means that multiple accounts have to be created if a user
    should have access from multiple hosts, or worse yet, if the location of the user
    changes as he roams around the network. In such cases, you may specify `%` as
    part of the host address as a wildcard. For example, `192.168.0.%` would specify
    the entire `192.168.0.1/24` subnet and `%.example.com` would specify all hosts
    within a domain.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 不幸的是，这意味着如果一个用户需要从多个主机访问，就必须创建多个账户，或者更糟的是，如果用户的位置在网络中变化。在这种情况下，你可以指定`%`作为主机地址的一部分，作为通配符。例如，`192.168.0.%`将指定整个`192.168.0.1/24`子网，而`%.example.com`将指定一个域内的所有主机。
- en: If the location of your users cannot be narrowed down to a network or range
    of IP addresses, you should consider using SSH tunnels instead of opening access
    to your database server from the entire Internet. See the *Accessing your MySQL
    server over an SSH tunnel* recipe in this chapter for more information.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 如果用户的来源位置无法缩小到某个网络或IP地址范围，建议使用 SSH 隧道，而不是让数据库服务器对整个互联网开放访问权限。有关更多信息，请参考本章中的*通过
    SSH 隧道访问 MySQL 服务器*。
- en: Getting ready
  id: totrans-206
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: You should remove MySQL's anonymous accounts unless you have a particular reason
    to use them. Anonymous accounts are created by default for testing purposes, but
    they may cause difficulties in debugging problems with user privileges.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 除非你有特别的理由使用它们，否则应该移除 MySQL 的匿名账户。匿名账户是默认为测试目的创建的，但它们可能会在调试用户权限问题时造成困难。
- en: 'Let''s say, for example, that you have a user account with access from any
    location: `''user''@''%''`, but you also have an anonymous account with access
    from the local host `@''localhost''`. If you try to connect as `user` from the
    local host, MySQL will first check the privileges entry that specifies the incoming
    connection''s host more precisely (`@''localhost''` is more specific then `@''%''`).
    This will cause `user` to be assigned privileges of the anonymous account rather
    than the expected `''user''@''%''` account. You can check what user you are connected
    as by issuing the following MySQL command:'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 假设，举个例子，你有一个可以从任何地方访问的用户账户：`'user'@'%'`，但你同时也有一个可以从本地主机访问的匿名账户`@'localhost'`。如果你尝试从本地主机以`user`身份连接，MySQL
    将首先检查一个更精确地指定入站连接主机的权限条目（`@'localhost'`比`@'%'`更具体）。这会导致`user`被赋予匿名账户的权限，而不是预期的`'user'@'%'`账户。你可以通过执行以下
    MySQL 命令来检查你当前以哪个用户身份连接：
- en: '[PRE11]'
  id: totrans-209
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'You will get the following output:'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 你将看到如下输出：
- en: '[PRE12]'
  id: totrans-211
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'The output shows that we are being treated as an anonymous user `@''localhost''`.
    The solution to this situation is to add a second account for `user` as `''user''@''localhost''`.
    Then, when we log in again, we will see the following output of the same command:'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 输出显示我们被视为匿名用户`@'localhost'`。解决这个问题的方法是为`user`添加一个新的账户`'user'@'localhost'`。然后，当我们重新登录时，我们将看到同一命令的以下输出：
- en: '[PRE13]'
  id: totrans-213
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: If you don't need them for any specific purpose, it's safer and more convenient
    to remove anonymous accounts altogether.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你没有特别的需求，最好是完全删除匿名账户，这样更安全也更方便。
- en: How to do it...
  id: totrans-215
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: In this recipe, we will create a user named `dbuser` with access from the local
    machine to the database `testdb`. The user will have to authenticate using a strong
    password. Prepare the username, database name, and password for your particular
    case.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将创建一个名为`dbuser`的用户，并允许该用户从本地机器访问`testdb`数据库。用户必须使用强密码进行身份验证。请根据你的实际情况准备好用户名、数据库名和密码。
- en: Creating a user account
  id: totrans-217
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 创建用户账户
- en: 'In order to create a user account, perform the following steps:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建一个用户账户，请执行以下步骤：
- en: Navigate to **Servers** | **MySQL Database Server** | **User Permissions**.
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 进入**服务器** | **MySQL 数据库服务器** | **用户权限**。
- en: Click the **Create new user** link.
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建新用户**链接。
- en: Set **Username** to `dbuser`.
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**用户名**设置为`dbuser`。
- en: Set **Password** to a strong password.
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**密码**设置为强密码。
- en: Set **Hosts** to `localhost`.
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**主机**设置为`localhost`。
- en: In the **Permissions** list, do not select any permissions.
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**权限**列表中，不要选择任何权限。
- en: Note
  id: totrans-225
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: We do not need to grant any global permission to the account, as the user will
    have access limited to a specific database.
  id: totrans-226
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们不需要授予该账户任何全局权限，因为该用户的访问权限仅限于特定的数据库。
- en: Click the **Create** button.
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建**按钮。
- en: Granting privileges
  id: totrans-228
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 授予权限
- en: 'In order to grant privileges, perform the following steps:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 要授予权限，请执行以下步骤：
- en: Navigate to **Servers** | **MySQL Database Server** | **Database Permissions**.
  id: totrans-230
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 进入**服务器** | **MySQL 数据库服务器** | **数据库权限**。
- en: Click the **Create new database permissions** link.
  id: totrans-231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建新数据库权限**链接。
- en: Set **Databases** to **Selected** and choose **testdb** from the list.
  id: totrans-232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**数据库**设置为**已选择**，然后从列表中选择**testdb**。
- en: Set **Username** to `dbuser`.
  id: totrans-233
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**用户名**设置为`dbuser`。
- en: Set **Hosts** to `localhost`.
  id: totrans-234
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**主机**设置为`localhost`。
- en: In the **Permissions** list, select all permissions as shown in the following
    screenshot:![Granting privileges](img/5849_09_03.jpg)
  id: totrans-235
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**权限**列表中，选择所有权限，如下截图所示：![授予权限](img/5849_09_03.jpg)
- en: Click the **Create** button.
  id: totrans-236
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建**按钮。
- en: The created account and privileges will allow `dbuser` to connect to and have
    full control over the `testdb` database when connecting to the local MySQL server.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 创建的账户和权限将允许`dbuser`连接并完全控制`testdb`数据库，当其连接到本地MySQL服务器时。
- en: Tip
  id: totrans-238
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: The MySQL server will use accounts associated with the `localhost` when a client
    connects from the local machine, regardless of whether the connection is made
    over a socket or TCP. However, if you create an account associated with `127.0.0.1`,
    it will be used when connecting over TCP, but not when connecting on a socket.
    When connecting over TCP using IPv6, a third option comes into play, namely the
    IPv6 address of the local machine `::1`. It's best to set up accounts for `localhost`
    to avoid this confusion.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 当客户端从本地计算机连接时，MySQL服务器将使用与`localhost`关联的账户，无论连接是通过套接字还是TCP建立。然而，如果您创建了一个与`127.0.0.1`关联的账户，它将在通过TCP连接时使用，但在通过套接字连接时不会使用。当通过IPv6使用TCP连接时，还会使用本地计算机的IPv6地址`::1`。最好为`localhost`设置账户，以避免这种混淆。
- en: How it works...
  id: totrans-240
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: Webmin creates accounts and grants privileges by manipulating the `mysql` database
    directly. In particular, it adds a row to the `user` and `db` tables and then
    executes the `FLUSH PRIVILEGES` command.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: Webmin通过直接操作`mysql`数据库来创建账户并授予权限。具体来说，它向`user`和`db`表添加一行，然后执行`FLUSH PRIVILEGES`命令。
- en: If you wanted to perform the same operations manually, you could connect to
    the MySQL server using its command-line client and issue the following commands.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想手动执行相同的操作，您可以使用MySQL命令行客户端连接到MySQL服务器并发出以下命令。
- en: 'First connect to the local database server as root:'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 首先以root身份连接到本地数据库服务器：
- en: '[PRE14]'
  id: totrans-244
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Next issue the MySQL commands:'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，发出MySQL命令：
- en: '[PRE15]'
  id: totrans-246
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: The first command creates a user named `dbuser`, the second gives this user
    complete access to the `testdb` database. The final command forces your MySQL
    server to reload information about users and privileges so that the new user can
    connect.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个命令创建了一个名为`dbuser`的用户，第二个命令授予该用户对`testdb`数据库的完全访问权限。最后一个命令强制MySQL服务器重新加载关于用户和权限的信息，以便新用户能够连接。
- en: There's more...
  id: totrans-248
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: Webmin allows you to specify more granular access permissions—at the level of
    a database table or even a specific column within a database table. It also allows
    you to automatically create MySQL accounts for the new system users that are created
    via Webmin.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: Webmin允许您指定更细粒度的访问权限——可以在数据库表级别，甚至是数据库表中的特定列级别。它还允许您为通过Webmin创建的新系统用户自动创建MySQL账户。
- en: Granting permissions to a specific database table
  id: totrans-250
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 授予特定数据库表的权限
- en: 'In order to grant permissions to a specific database table, perform the following
    steps:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 为了授予特定数据库表的权限，请执行以下步骤：
- en: Navigate to **Servers** | **MySQL Database Server** | **Table Permissions**.
  id: totrans-252
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到**服务器** | **MySQL数据库服务器** | **表权限**。
- en: Select a database from the list and click the **Add new permissions in database**
    button.
  id: totrans-253
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从列表中选择一个数据库并点击**在数据库中添加新权限**按钮。
- en: Select a database **Table** from the list.
  id: totrans-254
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从列表中选择一个数据库**表**。
- en: Set **Username** to the name of a previously defined MySQL user.
  id: totrans-255
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**用户名**设置为之前定义的MySQL用户的名称。
- en: Set **Host** to the name of the host associated with the user account.
  id: totrans-256
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**Host**设置为与用户账户关联的主机名。
- en: Select the permissions you wish to grant from the **Table permissions** and
    **Field permissions** lists as shown in the following screenshot:![Granting permissions
    to a specific database table](img/5849_08_18.jpg)
  id: totrans-257
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**表权限**和**字段权限**列表中选择您希望授予的权限，如下图所示：![授予特定数据库表的权限](img/5849_08_18.jpg)
- en: Click the **Create** button.
  id: totrans-258
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建**按钮。
- en: Granting permissions to a specific column in a database table
  id: totrans-259
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 授予特定数据库表中某一列的权限
- en: 'To grant permissions to a specific column in a database table, perform the
    following steps:'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 要授予特定数据库表中某一列的权限，请执行以下步骤：
- en: Navigate to **Servers** | **MySQL Database Server** | **Field Permissions**.
  id: totrans-261
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到**服务器** | **MySQL数据库服务器** | **字段权限**。
- en: Select a database and table from the list and click the **Add new permissions
    in database and table** button.
  id: totrans-262
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从列表中选择一个数据库和表，并点击**在数据库和表中添加新权限**按钮。
- en: Select a database table **Field** from the list.
  id: totrans-263
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从列表中选择一个数据库表的**字段**。
- en: Set **Username** to the name of a previously defined MySQL user.
  id: totrans-264
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**用户名**设置为之前定义的MySQL用户的名称。
- en: Set **Host** to the name of the host associated with the user account.
  id: totrans-265
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**Host**设置为与用户账户关联的主机名。
- en: Select the permissions you wish to grant from the **Permissions** list.
  id: totrans-266
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**权限**列表中选择您希望授予的权限。
- en: Click the **Create** button.
  id: totrans-267
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建**按钮。
- en: Automatically granting new system users access to MySQL
  id: totrans-268
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 自动授予新系统用户MySQL访问权限
- en: 'To automatically grant all system users access to MySQL, perform the following
    steps:'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 要自动授予所有系统用户MySQL访问权限，请执行以下步骤：
- en: Navigate to **Servers** | **MySQL Database Server** | **User Permissions**.
  id: totrans-270
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到**服务器** | **MySQL数据库服务器** | **用户权限**。
- en: Select all three checkboxes in the **When to synchronize** section.
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**何时同步**部分选择所有三个复选框。
- en: Select permissions in the **Permissions for new users** list. For instance,
    if you want every user of your system to be a MySQL administrator, select all
    permissions. Use this with caution.
  id: totrans-272
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**新用户的权限**列表中选择权限。例如，如果你希望系统的每个用户都是MySQL管理员，则选择所有权限。请谨慎使用此选项。
- en: Set **Create new users with hosts** to **Specific host** and enter `localhost`.![Automatically
    granting new system users access to MySQL](img/5849_09_04.jpg)
  id: totrans-273
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**创建具有主机的用户**设置为**特定主机**，并输入`localhost`。![自动授予新系统用户MySQL访问权限](img/5849_09_04.jpg)
- en: Click the **Save** button.
  id: totrans-274
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存**按钮。
- en: From now on, every new user account created through Webmin will automatically
    receive a corresponding MySQL account with the same password as the system password.
    Passwords will be updated if changed through Webmin, and the MySQL account will
    be deleted if the corresponding system account is also deleted through Webmin.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 从现在开始，通过Webmin创建的每个新用户账户将自动获得一个与系统密码相同的MySQL账户。如果通过Webmin更改了密码，则MySQL账户将更新；如果通过Webmin删除了对应的系统账户，则MySQL账户也将被删除。
- en: Creating a backup of your database
  id: totrans-276
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建数据库备份
- en: Webmin can help you make backups of your MySQL databases. With just a few clicks,
    you can make a backup of any database. Webmin can also help you set up cron jobs
    to create backups automatically on a regular schedule.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: Webmin可以帮助你备份MySQL数据库。只需点击几下，你就可以备份任何数据库。Webmin还可以帮助你设置定时任务，定期自动创建备份。
- en: Getting ready
  id: totrans-278
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Before starting, create a directory to store local backup files. You can keep
    these files in `/backups` in the root directory `/root/backups`, or in any location
    that you find convenient.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始之前，创建一个目录来存储本地备份文件。你可以将这些文件保存在根目录`/root/backups`下的`/backups`，或者存放在任何方便的位置。
- en: Tip
  id: totrans-280
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: 'Backup files created by Webmin will be readable by all users of your system.
    This may be a security risk, since database backups often contain sensitive data
    such as hashed user passwords. You should remove all permissions on the backups
    directory for users outside of root''s group. You can do that by issuing the following
    command:'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: Webmin创建的备份文件对所有系统用户可读。这可能带来安全风险，因为数据库备份通常包含敏感数据，如散列的用户密码。你应该删除备份目录中除root组之外用户的所有权限。你可以通过以下命令来完成：
- en: '[PRE16]'
  id: totrans-282
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'If your file system supports access control lists, you can additionally set
    the default mask for newly created files in this directory in such a way that
    they are not readable by users outside of the group. You can set the default ACL
    for `/backups` by issuing the following command:'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的文件系统支持访问控制列表，你还可以为该目录中新创建的文件设置默认的掩码，使得这些文件无法被组外的用户读取。你可以通过以下命令设置`/backups`的默认ACL：
- en: '[PRE17]'
  id: totrans-284
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: Take a look at the *Changing file ownership and permissions* recipe in [Chapter
    6](ch06.html "Chapter 6. Managing Files on Your System"), *Managing Files on Your
    System* , for more information.
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 查看[第6章](ch06.html "第6章 管理系统文件")中的*更改文件所有权和权限*部分，了解更多信息。
- en: How to do it...
  id: totrans-286
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 操作步骤...
- en: 'Follow these steps to create a database backup:'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤创建数据库备份：
- en: Navigate to **Servers** | **MySQL Database Server**.
  id: totrans-288
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到**服务器** | **MySQL数据库服务器**。
- en: Click the icon that represents the database you would like to back up.
  id: totrans-289
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击表示你想要备份的数据库的图标。
- en: Click the **Backup Database** button.
  id: totrans-290
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**备份数据库**按钮。
- en: Set **Backup to file** to a path such as `/backups/database-name.sql.bz2`.
  id: totrans-291
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**备份到文件**设置为路径，例如`/backups/database-name.sql.bz2`。
- en: Set **Tables to backup** to **All tables**.
  id: totrans-292
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**备份的表**设置为**所有表**。
- en: Open the **Other backup options** section.
  id: totrans-293
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开**其他备份选项**部分。
- en: Set **Add drop table statements to backup?** to **Yes**.
  id: totrans-294
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**是否将删除表语句添加到备份？**设置为**是**。
- en: Note
  id: totrans-295
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: This helps you import the created backup into an existing database. Tables with
    the same names will be deleted (dropped) before importing the ones stored in the
    backup.
  id: totrans-296
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这有助于将创建的备份导入现有数据库。具有相同名称的表会在导入备份中的表之前被删除（丢弃）。
- en: Set **Character set for backup** to **UTF-8 Unicode**.
  id: totrans-297
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**备份的字符集**设置为**UTF-8 Unicode**。
- en: Choose **Compression format** to **Bzip2**.
  id: totrans-298
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**压缩格式**为**Bzip2**。
- en: Note
  id: totrans-299
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Bzip2 gives really good compression for text such as SQL command files.
  id: totrans-300
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: Bzip2 对于文本类型文件（如 SQL 命令文件）提供了非常好的压缩效果。
- en: Click the **Backup Now** button.
  id: totrans-301
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**立即备份**按钮。
- en: How it works...
  id: totrans-302
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: 'Webmin executes the `mysqldump` command to output a series of SQL commands
    that would be needed to create the entire database. The database "dump" is then
    piped through the bzip2 compression algorithm and saved to an output file. If
    you wanted to do the same kind of backup in the terminal, you could run a command
    similar to the following (make sure you set the `mysqldump` options correctly):'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: Webmin 执行 `mysqldump` 命令，输出一系列创建整个数据库所需的 SQL 命令。然后将数据库“转储”通过 bzip2 压缩算法进行压缩并保存到输出文件中。如果你想在终端中执行相同的备份操作，可以运行类似以下的命令（确保正确设置
    `mysqldump` 选项）：
- en: '[PRE18]'
  id: totrans-304
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: There's more...
  id: totrans-305
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多内容...
- en: Webmin is quite a capable tool for making backups. Here are a few other, easily
    accessible functions.
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: Webmin 是一个非常强大的备份工具。以下是一些其他易于访问的功能。
- en: Backing up all databases automatically
  id: totrans-307
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 自动备份所有数据库
- en: 'Webmin can help you make an automated backup of some or all databases hosted
    by your server. These backups will be executed on a regular schedule by cron.
    For more information about scheduling commands take a look at the *Scheduling
    a command to run regularly with cron* recipe in [Chapter 4](ch04.html "Chapter 4. Controlling
    Your System"), *Controlling Your System*. In order to back up all databases automatically,
    perform the following steps:'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: Webmin 可以帮助你自动备份服务器托管的部分或所有数据库。这些备份将通过 cron 定期执行。有关调度命令的更多信息，请查看 [第4章](ch04.html
    "第4章. 控制你的系统")中的*使用 cron 定期调度命令*。为了自动备份所有数据库，请执行以下步骤：
- en: Navigate to **Servers** | **MySQL Database Server**.
  id: totrans-309
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 进入**服务器** | **MySQL 数据库服务器**。
- en: Click the **Backup Databases** button.
  id: totrans-310
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**备份数据库**按钮。
- en: Set **Backup to directory** to the location of your backup directory, for instance,
    `/backups`.
  id: totrans-311
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**备份到目录**设置为备份目录的位置，例如`/backups`。
- en: Open the **Other backup options** section.
  id: totrans-312
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开**其他备份选项**部分。
- en: Set **Add drop table statements to backup?** to **Yes**.
  id: totrans-313
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**备份中是否添加删除表语句？**设置为**是**。
- en: Set **Character set for backup** to **UTF-8 Unicode**.
  id: totrans-314
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**备份的字符集**设置为**UTF-8 Unicode**。
- en: Set **Compression format** to **Bzip2**.
  id: totrans-315
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**压缩格式**设置为**Bzip2**。
- en: Open the **Backup schedule** section.
  id: totrans-316
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开**备份计划**部分。
- en: Set **Send backup status email to** to your e-mail address.
  id: totrans-317
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**发送备份状态邮件到**设置为你的电子邮件地址。
- en: Set **Scheduled backup enabled?** to **Yes, at times chosen below**, set **Simple
    schedule** and select **Daily (at midnight)**.
  id: totrans-318
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**启用计划备份？**设置为**是，按以下选定的时间**，设置**简单计划**并选择**每日（午夜时分）**。
- en: Note
  id: totrans-319
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Note that many things may be scheduled to start at midnight on your system,
    so you can choose another time if your system resources are limited. Choose a
    more complex schedule by marking the minutes, hours, and days of the month at
    which the job is to be performed.
  id: totrans-320
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 请注意，许多任务可能会安排在系统的午夜时分启动，如果系统资源有限，你可以选择其他时间。通过标记分钟、小时和月份的日期来选择一个更复杂的计划。
- en: Click the **Save** button.
  id: totrans-321
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存**按钮。
- en: Exporting a database table to CSV
  id: totrans-322
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 将数据库表导出为 CSV
- en: 'Webmin can export a single table of your database into a **comma-separated-values**
    (**CSV**) file that can be opened by spreadsheet programs, such as Excel, Calc,
    or Gnumeric. To export a database table to CSV, perform the following steps:'
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: Webmin 可以将数据库中的单个表导出为**逗号分隔值**（**CSV**）文件，任何电子表格程序，如 Excel、Calc 或 Gnumeric，都可以打开该文件。要将数据库表导出为
    CSV，请执行以下步骤：
- en: Navigate to **Servers** | **MySQL Database Server**.
  id: totrans-324
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 进入**服务器** | **MySQL 数据库服务器**。
- en: Click the icon of the database, which contains the table.
  id: totrans-325
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击包含该表的数据库的图标。
- en: Click the icon of the table you would like to export.
  id: totrans-326
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击你想要导出的表的图标。
- en: Click the **Export to CSV** button.
  id: totrans-327
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**导出到 CSV**按钮。
- en: Set **File format** to **CSV with quotes**.
  id: totrans-328
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**文件格式**设置为**带引号的 CSV**。
- en: Set **Include column names in CSV?** to **Yes**.
  id: totrans-329
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**是否包含列名？**设置为**是**。
- en: Set **Export destination** to **Display in browser**.
  id: totrans-330
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**导出目的地**设置为**在浏览器中显示**。
- en: Click the **Export Now** button.
  id: totrans-331
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**立即导出**按钮。
- en: See also
  id: totrans-332
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参见
- en: You can easily perform backups to a remote host by using a network file sharing
    protocol such as NFS or CIFS. You start by creating a network volume on the remote
    server, and then mount the volume on your server. You can then back up to directories
    on the remote system just as easily as if they were stored locally. Take a look
    at [Chapter 6](ch06.html "Chapter 6. Managing Files on Your System"), *Managing
    Files on Your System*, for instructions on the setting up of network file sharing
    using NFS or CIFS.
  id: totrans-333
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可以通过使用网络文件共享协议（如 NFS 或 CIFS）轻松地将备份文件传输到远程主机。首先在远程服务器上创建一个网络卷，然后将该卷挂载到你的服务器上。接着，你就可以像本地存储文件一样，轻松地将文件备份到远程系统的目录中。请参阅
    [第 6 章](ch06.html "第 6 章：管理系统中的文件")，*管理系统中的文件*，获取使用 NFS 或 CIFS 设置网络文件共享的说明。
- en: Another way to store spare copies of your databases remotely is to send your
    backup directory to a remote server using the SSH protocol. Take a look at the
    *Backing up to a remote host* recipe in [Chapter 7](ch07.html "Chapter 7. Backing
    Up Your System"), *Backing Up Your System*, for more information.
  id: totrans-334
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 另一种将数据库备份副本存储到远程的方式是使用 SSH 协议将备份目录发送到远程服务器。请查看 [第 7 章](ch07.html "第 7 章：系统备份")，*系统备份*，中的
    *备份到远程主机*，了解更多信息。
- en: Executing custom SQL commands
  id: totrans-335
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 执行自定义 SQL 命令
- en: Webmin provides a simple interface to your MySQL database server that allows
    you to execute arbitrary SQL commands. This can be a useful feature when you want
    to quickly find something in a database or perform a bulk update of multiple rows
    of data.
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: Webmin 提供了一个简洁的界面，用于访问你的 MySQL 数据库服务器，让你能够执行任意 SQL 命令。这是一个非常有用的功能，尤其在你想快速查找数据库中的某些内容或对多个数据行进行批量更新时。
- en: How to do it...
  id: totrans-337
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Follow these steps to execute an SQL command on your database:'
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤在数据库上执行 SQL 命令：
- en: Navigate to **Servers** | **MySQL Database Server**.
  id: totrans-339
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到 **服务器** | **MySQL 数据库服务器**。
- en: Click the icon that represents the database you would like to use, for instance,
    `mysql`.
  id: totrans-340
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击代表你想要使用的数据库的图标，例如 `mysql`。
- en: Click the **Execute SQL** button.
  id: totrans-341
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **执行 SQL** 按钮。
- en: 'Enter an SQL command in the text area, for instance:'
  id: totrans-342
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在文本区域输入 SQL 命令，例如：
- en: '[PRE19]'
  id: totrans-343
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: '![How to do it...](img/5849_09_07.jpg)'
  id: totrans-344
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何操作...](img/5849_09_07.jpg)'
- en: Click the **Execute** button.
  id: totrans-345
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **执行** 按钮。
- en: You will be presented with a sortable display of data returned by the `SELECT`
    command.
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: 系统会显示通过 `SELECT` 命令返回的数据，并且可以排序。
- en: How it works...
  id: totrans-347
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: Webmin simply passes the SQL command to the database server. If the command
    returns an error, it will be displayed on screen. If the command returns rows
    of data, Webmin will convert them into an HTML page and display them on screen.
    Please note that Webmin is running as the root user, so caution should be used
    when executing commands.
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: Webmin 会将 SQL 命令传递给数据库服务器。如果命令返回错误，它会在屏幕上显示。如果命令返回数据行，Webmin 会将其转换为 HTML 页面并显示在屏幕上。请注意，Webmin
    是以 root 用户身份运行的，因此在执行命令时需要小心。
- en: See also
  id: totrans-349
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另见
- en: Webmin can also help you to execute an entire SQL script saved in a file. See
    the *Restoring database from the backup* recipe of this chapter for more information.
  id: totrans-350
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Webmin 还可以帮助你执行保存于文件中的完整 SQL 脚本。有关更多信息，请参阅本章中的 *从备份中恢复数据库*。
- en: You can save commands you execute often in an easy-to-use control panel in Webmin.
    Take a look at the *Creating a panel with the database commands that you execute
    often* recipe in [Chapter 4](ch04.html "Chapter 4. Controlling Your System"),
    *Controlling Your System*, for more information.
  id: totrans-351
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可以将常用的命令保存在 Webmin 的一个易于使用的控制面板中。有关更多信息，请查看 [第 4 章](ch04.html "第 4 章：控制你的系统")，*控制你的系统*，中的
    *创建包含你常用的数据库命令的面板*。
- en: If you find that you need a more full-fledged, web-based MySQL management tool,
    consider installing phpMyAdmin. This is described in the *Installing phpMyAdmin*
    recipe in this chapter.
  id: totrans-352
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你发现需要一个更完整的、基于 Web 的 MySQL 管理工具，可以考虑安装 phpMyAdmin。本章的 *安装 phpMyAdmin* 说明了如何操作。
- en: Restoring database from the backup
  id: totrans-353
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从备份中恢复数据库
- en: Databases may be stored as text files that contain SQL instructions which rebuild
    them. If you have a SQL backup file, you can use Webmin to restore it.
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库可能被存储为包含 SQL 指令的文本文件，这些指令可以重建数据库。如果你有一个 SQL 备份文件，可以使用 Webmin 恢复它。
- en: Getting ready
  id: totrans-355
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Large backups should be uploaded to the server before being executed. If your
    backup file is large, upload it to the server and note its location. Take a look
    at the *Uploading files to the server* recipe in [Chapter 6](ch06.html "Chapter 6. Managing
    Files on Your System"), *Managing Files on Your System*, for more information.
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: 大型备份应在执行之前上传到服务器。如果您的备份文件很大，请将其上传到服务器并记录其位置。有关更多信息，请参阅 [第6章](ch06.html "第6章。在您的系统上管理文件")
    *在您的系统上管理文件* 中的 *将文件上传到服务器* 部分。
- en: We will restore the backup to an existing database. If you haven't created the
    database yet, follow instructions in the *Creating a new database* recipe before
    starting.
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将把备份还原到现有数据库中。如果您还没有创建数据库，请先按照 *创建新数据库* 部分的说明进行操作。
- en: How to do it...
  id: totrans-358
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 怎么做……
- en: 'Follow these steps to restore a database from backup or execute a SQL script
    saved in a file:'
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤从备份中还原数据库或执行保存在文件中的SQL脚本：
- en: Navigate to **Servers** | **MySQL Database Server**.
  id: totrans-360
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到 **服务器** | **MySQL 数据库服务器**。
- en: Click the icon that represents the database you would like to restore the backup
    to.
  id: totrans-361
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击代表您要还原备份的数据库的图标。
- en: Click the **Execute SQL** button.
  id: totrans-362
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击 **执行 SQL** 按钮。
- en: Select the **Run SQL from file** tab.
  id: totrans-363
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 **从文件运行SQL** 选项卡。
- en: If you have uploaded the file onto the server, select **From local file** and
    enter the file's location in the text box. Otherwise, select **From uploaded file**
    and choose a file from your disk.
  id: totrans-364
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您已将文件上传到服务器，请选择 **从本地文件** 并在文本框中输入文件的位置。否则，请选择 **从已上传文件** 并从磁盘选择一个文件。
- en: Tip
  id: totrans-365
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: Webmin can handle SQL files that are compressed using gzip or bzip2.
  id: totrans-366
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: Webmin可以处理使用gzip或bzip2压缩的SQL文件。
- en: Click the **Execute** button.
  id: totrans-367
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击 **执行** 按钮。
- en: How it works...
  id: totrans-368
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 怎么工作……
- en: Webmin pipes the entire SQL instructions file into the MySQL server. The server
    executes every instruction stored in the file, rebuilding the database line by
    line.
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: Webmin将整个SQL指令文件传送到MySQL服务器。服务器逐行执行文件中存储的每个指令，逐行重建数据库。
- en: 'If you wanted to perform the same task in the terminal, you could use the following
    command:'
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想在终端中执行相同的任务，可以使用以下命令：
- en: '[PRE20]'
  id: totrans-371
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: There's more...
  id: totrans-372
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多内容……
- en: Webmin can import a single table into your database from a CSV file that can
    be created by a spreadsheet program such as Excel, Calc, or Gnumeric.
  id: totrans-373
  prefs: []
  type: TYPE_NORMAL
  zh: Webmin可以从诸如Excel、Calc或Gnumeric之类的电子表格程序创建的CSV文件中导入单个表到您的数据库中。
- en: 'Follow these steps to import a CSV file:'
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤导入CSV文件：
- en: Navigate to **Servers** | **MySQL Database Server**.
  id: totrans-375
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到 **服务器** | **MySQL 数据库服务器**。
- en: Click the icon that represents the database to which you would like to restore
    the backup.
  id: totrans-376
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击代表您要还原备份的数据库的图标。
- en: Click the **Execute SQL** button.
  id: totrans-377
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击 **执行 SQL** 按钮。
- en: Select the **Import text file** tab.
  id: totrans-378
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 **导入文本文件** 选项卡。
- en: If you have uploaded the file onto the server, select **From local file** and
    enter the file's location in the text box. Otherwise, select **From uploaded file**
    and choose a file from your disk.
  id: totrans-379
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您已将文件上传到服务器，请选择 **从本地文件** 并在文本框中输入文件的位置。否则，请选择 **从已上传文件** 并从磁盘选择一个文件。
- en: Select a table from the **Table to import data into** dropdown.
  id: totrans-380
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 **要导入数据的表** 下拉列表中选择一个表。
- en: Set **Character set** to **utf8 (UTF-8 Unicode)**.
  id: totrans-381
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 **字符集** 设置为 **utf8 (UTF-8 Unicode)**。
- en: Click the **Execute** button.
  id: totrans-382
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击 **执行** 按钮。
- en: You will be presented with an information screen that describes how many rows
    were successfully imported or what errors were encountered.
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: 您将看到一个信息屏幕，描述成功导入多少行或遇到了哪些错误。
- en: Editing the structure of your database
  id: totrans-384
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 编辑数据库结构
- en: 'Webmin allows you to quickly modify the structure of tables in your MySQL database
    through an easy-to-use interface. In this recipe, we will demonstrate how to perform
    the following list of tasks:'
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: Webmin允许您通过易于使用的界面快速修改MySQL数据库中表的结构。在本示例中，我们将演示如何执行以下任务列表：
- en: Create a table in a database
  id: totrans-386
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在数据库中创建表
- en: Add a column to a database table
  id: totrans-387
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 向数据库表添加列
- en: Edit a column
  id: totrans-388
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编辑列
- en: Create an index
  id: totrans-389
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建索引
- en: Delete an index
  id: totrans-390
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 删除索引
- en: Delete a column
  id: totrans-391
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 删除列
- en: Delete a table from the database
  id: totrans-392
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 删除数据库中的表
- en: Getting ready
  id: totrans-393
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: For demonstration purposes, we will be using a database called `testdb`. You
    can create a database with this name through Webmin by following the steps described
    in the *Creating a new database* recipe of this chapter.
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
  zh: 为了演示目的，我们将使用一个名为 `testdb` 的数据库。您可以按照本章节 *创建新数据库* 部分的步骤通过Webmin创建一个带有此名称的数据库。
- en: How to do it...
  id: totrans-395
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 怎么做……
- en: In the `testdb` database, we'll create a table called `people` and add a column
    called `name` to the table. We'll then change the width of the field, turn it
    into a unique index, and finally delete the index, field, and table from the database.
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: 在`testdb`数据库中，我们将创建一个名为`people`的表，并向该表添加一个名为`name`的列。然后，我们将更改该字段的宽度，将其设置为唯一索引，最后从数据库中删除索引、字段和表。
- en: Creating a table in a database
  id: totrans-397
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 在数据库中创建表
- en: 'To create a table in a database, perform the following steps:'
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: 为了在数据库中创建表，执行以下步骤：
- en: Navigate to **Servers** | **MySQL Database Server**.
  id: totrans-399
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到**服务器** | **MySQL数据库服务器**。
- en: Click the icon that represents the `testdb` database.
  id: totrans-400
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击表示`testdb`数据库的图标。
- en: Click the **Create a new table** button.
  id: totrans-401
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建新表**按钮。
- en: Specify `people` as **Table name**.
  id: totrans-402
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`people`指定为**表名**。
- en: Set **Type of table** to **myisam**.
  id: totrans-403
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**表类型**设置为**myisam**。
- en: Note
  id: totrans-404
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: 'The table type option specifies which storage engine is used by this table.
    This determines what features are available for your table, for instance **myisam**
    allows for full-text search indexes, while **innodb** supports transactions. You
    can find more information on storage engines in MySQL''s manual:'
  id: totrans-405
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 表类型选项指定该表使用的存储引擎。这决定了表的可用特性，例如**myisam**允许全文搜索索引，而**innodb**支持事务。您可以在MySQL手册中找到有关存储引擎的更多信息：
- en: '[http://dev.mysql.com/doc/refman/5.6/en/storage-engines.html](http://dev.mysql.com/doc/refman/5.6/en/storage-engines.html)'
  id: totrans-406
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[http://dev.mysql.com/doc/refman/5.6/en/storage-engines.html](http://dev.mysql.com/doc/refman/5.6/en/storage-engines.html)'
- en: 'Provide the definition of one field that will be the primary key for this table.
    Fill in the following field definitions:'
  id: totrans-407
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提供将作为此表主键的字段定义。填写以下字段定义：
- en: '**Field name**: `id`'
  id: totrans-408
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**字段名**：`id`'
- en: '**Data type**: **int**'
  id: totrans-409
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据类型**：**int**'
- en: '**Type width**: `11`'
  id: totrans-410
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**类型宽度**：`11`'
- en: '**Key**: **Yes**'
  id: totrans-411
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**键**：**是**'
- en: '**Auto increment**: **Yes**'
  id: totrans-412
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**自动递增**：**是**'
- en: '**Allow nulls**: **No**'
  id: totrans-413
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**允许空值**：**否**'
- en: '![Creating a table in a database](img/5849_09_05.jpg)'
  id: totrans-414
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![在数据库中创建表](img/5849_09_05.jpg)'
- en: Click the **Create** button.
  id: totrans-415
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建**按钮。
- en: Adding a field to a database table
  id: totrans-416
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 向数据库表中添加字段
- en: 'In order to add a field to the database table, perform the following steps:'
  id: totrans-417
  prefs: []
  type: TYPE_NORMAL
  zh: 为了向数据库表中添加字段，执行以下步骤：
- en: Navigate to **Servers** | **MySQL Database Server**.
  id: totrans-418
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到**服务器** | **MySQL数据库服务器**。
- en: Click the icon that represents the `testdb` database.
  id: totrans-419
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击表示`testdb`数据库的图标。
- en: Click the icon that represents the `people` table.
  id: totrans-420
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击表示`people`表的图标。
- en: Select `varchar` from the types drop-down menu and click the **Add field of
    type** button.
  id: totrans-421
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从类型下拉菜单中选择`varchar`并点击**添加字段类型**按钮。
- en: 'Fill in the following field definitions:'
  id: totrans-422
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 填写以下字段定义：
- en: '**Field name**: `name`'
  id: totrans-423
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**字段名**：`name`'
- en: '**Type width**: `80`'
  id: totrans-424
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**类型宽度**：`80`'
- en: '**Type options**: **Case insensitive**'
  id: totrans-425
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**类型选项**：**不区分大小写**'
- en: '**Allow nulls**: **Yes**'
  id: totrans-426
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**允许空值**：**是**'
- en: '**Default value**: **NULL**'
  id: totrans-427
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**默认值**：**NULL**'
- en: '**Part of primary key?**: **No**'
  id: totrans-428
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**是主键的一部分吗？**：**否**'
- en: Click the **Create** button.
  id: totrans-429
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建**按钮。
- en: Editing a field
  id: totrans-430
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 编辑字段
- en: 'To edit a field, perform the following steps:'
  id: totrans-431
  prefs: []
  type: TYPE_NORMAL
  zh: 要编辑字段，执行以下步骤：
- en: Navigate to **Servers** | **MySQL Database Server**.
  id: totrans-432
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到**服务器** | **MySQL数据库服务器**。
- en: Click the icon that represents the `testdb` database.
  id: totrans-433
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击表示`testdb`数据库的图标。
- en: Click the icon that represents the `people` table.
  id: totrans-434
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击表示`people`表的图标。
- en: Click the link for field `name`.
  id: totrans-435
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击字段`name`的链接。
- en: Set **Type width** to `128`.
  id: totrans-436
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**类型宽度**设置为`128`。
- en: Click the **Save** button.
  id: totrans-437
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存**按钮。
- en: Creating an index
  id: totrans-438
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 创建索引
- en: 'To create an index, perform the following steps:'
  id: totrans-439
  prefs: []
  type: TYPE_NORMAL
  zh: 为了创建索引，执行以下步骤：
- en: Navigate to **Servers** | **MySQL Database Server**.
  id: totrans-440
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到**服务器** | **MySQL数据库服务器**。
- en: Click the icon that represents the `testdb` database.
  id: totrans-441
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击表示`testdb`数据库的图标。
- en: Click the icon that represents the `people` table.
  id: totrans-442
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击表示`people`表的图标。
- en: Click the **Create Index** button.
  id: totrans-443
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建索引**按钮。
- en: Set **Index name** to `unique_name`.
  id: totrans-444
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**索引名称**设置为`unique_name`。
- en: Select the field `name` in the **Fields in index** list.
  id: totrans-445
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**索引中的字段**列表中选择字段`name`。
- en: Set **Index type** to **Unique**.
  id: totrans-446
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**索引类型**设置为**唯一**。
- en: Click the **Create** button.
  id: totrans-447
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建**按钮。
- en: Deleting an index
  id: totrans-448
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 删除索引
- en: 'To delete an index, perform the following steps:'
  id: totrans-449
  prefs: []
  type: TYPE_NORMAL
  zh: 要删除索引，执行以下步骤：
- en: Navigate to **Servers** | **MySQL Database Server**.
  id: totrans-450
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到**服务器** | **MySQL数据库服务器**。
- en: Click the icon that represents the `testdb` database.
  id: totrans-451
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击表示`testdb`数据库的图标。
- en: Click the icon that represents the `unique_name` index.
  id: totrans-452
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击表示`unique_name`索引的图标。
- en: Click the **Delete** button.
  id: totrans-453
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**删除**按钮。
- en: Deleting a field
  id: totrans-454
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 删除字段
- en: 'In order to delete a field, perform the following steps:'
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: 为了删除字段，执行以下步骤：
- en: Navigate to **Servers** | **MySQL Database Server**.
  id: totrans-456
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到 **服务器** | **MySQL 数据库服务器**。
- en: Click the icon that represents the `testdb` database.
  id: totrans-457
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击代表 `testdb` 数据库的图标。
- en: Click the icon that represents the `people` table.
  id: totrans-458
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击代表 `people` 表的图标。
- en: Click the link for `name` field.
  id: totrans-459
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 `name` 字段的链接。
- en: Click the **Delete** button.
  id: totrans-460
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **删除** 按钮。
- en: Deleting a table from the database
  id: totrans-461
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 从数据库中删除表
- en: 'To delete a table from the database, perform the following steps:'
  id: totrans-462
  prefs: []
  type: TYPE_NORMAL
  zh: 要从数据库中删除一张表，请执行以下步骤：
- en: Navigate to **Servers** | **MySQL Database Server**.
  id: totrans-463
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到 **服务器** | **MySQL 数据库服务器**。
- en: Click the icon that represents the `testdb` database.
  id: totrans-464
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击代表 `testdb` 数据库的图标。
- en: Click the icon that represents the `people` table.
  id: totrans-465
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击代表 `people` 表的图标。
- en: Click the **Drop table** button and confirm on the screen that follows it.
  id: totrans-466
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **删除表** 按钮，并在随后的屏幕上确认。
- en: How it works...
  id: totrans-467
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: Webmin prepares the syntax for the appropriate `CREATE`, `DROP`, and `ALTER
    TABLE` SQL commands to perform all of the earlier mentioned actions, and then
    executes those commands on your MySQL server as the `root` user.
  id: totrans-468
  prefs: []
  type: TYPE_NORMAL
  zh: Webmin 为相应的 `CREATE`、`DROP` 和 `ALTER TABLE` SQL 命令准备语法，执行这些命令，并以 `root` 用户身份在
    MySQL 服务器上运行它们。
- en: See also
  id: totrans-469
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参见
- en: If you find that you need a more full-fledged, web-based MySQL management tool,
    consider installing phpMyAdmin. This is described in the *Installing phpMyAdmin*
    recipe
  id: totrans-470
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你发现需要一个更完整的基于网页的 MySQL 管理工具，可以考虑安装 phpMyAdmin。有关安装 phpMyAdmin 的详细信息，请参考 *安装
    phpMyAdmin* 这一教程。
- en: Editing records in a database
  id: totrans-471
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 编辑数据库中的记录
- en: Webmin allows you to quickly edit data in your MySQL database through a simple
    interface. In this recipe, we will demonstrate how to add, edit, and delete records
    in a database table.
  id: totrans-472
  prefs: []
  type: TYPE_NORMAL
  zh: Webmin 允许你通过简单的界面快速编辑 MySQL 数据库中的数据。在本教程中，我们将演示如何添加、编辑和删除数据库表中的记录。
- en: Getting ready
  id: totrans-473
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: In this recipe, we will use examples based on the `testdb` database created
    in the *Creating a new database* and *Editing the structure of your database*
    recipes of this chapter.
  id: totrans-474
  prefs: []
  type: TYPE_NORMAL
  zh: 在本教程中，我们将使用基于在 *创建新数据库* 和 *编辑数据库结构* 章节中创建的 `testdb` 数据库的示例。
- en: How to do it...
  id: totrans-475
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何执行...
- en: We'll add a record to the `people` table of the `testdb` database; we'll edit
    the same record, and finally delete it to show how to perform these actions in
    Webmin.
  id: totrans-476
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将向 `testdb` 数据库中的 `people` 表添加一条记录；然后编辑同一条记录，最后删除它，以展示如何在 Webmin 中执行这些操作。
- en: Adding a row to database table
  id: totrans-477
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 向数据库表添加一行
- en: 'In order to add a row to the database table, perfom the following steps:'
  id: totrans-478
  prefs: []
  type: TYPE_NORMAL
  zh: 要向数据库表中添加一行，请执行以下步骤：
- en: Navigate to **Servers** | **MySQL Database Server**.
  id: totrans-479
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到 **服务器** | **MySQL 数据库服务器**。
- en: Click the icon that represents the `testdb` database.
  id: totrans-480
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击代表 `testdb` 数据库的图标。
- en: Click the icon that represents the `people` table.
  id: totrans-481
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击代表 `people` 表的图标。
- en: Click the **View Data** button.
  id: totrans-482
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **查看数据** 按钮。
- en: Click the **Add row** button.
  id: totrans-483
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **添加行** 按钮。
- en: Fill in a name in the textbox.
  id: totrans-484
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在文本框中填写一个名字。
- en: Click the **Save** button.
  id: totrans-485
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **保存** 按钮。
- en: Editing a row
  id: totrans-486
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 编辑一行
- en: 'In order to edit a row, perform the following steps:'
  id: totrans-487
  prefs: []
  type: TYPE_NORMAL
  zh: 要编辑一行，请执行以下步骤：
- en: Navigate to **Servers** | **MySQL Database Server**.
  id: totrans-488
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到 **服务器** | **MySQL 数据库服务器**。
- en: Click the icon that represents the `testdb` database.
  id: totrans-489
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击代表 `testdb` 数据库的图标。
- en: Click the icon that represents the `people` table.
  id: totrans-490
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击代表 `people` 表的图标。
- en: Click the **View Data** button.
  id: totrans-491
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **查看数据** 按钮。
- en: Mark the checkbox next to the record you would like to edit.
  id: totrans-492
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 勾选你希望编辑的记录旁边的复选框。
- en: Click the **Edit selected rows** button.
  id: totrans-493
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **编辑选中的行** 按钮。
- en: Change the name value in the text box.
  id: totrans-494
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改文本框中的姓名值。
- en: Click the **Save** button.
  id: totrans-495
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **保存** 按钮。
- en: Deleting a row
  id: totrans-496
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 删除一行
- en: 'In order to delete a row, perform the following steps:'
  id: totrans-497
  prefs: []
  type: TYPE_NORMAL
  zh: 要删除一行，请执行以下步骤：
- en: Navigate to **Servers** | **MySQL Database Server**.
  id: totrans-498
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到 **服务器** | **MySQL 数据库服务器**。
- en: Click the icon that represents the `testdb` database.
  id: totrans-499
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击代表 `testdb` 数据库的图标。
- en: Click the icon that represents the `people` table.
  id: totrans-500
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击代表 `people` 表的图标。
- en: Click the **View Data** button.
  id: totrans-501
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **查看数据** 按钮。
- en: Mark the checkbox next to the record you would like to delete.
  id: totrans-502
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 勾选你希望删除的记录旁边的复选框。
- en: Click the **Delete selected rows** button.
  id: totrans-503
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **删除选中的行** 按钮。
- en: How it works...
  id: totrans-504
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: Webmin prepares the syntax for the appropriate `INSERT`, `UPDATE`, and `DELETE`
    SQL commands to perform the preceding actions and executes those commands on your
    MySQL server as the `root` user.
  id: totrans-505
  prefs: []
  type: TYPE_NORMAL
  zh: Webmin 为相应的 `INSERT`、`UPDATE` 和 `DELETE` SQL 命令准备语法，执行这些命令，并以 `root` 用户身份在 MySQL
    服务器上运行它们。
- en: See also
  id: totrans-506
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参见
- en: If you find that you need a more full-fledged, web-based MySQL management tool,
    consider installing phpMyAdmin. This is described in the *Installing phpMyAdmin*
    recipe
  id: totrans-507
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你发现你需要一个更为完整的基于网页的 MySQL 管理工具，可以考虑安装 phpMyAdmin。具体步骤请参见 *安装 phpMyAdmin* 章节。
- en: Checking who is using your database server
  id: totrans-508
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 检查谁在使用你的数据库服务器
- en: You may wish to check who is connected to your database server when debugging
    network connectivity, auditing security, or simply if you're curious. In Webmin,
    this information is just a few clicks away.
  id: totrans-509
  prefs: []
  type: TYPE_NORMAL
  zh: 在调试网络连接性、审计安全性或仅仅是出于好奇时，你可能需要检查谁连接到你的数据库服务器。在 Webmin 中，这些信息只需几次点击即可获得。
- en: How to do it...
  id: totrans-510
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 操作步骤...
- en: 'Follow these steps:'
  id: totrans-511
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤操作：
- en: Navigate to **Servers** | **MySQL Database Server**.
  id: totrans-512
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到 **服务器** | **MySQL 数据库服务器**。
- en: Click the **Database Connections** icon.
  id: totrans-513
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **数据库连接** 图标。
- en: 'You will see a list of active connections or a message that no clients other
    then Webmin are connected to the database at this time. Consider the following
    screenshot:'
  id: totrans-514
  prefs: []
  type: TYPE_NORMAL
  zh: 你将看到一个活跃连接的列表，或者看到一条信息，表示除了 Webmin 之外，当前没有其他客户端连接到数据库。参考以下截图：
- en: '![How to do it...](img/5849_09_06.jpg)'
  id: totrans-515
  prefs: []
  type: TYPE_IMG
  zh: '![操作步骤...](img/5849_09_06.jpg)'
- en: How it works...
  id: totrans-516
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: 'Webmin queries your MySQL server for information about active client connections.
    You could gain the same information by running the SQL command `SHOW PROCESSLIST`
    in a MySQL client:'
  id: totrans-517
  prefs: []
  type: TYPE_NORMAL
  zh: Webmin 会查询你的 MySQL 服务器以获取有关活跃客户端连接的信息。你也可以通过在 MySQL 客户端中运行 SQL 命令 `SHOW PROCESSLIST`
    来获得相同的信息：
- en: '[PRE21]'
  id: totrans-518
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'You will get the following output:'
  id: totrans-519
  prefs: []
  type: TYPE_NORMAL
  zh: 你将看到以下输出：
- en: '[PRE22]'
  id: totrans-520
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: There's more...
  id: totrans-521
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: Webmin also makes it easy to close any unnecessary connections. The clients
    will have to re-establish their connections to continue using the database.
  id: totrans-522
  prefs: []
  type: TYPE_NORMAL
  zh: Webmin 还简化了关闭任何不必要连接的操作。客户端需要重新建立连接，才能继续使用数据库。
- en: 'Follow these steps to close a connection:'
  id: totrans-523
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤关闭连接：
- en: Navigate to **Servers** | **MySQL Database Server**.
  id: totrans-524
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到 **服务器** | **MySQL 数据库服务器**。
- en: Click the **Database Connections** icon.
  id: totrans-525
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **数据库连接** 图标。
- en: Mark the checkbox next to the description of an active connection.
  id: totrans-526
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在活跃连接描述旁边标记复选框。
- en: Click the **Kill Selected Connections** button.
  id: totrans-527
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **终止选中的连接** 按钮。
- en: Installing phpMyAdmin
  id: totrans-528
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装 phpMyAdmin
- en: phpMyAdmin is a commonly used database administration tool for MySQL. It is
    a web-based application, like Webmin itself, but dedicated to all tasks related
    to the administration of a MySQL server. It's easy to use and can be a helpful
    tool for your database users and administrators.
  id: totrans-529
  prefs: []
  type: TYPE_NORMAL
  zh: phpMyAdmin 是一个常用的 MySQL 数据库管理工具。它是一个基于网页的应用程序，像 Webmin 一样，但专门用于所有与 MySQL 服务器管理相关的任务。它易于使用，是数据库用户和管理员的得力工具。
- en: Note
  id: totrans-530
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: System packages are configured to run phpMyAdmin on Apache. The Apache web server
    and PHP are installed as package dependencies. If you're not already using Apache
    and PHP, this exposes a potential attack vector on your database server. Consider
    the security implications of installing phpMyAdmin and keep it up to date.
  id: totrans-531
  prefs: []
  type: TYPE_NORMAL
  zh: 系统软件包已配置为在 Apache 上运行 phpMyAdmin。Apache Web 服务器和 PHP 作为软件包依赖项一起安装。如果你尚未使用 Apache
    和 PHP，这将为你的数据库服务器暴露一个潜在的攻击入口。请考虑安装 phpMyAdmin 的安全影响，并确保其保持最新。
- en: How to do it...
  id: totrans-532
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 操作步骤...
- en: 'Follow these steps to set up phpMyAdmin on your system:'
  id: totrans-533
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤在你的系统上设置 phpMyAdmin：
- en: Install the package named `phpmyadmin` (or `phpMyAdmin` depending on your system).
    Refer to the *Installing software packages* recipe in [Chapter 1](ch01.html "Chapter 1. Setting
    Up Your System"), *Setting Up Your System*, for more information.
  id: totrans-534
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装名为 `phpmyadmin`（或根据你的系统选择 `phpMyAdmin`）的软件包。有关更多信息，请参见 *安装软件包* 章节，位于 [第 1
    章](ch01.html "第 1 章. 设置你的系统")，*设置你的系统*。
- en: Tip
  id: totrans-535
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: On some systems, you may need to add an additional repository to install the
    package. For instance, if you're running a Linux distribution from the RedHat
    family (RHEL, CentOS, Fedora, and so on), you should add the **Extra Packages
    for Enterprise Linux** (**EPEL**) repository. Information about the setting up
    of EPEL can be found in the *Giving users access to your server via FTP* recipe
    in [Chapter 6](ch06.html "Chapter 6. Managing Files on Your System"), *Managing
    Files on Your System*.
  id: totrans-536
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在某些系统上，你可能需要添加一个额外的仓库来安装该软件包。例如，如果你使用的是 RedHat 系列的 Linux 发行版（如 RHEL、CentOS、Fedora
    等），你应该添加 **企业 Linux 的额外软件包**（**EPEL**）仓库。有关设置 EPEL 的信息，可以参见 *通过 FTP 让用户访问你的服务器*
    章节，位于 [第 6 章](ch06.html "第 6 章. 管理你系统上的文件")，*管理你系统上的文件*。
- en: Since phpMyAdmin runs on top of Apache, you should make sure that this server
    is installed on your system and is accessible to a browser. Follow the *Installing
    Apache on your system* recipe in [Chapter 8](ch08.html "Chapter 8. Running an
    Apache Web Server"), *Running an Apache Web Server*, to get Apache up and running.
  id: totrans-537
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于 phpMyAdmin 运行在 Apache 之上，你应该确保该服务器已安装在你的系统中，并且能够通过浏览器访问。按照 [第 8 章](ch08.html
    "第 8 章. 运行 Apache Web 服务器") 中的 *在系统上安装 Apache* 配方，启动并运行 Apache。
- en: 'Navigate to the following URL, but substitute `webmin-host` for the IP or domain
    name of your server: [http://webmin-host/phpmyadmin](http://webmin-host/phpmyadmin).'
  id: totrans-538
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 访问以下 URL，但请将 `webmin-host` 替换为你的服务器的 IP 或域名：[http://webmin-host/phpmyadmin](http://webmin-host/phpmyadmin)。
- en: Tip
  id: totrans-539
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: On some systems, phpMyAdmin is configured to be accessible to connections that
    originate from the local host only. If you wish to change this behavior, go to
    **Servers** | **Apache Webserver** | **Default Server**, select **Per-Directory
    Options** for phpMyAdmin's directory, and change its **Access Control** settings.
    More information is provided in the *Setting options for directories, files, and
    locations* recipe in [Chapter 8](ch08.html "Chapter 8. Running an Apache Web Server"),
    *Running an Apache Web Server*.
  id: totrans-540
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在某些系统上，phpMyAdmin 被配置为仅允许来自本地主机的连接。如果你希望更改此行为，请前往 **服务器** | **Apache Web服务器**
    | **默认服务器**，选择 phpMyAdmin 目录的 **每目录选项**，然后更改其 **访问控制** 设置。更多信息请参阅 [第 8 章](ch08.html
    "第 8 章. 运行 Apache Web 服务器") 中的 *设置目录、文件和位置的选项* 这一配方，*运行 Apache Web 服务器*。
- en: Information about additional steps that may be necessary to set up phpMyAdmin
    in your system distribution can be found in package documentation files. Refer
    to the *Reading the documentation of the installed software* recipe in [Chapter
    1](ch01.html "Chapter 1. Setting Up Your System"), *Setting Up Your System*.
  id: totrans-541
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 有关在你的系统发行版中设置 phpMyAdmin 所需的额外步骤的信息，可以在软件包文档文件中找到。请参阅 [第 1 章](ch01.html "第 1
    章. 设置系统") 中的 *阅读已安装软件的文档* 配方，*设置你的系统*。
- en: You can now log in using the username and password of a MySQL account.
  id: totrans-542
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在你可以使用 MySQL 帐户的用户名和密码登录。
- en: Note
  id: totrans-543
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: phpMyAdmin will log you in as if you were connecting from the local machine,
    so privileges assigned to an account on `localhost` will be used.
  id: totrans-544
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: phpMyAdmin 将以本地计算机连接的方式登录，因此将使用分配给 `localhost` 上帐户的权限。
- en: How it works...
  id: totrans-545
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: phpMyAdmin is an application written in PHP. The main configuration file of
    phpMyAdmin is named `config.inc.php`, and it is usually installed inside the `/etc/`
    directory. Example locations for different distributions are listed in the following
    table. The code of the application itself is stored in the form of PHP script
    files in a directory named phpMyAdmin.
  id: totrans-546
  prefs: []
  type: TYPE_NORMAL
  zh: phpMyAdmin 是一个用 PHP 编写的应用程序。phpMyAdmin 的主配置文件名为 `config.inc.php`，通常安装在 `/etc/`
    目录下。不同发行版的示例位置列在下面的表格中。应用程序本身的代码以 PHP 脚本文件的形式存储在名为 phpMyAdmin 的目录中。
- en: Because phpMyAdmin is served by Apache, the installation package includes an
    application-specific configuration file that will be loaded by the web server.
    This file informs Apache where phpMyAdmin is stored on the disk and which of its
    directories should be made available on the web.
  id: totrans-547
  prefs: []
  type: TYPE_NORMAL
  zh: 因为 phpMyAdmin 由 Apache 提供服务，所以安装包包括一个特定应用程序的配置文件，该文件将被 Web 服务器加载。此文件告诉 Apache
    phpMyAdmin 存储在哪个磁盘位置，以及它的哪些目录应该在 Web 上可用。
- en: '| File | OS / distro | Location |'
  id: totrans-548
  prefs: []
  type: TYPE_TB
  zh: '| 文件 | 操作系统 / 发行版 | 位置 |'
- en: '| --- | --- | --- |'
  id: totrans-549
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| phpMyAdmin configuration | Debian | `/etc/phpmyadmin/config.inc.php` |'
  id: totrans-550
  prefs: []
  type: TYPE_TB
  zh: '| phpMyAdmin 配置文件 | Debian | `/etc/phpmyadmin/config.inc.php` |'
- en: '| CentOS | `/etc/phpMyAdmin/config.inc.php` |'
  id: totrans-551
  prefs: []
  type: TYPE_TB
  zh: '| CentOS | `/etc/phpMyAdmin/config.inc.php` |'
- en: '| OpenSUSE | `/etc/phpMyAdmin/config.inc.php` |'
  id: totrans-552
  prefs: []
  type: TYPE_TB
  zh: '| OpenSUSE | `/etc/phpMyAdmin/config.inc.php` |'
- en: '| phpMyAdmin files | Debian | `/usr/share/phpmyadmin` |'
  id: totrans-553
  prefs: []
  type: TYPE_TB
  zh: '| phpMyAdmin 文件 | Debian | `/usr/share/phpmyadmin` |'
- en: '| CentOS | `/usr/share/phpMyAdmin` |'
  id: totrans-554
  prefs: []
  type: TYPE_TB
  zh: '| CentOS | `/usr/share/phpMyAdmin` |'
- en: '| OpenSUSE | `/srv/www/htdocs/phpMyAdmin` |'
  id: totrans-555
  prefs: []
  type: TYPE_TB
  zh: '| OpenSUSE | `/srv/www/htdocs/phpMyAdmin` |'
- en: '| Apache configuration file for phpMyAdmin | Debian | `/etc/phpmyadmin/apache.conf`
    |'
  id: totrans-556
  prefs: []
  type: TYPE_TB
  zh: '| phpMyAdmin 的 Apache 配置文件 | Debian | `/etc/phpmyadmin/apache.conf` |'
- en: '| CentOS | `/etc/httpd/conf.d/phpMyAdmin.conf` |'
  id: totrans-557
  prefs: []
  type: TYPE_TB
  zh: '| CentOS | `/etc/httpd/conf.d/phpMyAdmin.conf` |'
- en: '| OpenSUSE | `/etc/apache2/conf.d/phpMyAdmin.conf` |'
  id: totrans-558
  prefs: []
  type: TYPE_TB
  zh: '| OpenSUSE | `/etc/apache2/conf.d/phpMyAdmin.conf` |'
- en: Regardless of how package maintainers decided to prepare it, you can tweak the
    Apache configuration for phpMyAdmin by going to **Servers** | **Apache Webserver**
    | **Default Server** and selecting **Per-Directory Options** for the phpMyAdmin
    directory.
  id: totrans-559
  prefs: []
  type: TYPE_NORMAL
  zh: 无论包维护者如何决定准备它，你都可以通过进入**Servers** | **Apache Webserver** | **Default Server**，并为
    phpMyAdmin 目录选择**每目录选项**，来调整 Apache 配置。
- en: There's more...
  id: totrans-560
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多内容...
- en: 'phpMyAdmin is a very capable tool and you can find detailed information about
    how it can be used in its documentation at: [http://docs.phpmyadmin.net/en/latest/](http://docs.phpmyadmin.net/en/latest/)'
  id: totrans-561
  prefs: []
  type: TYPE_NORMAL
  zh: phpMyAdmin 是一个功能非常强大的工具，你可以在其文档中找到关于如何使用它的详细信息：[http://docs.phpmyadmin.net/en/latest/](http://docs.phpmyadmin.net/en/latest/)
