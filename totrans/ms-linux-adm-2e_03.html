<html><head></head><body>
<div id="_idContainer086">
<h1 class="chapter-number" id="_idParaDest-60"><a id="_idTextAnchor075"/><span class="koboSpan" id="kobo.1.1">3</span></h1>
<h1 id="_idParaDest-61"><a id="_idTextAnchor076"/><span class="koboSpan" id="kobo.2.1">Linux Software Management</span></h1>
<p><strong class="bold"><span class="koboSpan" id="kobo.3.1">Software management</span></strong><span class="koboSpan" id="kobo.4.1"> is an important aspect of Linux system administration because, at some level, you will have to</span><a id="_idIndexMarker330"/><span class="koboSpan" id="kobo.5.1"> work with software packages as a system administrator. </span><span class="koboSpan" id="kobo.5.2">Knowing how to work with software packages is an asset that you will master after finishing </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">this chapter.</span></span></p>
<p><span class="koboSpan" id="kobo.7.1">In this chapter, you will learn how to use specific software management commands, as well as learn how software packages work, depending on your distribution of choice. </span><span class="koboSpan" id="kobo.7.2">You will learn about the latest </span><strong class="bold"><span class="koboSpan" id="kobo.8.1">Snap</span></strong><span class="koboSpan" id="kobo.9.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.10.1">Flatpak</span></strong><span class="koboSpan" id="kobo.11.1"> package types and how to use them on modern </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">Linux distributions.</span></span></p>
<p><span class="koboSpan" id="kobo.13.1">In this chapter, we’re going to cover the following </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">main topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.15.1">Linux software </span><span class="No-Break"><span class="koboSpan" id="kobo.16.1">package types</span></span></li>
<li><span class="koboSpan" id="kobo.17.1">Managing </span><span class="No-Break"><span class="koboSpan" id="kobo.18.1">software packages</span></span></li>
<li><span class="koboSpan" id="kobo.19.1">Installing new desktop environments </span><span class="No-Break"><span class="koboSpan" id="kobo.20.1">in Linux</span></span></li>
</ul>
<h1 id="_idParaDest-62"><a id="_idTextAnchor077"/><span class="koboSpan" id="kobo.21.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.22.1">No special technical requirements are needed for this chapter, just a working installation of Linux on your system. </span><strong class="bold"><span class="koboSpan" id="kobo.23.1">Ubuntu</span></strong><span class="koboSpan" id="kobo.24.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.25.1">Fedora</span></strong><span class="koboSpan" id="kobo.26.1"> (or </span><strong class="bold"><span class="koboSpan" id="kobo.27.1">AlmaLinux</span></strong><span class="koboSpan" id="kobo.28.1">), or </span><strong class="bold"><span class="koboSpan" id="kobo.29.1">openSUSE</span></strong><span class="koboSpan" id="kobo.30.1"> are equally suitable for this chapter’s exercises as we will cover all types of </span><span class="No-Break"><span class="koboSpan" id="kobo.31.1">package managers.</span></span></p>
<h1 id="_idParaDest-63"><a id="_idTextAnchor078"/><span class="koboSpan" id="kobo.32.1">Linux software package types</span></h1>
<p><span class="koboSpan" id="kobo.33.1">As you’ve already</span><a id="_idIndexMarker331"/><span class="koboSpan" id="kobo.34.1"> learned by now, a Linux distribution comes packed with a kernel and applications on top of it. </span><span class="koboSpan" id="kobo.34.2">Although plenty of applications are already installed by default, there will certainly be occasions when you will need to install some new ones or remove ones that you </span><span class="No-Break"><span class="koboSpan" id="kobo.35.1">don’t need.</span></span></p>
<p><span class="koboSpan" id="kobo.36.1">In Linux, applications come bundled into </span><strong class="bold"><span class="koboSpan" id="kobo.37.1">repositories</span></strong><span class="koboSpan" id="kobo.38.1">. </span><span class="koboSpan" id="kobo.38.2">A repository</span><a id="_idIndexMarker332"/><span class="koboSpan" id="kobo.39.1"> is a centrally managed location that consists of software packages maintained by developers. </span><span class="koboSpan" id="kobo.39.2">These could contain individual applications or operating system-related files. </span><span class="koboSpan" id="kobo.39.3">Each Linux distribution comes with several official repositories, but on top of those, you can add some new ones. </span><span class="koboSpan" id="kobo.39.4">The way to add them is specific to each distribution, and we will get into more details later in </span><span class="No-Break"><span class="koboSpan" id="kobo.40.1">this chapter.</span></span></p>
<p><span class="koboSpan" id="kobo.41.1">Linux has several types of packages available. </span><span class="koboSpan" id="kobo.41.2">Ubuntu uses </span><strong class="source-inline"><span class="koboSpan" id="kobo.42.1">deb</span></strong><span class="koboSpan" id="kobo.43.1"> packages, as it is based on Debian, while Fedora (or Rocky Linux and AlmaLinux) uses </span><strong class="source-inline"><span class="koboSpan" id="kobo.44.1">rpm</span></strong><span class="koboSpan" id="kobo.45.1"> packages, as it is based on RHEL. </span><span class="koboSpan" id="kobo.45.2">There is also openSUSE, which uses </span><strong class="source-inline"><span class="koboSpan" id="kobo.46.1">rpm</span></strong><span class="koboSpan" id="kobo.47.1"> packages too, but it</span><a id="_idIndexMarker333"/><span class="koboSpan" id="kobo.48.1"> was based on Slackware at its inception. </span><span class="koboSpan" id="kobo.48.2">Besides those, two new package types have been recently introduced – the snap packages developed by Canonical, the company behind Ubuntu, and the flatpak packages, developed by a large community of developers and organizations, including GNOME, Red Hat, </span><span class="No-Break"><span class="koboSpan" id="kobo.49.1">and Endless.</span></span></p>
<h2 id="_idParaDest-64"><a id="_idTextAnchor079"/><span class="koboSpan" id="kobo.50.1">The DEB and RPM package types</span></h2>
<p><span class="koboSpan" id="kobo.51.1">DEB and </span><a id="_idIndexMarker334"/><span class="koboSpan" id="kobo.52.1">RPM are the oldest types of packages and are used by Ubuntu and Fedora, respectively. </span><span class="koboSpan" id="kobo.52.2">They are still widely used, even though the two new types mentioned earlier (snaps and flatpaks) are starting to gain ground on Linux </span><span class="No-Break"><span class="koboSpan" id="kobo.53.1">on desktops.</span></span></p>
<p><span class="koboSpan" id="kobo.54.1">Both package types are compliant with</span><a id="_idIndexMarker335"/><span class="koboSpan" id="kobo.55.1"> the </span><strong class="bold"><span class="koboSpan" id="kobo.56.1">Linux Standard Base</span></strong><span class="koboSpan" id="kobo.57.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.58.1">LSB</span></strong><span class="koboSpan" id="kobo.59.1">) specifications. </span><span class="koboSpan" id="kobo.59.2">The last iteration of LSB is version 5.0, released in 2015. </span><span class="koboSpan" id="kobo.59.3">You can find more information about it </span><span class="No-Break"><span class="koboSpan" id="kobo.60.1">at </span></span><a href="https://refspecs.linuxfoundation.org/lsb.shtml#PACKAGEFMT"><span class="No-Break"><span class="koboSpan" id="kobo.61.1">https://refspecs.linuxfoundation.org/lsb.shtml#PACKAGEFMT</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.62.1">.</span></span></p>
<h3><span class="koboSpan" id="kobo.63.1">The DEB package’s anatomy</span></h3>
<p><span class="koboSpan" id="kobo.64.1">DEB was introduced with </span><a id="_idIndexMarker336"/><span class="koboSpan" id="kobo.65.1">the Debian distribution back in 1993 and has been in use ever since on every Debian and Ubuntu derivative. </span><span class="koboSpan" id="kobo.65.2">A </span><strong class="source-inline"><span class="koboSpan" id="kobo.66.1">deb</span></strong><span class="koboSpan" id="kobo.67.1"> package is a binary package. </span><span class="koboSpan" id="kobo.67.2">This means that it contains the files of the program itself, as well as its dependencies and meta-information files, all contained inside </span><span class="No-Break"><span class="koboSpan" id="kobo.68.1">an archive.</span></span></p>
<p><span class="koboSpan" id="kobo.69.1">To check the contents of a binary </span><strong class="source-inline"><span class="koboSpan" id="kobo.70.1">deb</span></strong><span class="koboSpan" id="kobo.71.1"> package, you can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.72.1">ar</span></strong><span class="koboSpan" id="kobo.73.1"> command. </span><span class="koboSpan" id="kobo.73.2">It is not installed by default in Ubuntu 22.04.2 LTS, so you will have to install it yourself using the </span><span class="No-Break"><span class="koboSpan" id="kobo.74.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.75.1">
$ sudo apt install binutils</span></pre> <p><span class="koboSpan" id="kobo.76.1">There you go – you have installed a package in Ubuntu! </span><span class="koboSpan" id="kobo.76.2">Now, once </span><strong class="source-inline"><span class="koboSpan" id="kobo.77.1">ar</span></strong><span class="koboSpan" id="kobo.78.1"> has been installed, you can check the contents of any </span><strong class="source-inline"><span class="koboSpan" id="kobo.79.1">deb</span></strong><span class="koboSpan" id="kobo.80.1"> package. </span><span class="koboSpan" id="kobo.80.2">For this exercise, we’ve downloaded the </span><strong class="source-inline"><span class="koboSpan" id="kobo.81.1">deb</span></strong><span class="koboSpan" id="kobo.82.1"> package of a</span><a id="_idIndexMarker337"/><span class="koboSpan" id="kobo.83.1"> password manager called </span><strong class="bold"><span class="koboSpan" id="kobo.84.1">1password</span></strong><span class="koboSpan" id="kobo.85.1"> and checked its contents. </span><span class="koboSpan" id="kobo.85.2">To query the package, perform the </span><span class="No-Break"><span class="koboSpan" id="kobo.86.1">following steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.87.1">Use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.88.1">wget</span></strong><span class="koboSpan" id="kobo.89.1"> command; the file will be downloaded inside your current </span><span class="No-Break"><span class="koboSpan" id="kobo.90.1">working directory:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.91.1">wget https://downloads.1password.com/linux/debian/amd64/stable/1password-latest.deb</span></strong></pre></li> <li><span class="koboSpan" id="kobo.92.1">After that, use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.93.1">ar t 1password-latest.deb</span></strong><span class="koboSpan" id="kobo.94.1"> command to view the contents of the binary package. </span><span class="koboSpan" id="kobo.94.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.95.1">t</span></strong><span class="koboSpan" id="kobo.96.1"> option will display a table of contents for </span><span class="No-Break"><span class="koboSpan" id="kobo.97.1">the archive:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer056">
<span class="koboSpan" id="kobo.98.1"><img alt="Figure 3.1 – Using the ar command to view the contents of a deb file" src="image/Figure_03_01_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.99.1">Figure 3.1 – Using the ar command to view the contents of a deb file</span></p>
<p><span class="koboSpan" id="kobo.100.1">As you can see, the</span><a id="_idIndexMarker338"/><span class="koboSpan" id="kobo.101.1"> output listed four files, from which two are archives. </span><span class="koboSpan" id="kobo.101.2">You can also investigate the package with the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.102.1">ar</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.103.1"> command.</span></span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.104.1">Use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.105.1">ar x 1password-latest.deb</span></strong><span class="koboSpan" id="kobo.106.1"> command to extract the contents of the package to your present </span><span class="No-Break"><span class="koboSpan" id="kobo.107.1">working directory:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.108.1">$ ar x 1password-latest.deb</span></strong></pre></li> <li><span class="koboSpan" id="kobo.109.1">Use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.110.1">ls</span></strong><span class="koboSpan" id="kobo.111.1"> command to list the contents of your directory. </span><span class="koboSpan" id="kobo.111.2">You will see that the four files have been extracted and are ready to inspect. </span><span class="koboSpan" id="kobo.111.3">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.112.1">debian-binary</span></strong><span class="koboSpan" id="kobo.113.1"> file is a text file that contains the version of the package file format, which in our case is 2.0. </span><span class="koboSpan" id="kobo.113.2">You can concatenate the file to verify your package with the help of the </span><span class="No-Break"><span class="koboSpan" id="kobo.114.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.115.1">$ cat debian-binary</span></strong></pre></li> <li><span class="koboSpan" id="kobo.116.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.117.1">control.tar.gz</span></strong><span class="koboSpan" id="kobo.118.1"> archive contains meta-information packages and scripts to be run during the installation or before and after, depending on the case. </span><span class="koboSpan" id="kobo.118.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.119.1">data.tar.xz</span></strong><span class="koboSpan" id="kobo.120.1"> archive contains the executable files and libraries of the program that are going to be extracted during the installation. </span><span class="koboSpan" id="kobo.120.2">You can check the </span><a id="_idIndexMarker339"/><span class="koboSpan" id="kobo.121.1">contents with the </span><span class="No-Break"><span class="koboSpan" id="kobo.122.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.123.1">$ tar tJf data.tar.xz | head</span></strong></pre></li> <li><span class="koboSpan" id="kobo.124.1">The last file is a </span><strong class="source-inline"><span class="koboSpan" id="kobo.125.1">gpg</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.126.1">signature file.</span></span></li>
</ol>
<p class="callout-heading"><span class="koboSpan" id="kobo.127.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.128.1">A </span><strong class="source-inline"><span class="koboSpan" id="kobo.129.1">gpg</span></strong><span class="koboSpan" id="kobo.130.1"> file is a file that uses the GNU Privacy Guard encryption. </span><span class="koboSpan" id="kobo.130.2">It uses an encryption standard known as OpenGPG (defined by the RFC4880 standard). </span><span class="koboSpan" id="kobo.130.3">It is usually used to sign package files as it offers a safe way for developers to distribute software. </span><span class="koboSpan" id="kobo.130.4">For more information on this matter, you </span><a id="_idIndexMarker340"/><span class="koboSpan" id="kobo.131.1">can read the official documentation </span><span class="No-Break"><span class="koboSpan" id="kobo.132.1">at </span></span><a href="https://www.openpgp.org/"><span class="No-Break"><span class="koboSpan" id="kobo.133.1">https://www.openpgp.org/</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.134.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.135.1">The following screenshot shows the outputs of </span><span class="No-Break"><span class="koboSpan" id="kobo.136.1">these commands:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer057">
<span class="koboSpan" id="kobo.137.1"><img alt="Figure 3.2 – The contents of a deb package" src="image/Figure_03_02_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.138.1">Figure 3.2 – The contents of a deb package</span></p>
<p><span class="koboSpan" id="kobo.139.1">Meta-information for each package is a collection of files that are essential for the programs to run. </span><span class="koboSpan" id="kobo.139.2">They contain information about certain package prerequisites and all their dependencies, conflicts, and suggestions. </span><span class="koboSpan" id="kobo.139.3">Feel free to explore everything that a package is made of using just the </span><a id="_idIndexMarker341"/><span class="No-Break"><span class="koboSpan" id="kobo.140.1">packaging-related commands.</span></span></p>
<p><span class="koboSpan" id="kobo.141.1">Now that we know what a Debian-based package consists of, let’s look at the components of a Red </span><span class="No-Break"><span class="koboSpan" id="kobo.142.1">Hat package.</span></span></p>
<h3><span class="koboSpan" id="kobo.143.1">The RPM packages anatomy</span></h3>
<p><span class="koboSpan" id="kobo.144.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.145.1">Red Hat Package Manager</span></strong><span class="koboSpan" id="kobo.146.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.147.1">RPM</span></strong><span class="koboSpan" id="kobo.148.1">) packages</span><a id="_idIndexMarker342"/><span class="koboSpan" id="kobo.149.1"> were developed by Red Hat and are used in Fedora, CentOS, RHEL, AlmaLinux, Rocky Linux, SUSE, and openSUSE. </span><span class="koboSpan" id="kobo.149.2">RPM</span><a id="_idIndexMarker343"/><span class="koboSpan" id="kobo.150.1"> binary packages are similar to DEB binary packages in that they are also packaged as </span><span class="No-Break"><span class="koboSpan" id="kobo.151.1">an archive.</span></span></p>
<p><span class="koboSpan" id="kobo.152.1">Let’s test the </span><strong class="source-inline"><span class="koboSpan" id="kobo.153.1">rpm</span></strong><span class="koboSpan" id="kobo.154.1"> package of </span><strong class="source-inline"><span class="koboSpan" id="kobo.155.1">1password</span></strong><span class="koboSpan" id="kobo.156.1">, just as we did with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.157.1">deb</span></strong><span class="koboSpan" id="kobo.158.1"> package in the </span><span class="No-Break"><span class="koboSpan" id="kobo.159.1">previous section:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.160.1">Download the </span><strong class="source-inline"><span class="koboSpan" id="kobo.161.1">rpm</span></strong><span class="koboSpan" id="kobo.162.1"> package using the </span><span class="No-Break"><span class="koboSpan" id="kobo.163.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.164.1"># wget https://downloads.1password.com/linux/rpm/stable/x86_64/1password-latest.rpm</span></strong></pre></li> </ol>
<p><span class="koboSpan" id="kobo.165.1">If you want to use the same </span><strong class="source-inline"><span class="koboSpan" id="kobo.166.1">ar</span></strong><span class="koboSpan" id="kobo.167.1"> command, you will see that in the case of </span><strong class="source-inline"><span class="koboSpan" id="kobo.168.1">rpms</span></strong><span class="koboSpan" id="kobo.169.1">, the archiving tool will not recognize the file format. </span><span class="koboSpan" id="kobo.169.2">Nevertheless, there are other more powerful tools </span><span class="No-Break"><span class="koboSpan" id="kobo.170.1">to use.</span></span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.171.1">We will use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.172.1">rpm</span></strong><span class="koboSpan" id="kobo.173.1"> command, the designated low-level package manager for rpms. </span><span class="koboSpan" id="kobo.173.2">We will use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.174.1">-q</span></strong><span class="koboSpan" id="kobo.175.1"> (query), </span><strong class="source-inline"><span class="koboSpan" id="kobo.176.1">-p</span></strong><span class="koboSpan" id="kobo.177.1"> (package name), and </span><strong class="source-inline"><span class="koboSpan" id="kobo.178.1">-l</span></strong><span class="koboSpan" id="kobo.179.1"> (</span><span class="No-Break"><span class="koboSpan" id="kobo.180.1">list) options:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.181.1"># rpm -qpl 1password-latest.rpm</span></strong></pre></li> </ol>
<p><span class="koboSpan" id="kobo.182.1">The output, contrary to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.183.1">deb</span></strong><span class="koboSpan" id="kobo.184.1"> package, will be a list of all the files related to the application, along with their installation locations for </span><span class="No-Break"><span class="koboSpan" id="kobo.185.1">your system.</span></span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.186.1">To see the meta-information for the package, run the </span><strong class="source-inline"><span class="koboSpan" id="kobo.187.1">rpm</span></strong><span class="koboSpan" id="kobo.188.1"> command with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.189.1">-q</span></strong><span class="koboSpan" id="kobo.190.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.191.1">-p</span></strong><span class="koboSpan" id="kobo.192.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.193.1">-i</span></strong><span class="koboSpan" id="kobo.194.1"> (install) options. </span><span class="koboSpan" id="kobo.194.2">The following is a short excerpt from the </span><span class="No-Break"><span class="koboSpan" id="kobo.195.1">command’s output:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer058">
<span class="koboSpan" id="kobo.196.1"><img alt="Figure 3.3 – Meta-information of the rpm package" src="image/Figure_03_03_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.197.1">Figure 3.3 – Meta-information of the rpm package</span></p>
<p><span class="koboSpan" id="kobo.198.1">The output will</span><a id="_idIndexMarker344"/><span class="koboSpan" id="kobo.199.1"> contain information about the application’s name, version, release, architecture, installation date, group, size, license, signature, source RPM, build date and host, URL, relocation, </span><span class="No-Break"><span class="koboSpan" id="kobo.200.1">and summary.</span></span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.201.1">To see which other dependencies the package will require at installation, you can run the same </span><strong class="source-inline"><span class="koboSpan" id="kobo.202.1">rpm</span></strong><span class="koboSpan" id="kobo.203.1"> command with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.204.1">-q</span></strong><span class="koboSpan" id="kobo.205.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.206.1">-p</span></strong><span class="koboSpan" id="kobo.207.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.208.1">–</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.209.1">requires</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.210.1"> options:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.211.1">$ rpm -qp --requires 1password-latest.rpm</span></strong></pre></li> </ol>
<p><span class="koboSpan" id="kobo.212.1">The output is shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.213.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer059">
<span class="koboSpan" id="kobo.214.1"><img alt="Figure 3.4 – Package requirements" src="image/Figure_03_04_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.215.1">Figure 3.4 – Package requirements</span></p>
<p><span class="koboSpan" id="kobo.216.1">You now know what Debian and Red Hat packages are and what they contain. </span><span class="koboSpan" id="kobo.216.2">DEB and </span><a id="_idIndexMarker345"/><span class="koboSpan" id="kobo.217.1">RPM packages are not the only types available on Linux. </span><span class="koboSpan" id="kobo.217.2">They are perhaps the most widely used and known, but there are also other types, depending on the distribution you choose. </span><span class="koboSpan" id="kobo.217.3">Also, as we stated earlier, there are new packages available for cross-platform Linux use. </span><span class="koboSpan" id="kobo.217.4">Those newer packages are called flatpaks and snaps, and we will detail them in the </span><span class="No-Break"><span class="koboSpan" id="kobo.218.1">following section.</span></span></p>
<h2 id="_idParaDest-65"><a id="_idTextAnchor080"/><span class="koboSpan" id="kobo.219.1">The snap and flatpak package types</span></h2>
<p><strong class="bold"><span class="koboSpan" id="kobo.220.1">Snap</span></strong><span class="koboSpan" id="kobo.221.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.222.1">Flatpak</span></strong><span class="koboSpan" id="kobo.223.1"> are </span><a id="_idIndexMarker346"/><span class="koboSpan" id="kobo.224.1">relatively new package types, and they are </span><a id="_idIndexMarker347"/><span class="koboSpan" id="kobo.225.1">considered to be the future of apps on Linux. </span><span class="koboSpan" id="kobo.225.2">They</span><a id="_idIndexMarker348"/><span class="koboSpan" id="kobo.226.1"> both build and run applications in isolated containers for more</span><a id="_idIndexMarker349"/><span class="koboSpan" id="kobo.227.1"> security and portability. </span><span class="koboSpan" id="kobo.227.2">Both have been created to overcome the need for desktop applications’ ease of installation </span><span class="No-Break"><span class="koboSpan" id="kobo.228.1">and portability.</span></span></p>
<p><span class="koboSpan" id="kobo.229.1">Even though major Linux </span><a id="_idIndexMarker350"/><span class="koboSpan" id="kobo.230.1">distributions have large application repositories, distributing software for so many types of Linux distributions, each with its own kind of package types, can become a serious issue </span><a id="_idIndexMarker351"/><span class="koboSpan" id="kobo.231.1">for </span><strong class="bold"><span class="koboSpan" id="kobo.232.1">independent software vendors</span></strong><span class="koboSpan" id="kobo.233.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.234.1">ISVs</span></strong><span class="koboSpan" id="kobo.235.1">) or community maintainers. </span><span class="koboSpan" id="kobo.235.2">This is where both snaps and flatpaks come to the rescue, aiming to reduce the weight of </span><span class="No-Break"><span class="koboSpan" id="kobo.236.1">distributing software.</span></span></p>
<p><span class="koboSpan" id="kobo.237.1">Let’s consider that we are ISVs, aiming to develop our product on Linux. </span><span class="koboSpan" id="kobo.237.2">Once a new version of our software is available, we need to create at least two types of packages to be directly downloaded from our website – a </span><strong class="source-inline"><span class="koboSpan" id="kobo.238.1">.deb</span></strong><span class="koboSpan" id="kobo.239.1"> package for Debian/Ubuntu/Mint and other derivatives, and a </span><strong class="source-inline"><span class="koboSpan" id="kobo.240.1">.rpm</span></strong><span class="koboSpan" id="kobo.241.1"> package for Fedora/RHEL/SUSE and </span><span class="No-Break"><span class="koboSpan" id="kobo.242.1">other derivatives.</span></span></p>
<p><span class="koboSpan" id="kobo.243.1">But if we want to overcome this and make our app available cross-distribution for most of the existing Linux </span><a id="_idIndexMarker352"/><span class="koboSpan" id="kobo.244.1">distributions, we can distribute it as a flatpak or snap. </span><span class="koboSpan" id="kobo.244.2">The flatpak package would be available</span><a id="_idIndexMarker353"/><span class="koboSpan" id="kobo.245.1"> through </span><strong class="bold"><span class="koboSpan" id="kobo.246.1">Flathub</span></strong><span class="koboSpan" id="kobo.247.1">, the centralized flatpak repository, and the snap package would be available through the Snap Store, the centralized snap repository. </span><span class="koboSpan" id="kobo.247.2">Either one is</span><a id="_idIndexMarker354"/><span class="koboSpan" id="kobo.248.1"> equally suitable for our aim to</span><a id="_idIndexMarker355"/><span class="koboSpan" id="kobo.249.1"> distribute the app for all major Linux distributions with minimal resource consumption and </span><a id="_idIndexMarker356"/><span class="No-Break"><span class="koboSpan" id="kobo.250.1">centralized effort.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.251.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.252.1">Both package types are trying to overcome the overall fragmentation of the Linux ecosystem when it comes to packages. </span><span class="koboSpan" id="kobo.252.2">However, these two packages have different philosophies, even though they want to solve the same problem. </span><span class="koboSpan" id="kobo.252.3">Snaps emerged as a new type of package that would be available on the IoT and server versions of Canonical’s Ubuntu, while flatpaks emerged from the need to have a coherent package type for desktop applications in Linux. </span><span class="koboSpan" id="kobo.252.4">Thus, flatpaks are not available on server or IoT versions of Linux, only for desktop editions. </span><span class="koboSpan" id="kobo.252.5">As both packages evolve, more and more distributions are starting to provide them by default, with flatpak being the winner in terms of the number of distributions that are offering it by default. </span><span class="koboSpan" id="kobo.252.6">On the other hand, snaps are mostly available by default on official Ubuntu versions, starting with version 23.04. </span><span class="koboSpan" id="kobo.252.7">Flatpaks are available by default in Fedora, openSUSE, Pop!_OS, Linux Mint, KDE neon, and </span><span class="No-Break"><span class="koboSpan" id="kobo.253.1">other distributions.</span></span></p>
<p><span class="koboSpan" id="kobo.254.1">The takeaway from this situation is that the effort to distribute software for Linux is higher than in the case of the same app packaged for Windows or macOS. </span><span class="koboSpan" id="kobo.254.2">Hopefully, in the future, there will be only one universal package for distributing software for Linux, and this will all be for the better for both users and </span><span class="No-Break"><span class="koboSpan" id="kobo.255.1">developers alike.</span></span></p>
<h3><span class="koboSpan" id="kobo.256.1">The snap package’s anatomy</span></h3>
<p><span class="koboSpan" id="kobo.257.1">The</span><a id="_idIndexMarker357"/><span class="koboSpan" id="kobo.258.1"> snap file is a </span><strong class="bold"><span class="koboSpan" id="kobo.259.1">SquashFS</span></strong><span class="koboSpan" id="kobo.260.1"> file. </span><span class="koboSpan" id="kobo.260.2">This means that it has its own filesystem encapsulated in an immutable </span><a id="_idIndexMarker358"/><span class="koboSpan" id="kobo.261.1">container. </span><span class="koboSpan" id="kobo.261.2">It has a very restrictive environment, with specific rules for isolation and confinement. </span><span class="koboSpan" id="kobo.261.3">Every snap file has a meta-information directory that stores files that control </span><span class="No-Break"><span class="koboSpan" id="kobo.262.1">its behavior.</span></span></p>
<p><span class="koboSpan" id="kobo.263.1">Snaps, as opposed to flatpaks, are used not only for desktop applications but also for a wider range of server and embedded apps. </span><span class="koboSpan" id="kobo.263.2">This is</span><a id="_idIndexMarker359"/><span class="koboSpan" id="kobo.264.1"> because Snap has its origins in the Ubuntu </span><strong class="bold"><span class="koboSpan" id="kobo.265.1">Snappy</span></strong><span class="koboSpan" id="kobo.266.1"> for IoT and phones, the distribution that emerged as the beacon of convergence effort from Canonical, </span><span class="No-Break"><span class="koboSpan" id="kobo.267.1">Ubuntu’s developer.</span></span></p>
<h3><span class="koboSpan" id="kobo.268.1">The flatpak package’s anatomy</span></h3>
<p><span class="koboSpan" id="kobo.269.1">Flatpak is based </span><a id="_idIndexMarker360"/><span class="koboSpan" id="kobo.270.1">on a technology </span><a id="_idIndexMarker361"/><span class="koboSpan" id="kobo.271.1">called </span><strong class="bold"><span class="koboSpan" id="kobo.272.1">OSTree</span></strong><span class="koboSpan" id="kobo.273.1">. </span><span class="koboSpan" id="kobo.273.2">The technology was started by developers from GNOME and Red Hat, and it is now heavily used in Fedora Silverblue in the form of </span><strong class="bold"><span class="koboSpan" id="kobo.274.1">rpm-ostree</span></strong><span class="koboSpan" id="kobo.275.1">. </span><span class="koboSpan" id="kobo.275.2">It is a new </span><a id="_idIndexMarker362"/><span class="koboSpan" id="kobo.276.1">upgrade system for Linux that is meant to work alongside existing package management systems. </span><span class="koboSpan" id="kobo.276.2">It was inspired by Git since it operates similarly. </span><span class="koboSpan" id="kobo.276.3">Consider it as a version control system at the OS level. </span><span class="koboSpan" id="kobo.276.4">It uses a content-addressed object store, allows you to share branches, and offers transactional upgrades, as well as rollback and snapshot options, for </span><span class="No-Break"><span class="koboSpan" id="kobo.277.1">the OS.</span></span></p>
<p><span class="koboSpan" id="kobo.278.1">Currently, the project has changed its </span><a id="_idIndexMarker363"/><span class="koboSpan" id="kobo.279.1">name to </span><strong class="bold"><span class="koboSpan" id="kobo.280.1">libostree</span></strong><span class="koboSpan" id="kobo.281.1"> for a smooth focus on projects that already use the technology. </span><span class="koboSpan" id="kobo.281.2">Among many projects that use it, we will bring just two into the discussion: flatpak and rpm-ostree. </span><span class="koboSpan" id="kobo.281.3">The rpm-ostree project is considered to be a next-generation hybrid package system for distributions such as Fedora and CentOS/RHEL. </span><span class="koboSpan" id="kobo.281.4">They are based on the Atomic project developed by Fedora and Red Hat teams, which brings immutable infrastructure for servers and desktops alike. </span><span class="koboSpan" id="kobo.281.5">The openSUSE developers had a similar technology developed called Snapper, which was an OS snapshot tool for its </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.282.1">btrfs</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.283.1"> filesystems.</span></span></p>
<p><span class="koboSpan" id="kobo.284.1">Flatpak uses libostree, which is similar to rpm-ostree, but it is solely used for desktop application containers, with no bootloader management. </span><span class="koboSpan" id="kobo.284.2">Flatpak uses sandboxing based on another project named </span><strong class="bold"><span class="koboSpan" id="kobo.285.1">Bubblewrap</span></strong><span class="koboSpan" id="kobo.286.1">, which</span><a id="_idIndexMarker364"/><span class="koboSpan" id="kobo.287.1"> allows unprivileged users to access user namespaces and use </span><span class="No-Break"><span class="koboSpan" id="kobo.288.1">container features.</span></span></p>
<p><span class="koboSpan" id="kobo.289.1">Both snaps and flatpaks have full support for graphical installations but also have commands for easier installations and setup from the shell. </span><span class="koboSpan" id="kobo.289.2">In the following sections, we will focus solely on command operations for all </span><span class="No-Break"><span class="koboSpan" id="kobo.290.1">package types.</span></span></p>
<h1 id="_idParaDest-66"><a id="_idTextAnchor081"/><span class="koboSpan" id="kobo.291.1">Managing software packages</span></h1>
<p><span class="koboSpan" id="kobo.292.1">Each distribution has its</span><a id="_idIndexMarker365"/><span class="koboSpan" id="kobo.293.1"> own </span><strong class="bold"><span class="koboSpan" id="kobo.294.1">package manager</span></strong><span class="koboSpan" id="kobo.295.1">. </span><span class="koboSpan" id="kobo.295.2">There are two types of package managers for each distribution – one for low-level and one for high-level </span><a id="_idIndexMarker366"/><span class="koboSpan" id="kobo.296.1">package management. </span><span class="koboSpan" id="kobo.296.2">For an RPM-based distribution such as CentOS or Fedora, the low-level tool is the </span><strong class="source-inline"><span class="koboSpan" id="kobo.297.1">rpm</span></strong><span class="koboSpan" id="kobo.298.1"> command, while the high-level tools are the </span><strong class="source-inline"><span class="koboSpan" id="kobo.299.1">yum</span></strong><span class="koboSpan" id="kobo.300.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.301.1">dnf</span></strong><span class="koboSpan" id="kobo.302.1"> commands. </span><span class="koboSpan" id="kobo.302.2">For openSUSE, another major RPM-based distribution, the low-level tool is the same </span><strong class="source-inline"><span class="koboSpan" id="kobo.303.1">rpm</span></strong><span class="koboSpan" id="kobo.304.1"> command, but in terms of high-level tools, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.305.1">zypper</span></strong><span class="koboSpan" id="kobo.306.1"> command is used. </span><span class="koboSpan" id="kobo.306.2">For DEB-based distributions, the low-level command is </span><strong class="source-inline"><span class="koboSpan" id="kobo.307.1">dpkg</span></strong><span class="koboSpan" id="kobo.308.1"> and the high-level command is </span><strong class="source-inline"><span class="koboSpan" id="kobo.309.1">apt</span></strong><span class="koboSpan" id="kobo.310.1"> (or the now </span><span class="No-Break"><span class="koboSpan" id="kobo.311.1">deprecated </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.312.1">apt-get</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.313.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.314.1">What is the difference between low-level and high-level package managers in Linux? </span><span class="koboSpan" id="kobo.314.2">The low-level package managers are responsible for the backend of any package manipulation and are capable of unpacking packages, running scripts, and installing apps. </span><span class="koboSpan" id="kobo.314.3">The high-end managers are responsible for dependency resolution, installing and downloading packages (and groups of packages), and </span><span class="No-Break"><span class="koboSpan" id="kobo.315.1">metadata searching.</span></span></p>
<h2 id="_idParaDest-67"><a id="_idTextAnchor082"/><span class="koboSpan" id="kobo.316.1">Managing DEB packages</span></h2>
<p><span class="koboSpan" id="kobo.317.1">Usually, for any</span><a id="_idIndexMarker367"/><span class="koboSpan" id="kobo.318.1"> distribution, package management is handled by the administrator or by a user with root privileges (</span><strong class="source-inline"><span class="koboSpan" id="kobo.319.1">sudo</span></strong><span class="koboSpan" id="kobo.320.1">). </span><span class="koboSpan" id="kobo.320.2">Package management implies any type of package manipulation, such as installation, search, download, and removal. </span><span class="koboSpan" id="kobo.320.3">For all these types of operations, there are specific Linux commands, and we will show you how to use them in the </span><span class="No-Break"><span class="koboSpan" id="kobo.321.1">following sections.</span></span></p>
<h3><span class="koboSpan" id="kobo.322.1">The main repositories of Ubuntu and Debian</span></h3>
<p><span class="koboSpan" id="kobo.323.1">Ubuntu’s official</span><a id="_idIndexMarker368"/><span class="koboSpan" id="kobo.324.1"> repositories consist of about 60,000 packages, which take the form of binary </span><strong class="source-inline"><span class="koboSpan" id="kobo.325.1">.deb</span></strong><span class="koboSpan" id="kobo.326.1"> packages or snap packages. </span><span class="koboSpan" id="kobo.326.2">The configuration of the system repositories is stored in one file, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.327.1">/etc/apt/sources.list</span></strong><span class="koboSpan" id="kobo.328.1"> file. </span><span class="koboSpan" id="kobo.328.2">Ubuntu has four main repositories, also called package sources, and you will see them detailed inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.329.1">sources.list</span></strong><span class="koboSpan" id="kobo.330.1"> file. </span><span class="koboSpan" id="kobo.330.2">These repositories are </span><span class="No-Break"><span class="koboSpan" id="kobo.331.1">as follows:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.332.1">Main</span></strong><span class="koboSpan" id="kobo.333.1">: Contains free and open source software supported </span><span class="No-Break"><span class="koboSpan" id="kobo.334.1">by Canonical</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.335.1">Universe</span></strong><span class="koboSpan" id="kobo.336.1">: Contains free and open source software supported by </span><span class="No-Break"><span class="koboSpan" id="kobo.337.1">the community</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.338.1">Restricted</span></strong><span class="koboSpan" id="kobo.339.1">: Contains </span><span class="No-Break"><span class="koboSpan" id="kobo.340.1">proprietary software</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.341.1">Multiverse</span></strong><span class="koboSpan" id="kobo.342.1">: Contains software restricted </span><span class="No-Break"><span class="koboSpan" id="kobo.343.1">by copyright</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.344.1">All the repositories are </span><a id="_idIndexMarker369"/><span class="koboSpan" id="kobo.345.1">enabled by default in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.346.1">sources.list</span></strong><span class="koboSpan" id="kobo.347.1"> file. </span><span class="koboSpan" id="kobo.347.2">If you would like to disable some of them, feel free to edit the </span><span class="No-Break"><span class="koboSpan" id="kobo.348.1">file accordingly.</span></span></p>
<p><span class="koboSpan" id="kobo.349.1">In Debian, the repository information is stored in the same </span><strong class="source-inline"><span class="koboSpan" id="kobo.350.1">/etc/apt/sources.list</span></strong><span class="koboSpan" id="kobo.351.1"> file. </span><span class="koboSpan" id="kobo.351.2">The only difference is that it uses different names for the main package sources, </span><span class="No-Break"><span class="koboSpan" id="kobo.352.1">as follows:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.353.1">main</span></strong><span class="koboSpan" id="kobo.354.1">: Contains software that is compliant with Debian’s free </span><span class="No-Break"><span class="koboSpan" id="kobo.355.1">software guidelines</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.356.1">contrib</span></strong><span class="koboSpan" id="kobo.357.1">: Software that can, or not, be compliant with free software guidelines but is not part of the </span><span class="No-Break"><span class="koboSpan" id="kobo.358.1">main distribution</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.359.1">non-free</span></strong><span class="koboSpan" id="kobo.360.1">: Software that is not open source and is not compliant with free </span><span class="No-Break"><span class="koboSpan" id="kobo.361.1">software guidelines</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.362.1">Debian’s and Ubuntu’s source files are very similar as they have the same information structure inside. </span><span class="koboSpan" id="kobo.362.2">What is different is the parts that are specific to each distribution’s </span><span class="No-Break"><span class="koboSpan" id="kobo.363.1">package source.</span></span></p>
<p><span class="koboSpan" id="kobo.364.1">Both are based on</span><a id="_idIndexMarker370"/><span class="koboSpan" id="kobo.365.1"> Debian’s </span><strong class="bold"><span class="koboSpan" id="kobo.366.1">advanced package tool</span></strong><span class="koboSpan" id="kobo.367.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.368.1">APT</span></strong><span class="koboSpan" id="kobo.369.1">), so we will detail it in the </span><span class="No-Break"><span class="koboSpan" id="kobo.370.1">following section.</span></span></p>
<h3><span class="koboSpan" id="kobo.371.1">APT-related commands</span></h3>
<p><span class="koboSpan" id="kobo.372.1">Until four years ago, packages</span><a id="_idIndexMarker371"/><span class="koboSpan" id="kobo.373.1"> in any Debian-based distribution were implemented using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.374.1">apt-get</span></strong><span class="koboSpan" id="kobo.375.1"> command. </span><span class="koboSpan" id="kobo.375.2">Since then, a new and improved command called </span><strong class="source-inline"><span class="koboSpan" id="kobo.376.1">apt</span></strong><span class="koboSpan" id="kobo.377.1"> (derived from the abbreviation </span><strong class="bold"><span class="koboSpan" id="kobo.378.1">APT</span></strong><span class="koboSpan" id="kobo.379.1">) is used as the high-level package manager. </span><span class="koboSpan" id="kobo.379.2">The new command is more streamlined and better structured than </span><strong class="source-inline"><span class="koboSpan" id="kobo.380.1">apt-get</span></strong><span class="koboSpan" id="kobo.381.1">, thus offering a more </span><span class="No-Break"><span class="koboSpan" id="kobo.382.1">integrated experience.</span></span></p>
<p><span class="koboSpan" id="kobo.383.1">Before doing any kind of work with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.384.1">apt</span></strong><span class="koboSpan" id="kobo.385.1"> command, you should update the list of all available packages in your repositories. </span><span class="koboSpan" id="kobo.385.2">You can do this with the </span><span class="No-Break"><span class="koboSpan" id="kobo.386.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.387.1">
$ sudo apt update</span></pre> <p><span class="koboSpan" id="kobo.388.1">The output of the preceding command will show you if any updates are available. </span><span class="koboSpan" id="kobo.388.2">The number of packages that require updates will be shown, together with a command that you could run if you want more details </span><span class="No-Break"><span class="koboSpan" id="kobo.389.1">about them.</span></span></p>
<p><span class="koboSpan" id="kobo.390.1">Before going any further, we encourage you to use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.391.1">apt --help</span></strong><span class="koboSpan" id="kobo.392.1"> command as this will show you the most </span><a id="_idIndexMarker372"/><span class="koboSpan" id="kobo.393.1">commonly used APT-related commands. </span><span class="koboSpan" id="kobo.393.2">The output is shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.394.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer060">
<span class="koboSpan" id="kobo.395.1"><img alt="Figure 3.5 – The most commonly used apt commands" src="image/Figure_03_05_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.396.1">Figure 3.5 – The most commonly used apt commands</span></p>
<p><span class="koboSpan" id="kobo.397.1">Let’s dive into some of these in </span><span class="No-Break"><span class="koboSpan" id="kobo.398.1">more detail.</span></span></p>
<h4><span class="koboSpan" id="kobo.399.1">Installing and removing packages</span></h4>
<p><span class="koboSpan" id="kobo.400.1">Basic </span><a id="_idIndexMarker373"/><span class="koboSpan" id="kobo.401.1">system administration tasks include installing and removing packages. </span><span class="koboSpan" id="kobo.401.2">In this section, we will show you how to install and remove packages using the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.402.1">apt</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.403.1"> command.</span></span></p>
<p><span class="koboSpan" id="kobo.404.1">To install a new package, you can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.405.1">apt install</span></strong><span class="koboSpan" id="kobo.406.1"> command. </span><span class="koboSpan" id="kobo.406.2">We used this command at the beginning of this chapter when we talked about the DEB package’s anatomy. </span><span class="koboSpan" id="kobo.406.3">Remember that we had to install the </span><strong class="source-inline"><span class="koboSpan" id="kobo.407.1">ar</span></strong><span class="koboSpan" id="kobo.408.1"> command as an alternative to inspect </span><strong class="source-inline"><span class="koboSpan" id="kobo.409.1">.deb</span></strong><span class="koboSpan" id="kobo.410.1"> packages. </span><span class="koboSpan" id="kobo.410.2">Back then, we used the </span><span class="No-Break"><span class="koboSpan" id="kobo.411.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.412.1">
$ sudo apt install binutils</span></pre> <p><span class="koboSpan" id="kobo.413.1">This command installed several packages on the system and among them the one that we need to fulfill our action. </span><span class="koboSpan" id="kobo.413.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.414.1">apt</span></strong><span class="koboSpan" id="kobo.415.1"> command automatically installs any requisite </span><span class="No-Break"><span class="koboSpan" id="kobo.416.1">dependencies too.</span></span></p>
<p><span class="koboSpan" id="kobo.417.1">To remove a package, you</span><a id="_idIndexMarker374"/><span class="koboSpan" id="kobo.418.1"> can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.419.1">apt remove</span></strong><span class="koboSpan" id="kobo.420.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.421.1">apt purge</span></strong><span class="koboSpan" id="kobo.422.1"> command. </span><span class="koboSpan" id="kobo.422.2">The first one removes the installed packages and all their dependencies installed by the </span><strong class="source-inline"><span class="koboSpan" id="kobo.423.1">apt install</span></strong><span class="koboSpan" id="kobo.424.1"> command. </span><span class="koboSpan" id="kobo.424.2">The latter will uninstall the packages, just like </span><strong class="source-inline"><span class="koboSpan" id="kobo.425.1">apt remove</span></strong><span class="koboSpan" id="kobo.426.1">, but also deletes any configuration files created by </span><span class="No-Break"><span class="koboSpan" id="kobo.427.1">the applications.</span></span></p>
<p><span class="koboSpan" id="kobo.428.1">In the following example, we are removing the </span><strong class="source-inline"><span class="koboSpan" id="kobo.429.1">binutils</span></strong><span class="koboSpan" id="kobo.430.1"> applications we installed previously using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.431.1">apt </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.432.1">remove</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.433.1"> command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.434.1">
$ sudo apt remove binutils</span></pre> <p><span class="koboSpan" id="kobo.435.1">The output will show you a list of packages that are no longer needed and remove them from the system, asking for your confirmation to continue. </span><span class="koboSpan" id="kobo.435.2">This is a very good safety measure as it allows you to review the files that are going to be deleted. </span><span class="koboSpan" id="kobo.435.3">If you feel confident about the operation, you can add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.436.1">-y</span></strong><span class="koboSpan" id="kobo.437.1"> parameter at the end of the command, which tells the shell that the answer to any question provided by the command will automatically </span><span class="No-Break"><span class="koboSpan" id="kobo.438.1">be </span></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.439.1">Yes</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.440.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.441.1">However, using </span><strong class="source-inline"><span class="koboSpan" id="kobo.442.1">apt remove</span></strong><span class="koboSpan" id="kobo.443.1"> will not remove all the configuration files related to the removed application. </span><span class="koboSpan" id="kobo.443.2">To see which files are still on your system, you can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.444.1">find</span></strong><span class="koboSpan" id="kobo.445.1"> command. </span><span class="koboSpan" id="kobo.445.2">For example, to see the files related to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.446.1">binutils</span></strong><span class="koboSpan" id="kobo.447.1"> package that were not removed, we can use the </span><span class="No-Break"><span class="koboSpan" id="kobo.448.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.449.1">
sudo find / -type d -name *binutils 2&gt;/dev/null</span></pre> <p><span class="koboSpan" id="kobo.450.1">The output will show the directories (hence the </span><strong class="source-inline"><span class="koboSpan" id="kobo.451.1">-type d</span></strong><span class="koboSpan" id="kobo.452.1"> option that was used with the command), where binutils-related files remain after the removal of </span><span class="No-Break"><span class="koboSpan" id="kobo.453.1">the package.</span></span></p>
<p><span class="koboSpan" id="kobo.454.1">Another tool that’s used to remove packages and all the configuration files associated with them is </span><strong class="source-inline"><span class="koboSpan" id="kobo.455.1">apt purge</span></strong><span class="koboSpan" id="kobo.456.1">. </span><span class="koboSpan" id="kobo.456.2">If you want to use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.457.1">apt purge</span></strong><span class="koboSpan" id="kobo.458.1"> command instead of </span><strong class="source-inline"><span class="koboSpan" id="kobo.459.1">apt remove</span></strong><span class="koboSpan" id="kobo.460.1">, you can use it </span><span class="No-Break"><span class="koboSpan" id="kobo.461.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.462.1">
$ sudo apt purge binutils</span></pre> <p><span class="koboSpan" id="kobo.463.1">The output is similar to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.464.1">apt remove</span></strong><span class="koboSpan" id="kobo.465.1"> command, showing you which packages will be removed and how much space will be freed on the disk, and asking for your confirmation to continue </span><span class="No-Break"><span class="koboSpan" id="kobo.466.1">the operation.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.467.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.468.1">If you plan on using </span><strong class="source-inline"><span class="koboSpan" id="kobo.469.1">apt purge</span></strong><span class="koboSpan" id="kobo.470.1"> to remove the same package (in our case, </span><strong class="source-inline"><span class="koboSpan" id="kobo.471.1">binutils</span></strong><span class="koboSpan" id="kobo.472.1">), you will have to install it again as it was removed using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.473.1">apt </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.474.1">remove</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.475.1"> command.</span></span></p>
<p><span class="koboSpan" id="kobo.476.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.477.1">apt remove</span></strong><span class="koboSpan" id="kobo.478.1"> command has a </span><strong class="source-inline"><span class="koboSpan" id="kobo.479.1">purge</span></strong><span class="koboSpan" id="kobo.480.1"> option too, which has the same outcome as the </span><strong class="source-inline"><span class="koboSpan" id="kobo.481.1">apt purge</span></strong><span class="koboSpan" id="kobo.482.1"> command. </span><span class="koboSpan" id="kobo.482.2">The syntax is </span><span class="No-Break"><span class="koboSpan" id="kobo.483.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.484.1">
sudo apt remove --purge [packagename]</span></pre> <p><span class="koboSpan" id="kobo.485.1">As stated earlier, when using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.486.1">apt remove</span></strong><span class="koboSpan" id="kobo.487.1"> command, some configuration files are left behind in case the operation was an accident and the user wants to revert to the previous configuration. </span><span class="koboSpan" id="kobo.487.2">The</span><a id="_idIndexMarker375"/><span class="koboSpan" id="kobo.488.1"> files that are not deleted by the </span><strong class="source-inline"><span class="koboSpan" id="kobo.489.1">remove</span></strong><span class="koboSpan" id="kobo.490.1"> command are small user configuration files that can easily be restored. </span><span class="koboSpan" id="kobo.490.2">If the operation was not an accident and you still want to get rid of all the files, you can still use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.491.1">apt purge</span></strong><span class="koboSpan" id="kobo.492.1"> command to do that by using the same name as those of the already </span><span class="No-Break"><span class="koboSpan" id="kobo.493.1">removed packages.</span></span></p>
<h4><span class="koboSpan" id="kobo.494.1">Upgrading the system</span></h4>
<p><span class="koboSpan" id="kobo.495.1">Now and </span><a id="_idIndexMarker376"/><span class="koboSpan" id="kobo.496.1">then, you will need to perform a system upgrade to ensure that you have all the latest security updates and patches installed. </span><span class="koboSpan" id="kobo.496.2">In Ubuntu and Debian, you will always use two different commands to accomplish this. </span><span class="koboSpan" id="kobo.496.3">One is </span><strong class="source-inline"><span class="koboSpan" id="kobo.497.1">apt update</span></strong><span class="koboSpan" id="kobo.498.1">, which will update the repository list and makes sure it has all the information concerning the updates that are available for the system. </span><span class="koboSpan" id="kobo.498.2">The other command is </span><strong class="source-inline"><span class="koboSpan" id="kobo.499.1">apt upgrade</span></strong><span class="koboSpan" id="kobo.500.1">, which upgrades the packages. </span><span class="koboSpan" id="kobo.500.2">You can use them both in the same command </span><span class="No-Break"><span class="koboSpan" id="kobo.501.1">using metacharacters:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.502.1">
$ sudo apt update; sudo apt upgrade</span></pre> <p><span class="koboSpan" id="kobo.503.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.504.1">update</span></strong><span class="koboSpan" id="kobo.505.1"> command will sometimes show you which packages are no longer required, with a message similar to </span><span class="No-Break"><span class="koboSpan" id="kobo.506.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.507.1">
The following packages were automatically installed and are no longer required:
  libfprint-2-tod1 libllvm9
Use 'sudo apt autoremove' to remove them.</span></pre> <p><span class="koboSpan" id="kobo.508.1">You can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.509.1">sudo apt autoremove</span></strong><span class="koboSpan" id="kobo.510.1"> command to remove the unneeded packages after you perform the upgrade. </span><span class="koboSpan" id="kobo.510.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.511.1">autoremove</span></strong><span class="koboSpan" id="kobo.512.1"> command’s output will show you which packages will be removed and how much space will be freed on the disk and will ask for your approval to continue </span><span class="No-Break"><span class="koboSpan" id="kobo.513.1">the operation.</span></span></p>
<p><span class="koboSpan" id="kobo.514.1">Let’s say that during our work with Ubuntu, a new distribution is released, and we would like to use that as it has newer packages of the software we use. </span><span class="koboSpan" id="kobo.514.2">Using the command line, we can make a full distribution upgrade. </span><span class="koboSpan" id="kobo.514.3">The command for this action is </span><span class="No-Break"><span class="koboSpan" id="kobo.515.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.516.1">
$ sudo apt dist-upgrade</span></pre> <p><span class="koboSpan" id="kobo.517.1">Similarly, we can also use the </span><span class="No-Break"><span class="koboSpan" id="kobo.518.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.519.1">
$ sudo apt full-upgrade</span></pre> <p><span class="koboSpan" id="kobo.520.1">Upgrading to a newer distribution version should be a flawless process, but this is not always a guarantee. </span><span class="koboSpan" id="kobo.520.2">It all depends on your</span><a id="_idIndexMarker377"/><span class="koboSpan" id="kobo.521.1"> custom configurations. </span><span class="koboSpan" id="kobo.521.2">No matter the situation, we advise you to do a full system backup before upgrading to a </span><span class="No-Break"><span class="koboSpan" id="kobo.522.1">new version.</span></span></p>
<h4><span class="koboSpan" id="kobo.523.1">Managing package information</span></h4>
<p><span class="koboSpan" id="kobo.524.1">Working with </span><a id="_idIndexMarker378"/><span class="koboSpan" id="kobo.525.1">packages sometimes implies the use of information-gathering tools. </span><span class="koboSpan" id="kobo.525.2">Simply installing and removing packages is not enough. </span><span class="koboSpan" id="kobo.525.3">You will need to search for certain packages to show details about them, create lists based on specific criteria, and </span><span class="No-Break"><span class="koboSpan" id="kobo.526.1">so on.</span></span></p>
<p><span class="koboSpan" id="kobo.527.1">To search for a specific package, you can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.528.1">apt search</span></strong><span class="koboSpan" id="kobo.529.1"> command. </span><span class="koboSpan" id="kobo.529.2">It will list all the packages that have the searched string in their name, as well as others that use the string in various ways. </span><span class="koboSpan" id="kobo.529.3">For example, let’s search for the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.530.1">nmap</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.531.1"> package:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.532.1">
$ sudo apt search nmap</span></pre> <p><span class="koboSpan" id="kobo.533.1">The output will show a considerably long list of packages that use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.534.1">nmap</span></strong><span class="koboSpan" id="kobo.535.1"> string in various ways. </span><span class="koboSpan" id="kobo.535.2">You will still have to scroll up and down the list to find the package you want. </span><span class="koboSpan" id="kobo.535.3">For better results, you can pipe the output to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.536.1">grep</span></strong><span class="koboSpan" id="kobo.537.1"> command, but you will notice a warning, similar to the one shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.538.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer061">
<span class="koboSpan" id="kobo.539.1"><img alt="Figure 3.6 – Output of the apt search command" src="image/Figure_03_06_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.540.1">Figure 3.6 – Output of the apt search command</span></p>
<p><span class="koboSpan" id="kobo.541.1">Following the warning, the output shows a short list of packages that contain the </span><strong class="source-inline"><span class="koboSpan" id="kobo.542.1">nmap</span></strong><span class="koboSpan" id="kobo.543.1"> string, and among them is the</span><a id="_idIndexMarker379"/><span class="koboSpan" id="kobo.544.1"> actual package we are looking for, as highlighted in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.545.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.546.1">.5</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.547.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.548.1">To overcome that warning, you can use a legacy command called </span><strong class="source-inline"><span class="koboSpan" id="kobo.549.1">apt-cache search</span></strong><span class="koboSpan" id="kobo.550.1">. </span><span class="koboSpan" id="kobo.550.2">By running it, you will get a list of packages as output, but it won’t be as detailed as the output of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.551.1">apt </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.552.1">search</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.553.1"> command:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer062">
<span class="koboSpan" id="kobo.554.1"><img alt="Figure 3.7 – The output of the apt-cache command" src="image/Figure_03_07_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.555.1">Figure 3.7 – The output of the apt-cache command</span></p>
<p><span class="koboSpan" id="kobo.556.1">Now that we know that the </span><strong class="source-inline"><span class="koboSpan" id="kobo.557.1">nmap</span></strong><span class="koboSpan" id="kobo.558.1"> package exists in Ubuntu repositories, we can investigate it further by showing more details using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.559.1">apt </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.560.1">show</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.561.1"> command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.562.1">
$ apt show nmap</span></pre> <p><span class="koboSpan" id="kobo.563.1">The output will show a detailed </span><a id="_idIndexMarker380"/><span class="koboSpan" id="kobo.564.1">description, including the package’s name, version, priority, origin and section, maintainer, size, dependencies, suggested extra packages, download size, APT sources, </span><span class="No-Break"><span class="koboSpan" id="kobo.565.1">and description.</span></span></p>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.566.1">apt</span></strong><span class="koboSpan" id="kobo.567.1"> also has a useful </span><strong class="source-inline"><span class="koboSpan" id="kobo.568.1">list</span></strong><span class="koboSpan" id="kobo.569.1"> command, which can list packages based on certain criteria. </span><span class="koboSpan" id="kobo.569.2">For example, if we use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.570.1">apt list</span></strong><span class="koboSpan" id="kobo.571.1"> command alone, it will list all the packages available. </span><span class="koboSpan" id="kobo.571.2">But if we use different options, the output will </span><span class="No-Break"><span class="koboSpan" id="kobo.572.1">be personalized.</span></span></p>
<p><span class="koboSpan" id="kobo.573.1">To show the installed packages, we can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.574.1">-- </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.575.1">installed</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.576.1"> option:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.577.1">
$ sudo apt list --installed</span></pre> <p><span class="koboSpan" id="kobo.578.1">To list all the packages, use the </span><span class="No-Break"><span class="koboSpan" id="kobo.579.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.580.1">
$ sudo apt list</span></pre> <p><span class="koboSpan" id="kobo.581.1">For comparative reasons, we will redirect each output to a different file, and then compare the two files. </span><span class="koboSpan" id="kobo.581.2">This is an easier task to do to see the differences between the two outputs since the lists are reasonably large. </span><span class="koboSpan" id="kobo.581.3">We will now run the specific commands, </span><span class="No-Break"><span class="koboSpan" id="kobo.582.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.583.1">
$ sudo apt list --installed &gt; list-installed
$ sudo apt list &gt; list</span></pre> <p><span class="koboSpan" id="kobo.584.1">You can compare the two resulting files by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.585.1">ls -la</span></strong><span class="koboSpan" id="kobo.586.1"> command and observe the difference in size. </span><span class="koboSpan" id="kobo.586.2">You will see that the </span><strong class="source-inline"><span class="koboSpan" id="kobo.587.1">list</span></strong><span class="koboSpan" id="kobo.588.1"> file will be significantly larger than the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.589.1">list-installed</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.590.1"> file.</span></span></p>
<p><span class="koboSpan" id="kobo.591.1">There are other ways in which to compare the two outputs, and we would like to let you discover them by yourself, as an exercise for this sub-section. </span><span class="koboSpan" id="kobo.591.2">Feel free to use any other APT-related commands you would like, and practice with them enough to get familiar with their use. </span><span class="koboSpan" id="kobo.591.3">APT is a powerful tool, and every system administrator needs to know how to use it to sustain a usable and well-maintained Linux system. </span><span class="koboSpan" id="kobo.591.4">Usability is closely related to the apps that are</span><a id="_idIndexMarker381"/><span class="koboSpan" id="kobo.592.1"> used and their </span><span class="No-Break"><span class="koboSpan" id="kobo.593.1">system-wide optimization.</span></span></p>
<h2 id="_idParaDest-68"><a id="_idTextAnchor083"/><span class="koboSpan" id="kobo.594.1">Managing RPM packages</span></h2>
<p><span class="koboSpan" id="kobo.595.1">RPM packages are the equivalent packages for Linux distributions</span><a id="_idIndexMarker382"/><span class="koboSpan" id="kobo.596.1"> such as Fedora, AlmaLinux, Rocky Linux, RHEL, and openSUSE/SLES. </span><span class="koboSpan" id="kobo.596.2">They have dedicated high-level tools, including </span><strong class="source-inline"><span class="koboSpan" id="kobo.597.1">dnf</span></strong><span class="koboSpan" id="kobo.598.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.599.1">yum</span></strong><span class="koboSpan" id="kobo.600.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.601.1">zypper</span></strong><span class="koboSpan" id="kobo.602.1">. </span><span class="koboSpan" id="kobo.602.2">The low-level tool is the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.603.1">rpm</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.604.1"> command.</span></span></p>
<p><span class="koboSpan" id="kobo.605.1">In RHEL, the default </span><a id="_idIndexMarker383"/><span class="koboSpan" id="kobo.606.1">package manager is </span><strong class="bold"><span class="koboSpan" id="kobo.607.1">Yellow Dog Updater, Modified</span></strong><span class="koboSpan" id="kobo.608.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.609.1">YUM</span></strong><span class="koboSpan" id="kobo.610.1">) and it is based on </span><strong class="bold"><span class="koboSpan" id="kobo.611.1">Dandified YUM</span></strong><span class="koboSpan" id="kobo.612.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.613.1">DNF</span></strong><span class="koboSpan" id="kobo.614.1">), the default package manager in Fedora. </span><span class="koboSpan" id="kobo.614.2">If you use </span><a id="_idIndexMarker384"/><span class="koboSpan" id="kobo.615.1">both Fedora and RHEL, for ease of use, you can use only one of those as they are the same command. </span><span class="koboSpan" id="kobo.615.2">For consistency, we will use YUM for all the examples in </span><span class="No-Break"><span class="koboSpan" id="kobo.616.1">this chapter.</span></span></p>
<p><span class="koboSpan" id="kobo.617.1">YUM is the default high-level manager. </span><span class="koboSpan" id="kobo.617.2">It can install, remove, update, and package queries, as well as resolve dependencies. </span><span class="koboSpan" id="kobo.617.3">YUM can manage packages installed from repositories or local </span><strong class="source-inline"><span class="koboSpan" id="kobo.618.1">.</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.619.1">rpm</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.620.1"> packages.</span></span></p>
<h3><span class="koboSpan" id="kobo.621.1">The main repositories in Fedora/RHEL-based distributions</span></h3>
<p><span class="koboSpan" id="kobo.622.1">Repositories are all managed from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.623.1">/etc/yum.repos.d/</span></strong><span class="koboSpan" id="kobo.624.1"> directory, with</span><a id="_idIndexMarker385"/><span class="koboSpan" id="kobo.625.1"> configuration available inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.626.1">/etc/yum.conf</span></strong><span class="koboSpan" id="kobo.627.1"> file. </span><span class="koboSpan" id="kobo.627.2">If you do a listing for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.628.1">repos</span></strong><span class="koboSpan" id="kobo.629.1"> directory, the output will be similar to the </span><span class="No-Break"><span class="koboSpan" id="kobo.630.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer063">
<span class="koboSpan" id="kobo.631.1"><img alt="Figure 3.8 – RHEL derivative repositories" src="image/Figure_03_08_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.632.1">Figure 3.8 – RHEL derivative repositories</span></p>
<p><span class="koboSpan" id="kobo.633.1">All these files listed contain vital information about the repository, such</span><a id="_idIndexMarker386"/><span class="koboSpan" id="kobo.634.1"> as its name, mirror list, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.635.1">gpg</span></strong><span class="koboSpan" id="kobo.636.1"> key’s location, and enabled status. </span><span class="koboSpan" id="kobo.636.2">All the ones listed are </span><span class="No-Break"><span class="koboSpan" id="kobo.637.1">official repositories.</span></span></p>
<h3><span class="koboSpan" id="kobo.638.1">YUM-related commands</span></h3>
<p><span class="koboSpan" id="kobo.639.1">YUM has many commands and options, but the most </span><a id="_idIndexMarker387"/><span class="koboSpan" id="kobo.640.1">commonly used ones are related to package installation, removal, search, information query, system update, and </span><span class="No-Break"><span class="koboSpan" id="kobo.641.1">repository</span></span><span class="No-Break"><a id="_idIndexMarker388"/></span><span class="No-Break"><span class="koboSpan" id="kobo.642.1"> listing.</span></span></p>
<h4><span class="koboSpan" id="kobo.643.1">Installing and removing packages</span></h4>
<p><span class="koboSpan" id="kobo.644.1">To install a package from a repository in AlmaLinux/Rocky Linux (or Fedora), simply run the </span><strong class="source-inline"><span class="koboSpan" id="kobo.645.1">yum install</span></strong><span class="koboSpan" id="kobo.646.1"> command. </span><span class="koboSpan" id="kobo.646.2">In the</span><a id="_idIndexMarker389"/><span class="koboSpan" id="kobo.647.1"> following example, we will install the GIMP application from the </span><span class="No-Break"><span class="koboSpan" id="kobo.648.1">command line:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.649.1">
$ sudo yum install gimp</span></pre> <p><span class="koboSpan" id="kobo.650.1">If you already have a package downloaded and would like to install it, you can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.651.1">yum localinstall</span></strong><span class="koboSpan" id="kobo.652.1"> command. </span><span class="koboSpan" id="kobo.652.2">Here, we have downloaded the 1password </span><strong class="source-inline"><span class="koboSpan" id="kobo.653.1">.</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.654.1">rpm</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.655.1"> package:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.656.1">
wget https://downloads.1password.com/linux/rpm/stable/x86_64/1password-latest.rpm</span></pre> <p><span class="koboSpan" id="kobo.657.1">Then, we installed it with the </span><span class="No-Break"><span class="koboSpan" id="kobo.658.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.659.1">
sudo yum localinstall 1password-latest.rpm</span></pre> <p><span class="koboSpan" id="kobo.660.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.661.1">localinstall</span></strong><span class="koboSpan" id="kobo.662.1"> command automatically resolves the dependencies needed and shows the source (repository) for each </span><span class="No-Break"><span class="koboSpan" id="kobo.663.1">of them.</span></span></p>
<p><span class="koboSpan" id="kobo.664.1">This is a very powerful command that </span><a id="_idIndexMarker390"/><span class="koboSpan" id="kobo.665.1">makes using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.666.1">rpm</span></strong><span class="koboSpan" id="kobo.667.1"> command itself almost redundant in some cases. </span><span class="koboSpan" id="kobo.667.2">The main difference between the </span><strong class="source-inline"><span class="koboSpan" id="kobo.668.1">yum install</span></strong><span class="koboSpan" id="kobo.669.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.670.1">yum localinstall</span></strong><span class="koboSpan" id="kobo.671.1"> commands is that the latter is capable of solving dependencies for locally downloaded packages. </span><span class="koboSpan" id="kobo.671.2">While the former looks for packages inside the active repositories, the latter looks for packages to install in the current </span><span class="No-Break"><span class="koboSpan" id="kobo.672.1">working directory.</span></span></p>
<p><span class="koboSpan" id="kobo.673.1">To remove a package from</span><a id="_idIndexMarker391"/><span class="koboSpan" id="kobo.674.1"> the system, use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.675.1">yum remove</span></strong><span class="koboSpan" id="kobo.676.1"> command. </span><span class="koboSpan" id="kobo.676.2">We will remove the newly installed </span><span class="No-Break"><span class="koboSpan" id="kobo.677.1">1password package:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.678.1">
sudo yum remove 1password.x86_64</span></pre> <p><span class="koboSpan" id="kobo.679.1">You will be asked if you want to remove all the packages that the application installed. </span><span class="koboSpan" id="kobo.679.2">Choose accordingly </span><span class="No-Break"><span class="koboSpan" id="kobo.680.1">and proceed.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.681.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.682.1">The default action for pressing the </span><em class="italic"><span class="koboSpan" id="kobo.683.1">Enter</span></em><span class="koboSpan" id="kobo.684.1"> or </span><em class="italic"><span class="koboSpan" id="kobo.685.1">Return</span></em><span class="koboSpan" id="kobo.686.1"> key while inside a command dialogue in Fedora or RHEL derivatives is </span><em class="italic"><span class="koboSpan" id="kobo.687.1">N</span></em><span class="koboSpan" id="kobo.688.1"> (for no, or negative), while in Ubuntu, the default action is set to </span><em class="italic"><span class="koboSpan" id="kobo.689.1">Y</span></em><span class="koboSpan" id="kobo.690.1"> (for yes). </span><span class="koboSpan" id="kobo.690.2">This is a precautionary safety measure, which requires your extra attention </span><span class="No-Break"><span class="koboSpan" id="kobo.691.1">and intervention.</span></span></p>
<p><span class="koboSpan" id="kobo.692.1">The output, very similar to the output of the</span><a id="_idIndexMarker392"/><span class="koboSpan" id="kobo.693.1"> installation command, will show you which packages and dependencies will be removed if you proceed with </span><span class="No-Break"><span class="koboSpan" id="kobo.694.1">the command.</span></span></p>
<p><span class="koboSpan" id="kobo.695.1">As you can see, all the dependencies installed with the package using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.696.1">yum localinstall</span></strong><span class="koboSpan" id="kobo.697.1"> command will be removed using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.698.1">yum remove</span></strong><span class="koboSpan" id="kobo.699.1"> command. </span><span class="koboSpan" id="kobo.699.2">If you’re asked to proceed, type </span><strong class="source-inline"><span class="koboSpan" id="kobo.700.1">y</span></strong><span class="koboSpan" id="kobo.701.1"> and continue with </span><span class="No-Break"><span class="koboSpan" id="kobo.702.1">the operation.</span></span></p>
<h4><span class="koboSpan" id="kobo.703.1">Updating the system</span></h4>
<p><span class="koboSpan" id="kobo.704.1">To upgrade a Fedora/RHEL-based system, we can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.705.1">yum upgrade</span></strong><span class="koboSpan" id="kobo.706.1"> command. </span><span class="koboSpan" id="kobo.706.2">There is also a </span><strong class="source-inline"><span class="koboSpan" id="kobo.707.1">yum update</span></strong><span class="koboSpan" id="kobo.708.1"> command, which</span><a id="_idIndexMarker393"/><span class="koboSpan" id="kobo.709.1"> has the same effect by updating the </span><span class="No-Break"><span class="koboSpan" id="kobo.710.1">installed packages:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.711.1">
$ sudo yum upgrade</span></pre> <p><span class="koboSpan" id="kobo.712.1">You can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.713.1">-y</span></strong><span class="koboSpan" id="kobo.714.1"> option to automatically respond to the </span><span class="No-Break"><span class="koboSpan" id="kobo.715.1">command’s questions.</span></span></p>
<p><span class="koboSpan" id="kobo.716.1">There is also an </span><strong class="source-inline"><span class="koboSpan" id="kobo.717.1">upgrade-minimal</span></strong><span class="koboSpan" id="kobo.718.1"> command, which installs only the newest security updates </span><span class="No-Break"><span class="koboSpan" id="kobo.719.1">for packages.</span></span></p>
<h4><span class="koboSpan" id="kobo.720.1">Managing package information</span></h4>
<p><span class="koboSpan" id="kobo.721.1">Managing files with </span><strong class="source-inline"><span class="koboSpan" id="kobo.722.1">yum</span></strong><span class="koboSpan" id="kobo.723.1"> is very similar to managing files with </span><strong class="source-inline"><span class="koboSpan" id="kobo.724.1">apt</span></strong><span class="koboSpan" id="kobo.725.1">. </span><span class="koboSpan" id="kobo.725.2">There are plenty of commands to use, and we will </span><a id="_idIndexMarker394"/><span class="koboSpan" id="kobo.726.1">detail some of them – the ones we consider to be the most commonly used. </span><span class="koboSpan" id="kobo.726.2">To find out more about those commands and their use, run </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.727.1">yum --help</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.728.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.729.1">To see an overview of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.730.1">yum</span></strong><span class="koboSpan" id="kobo.731.1"> command history and which package was managed, use the </span><span class="No-Break"><span class="koboSpan" id="kobo.732.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.733.1">
$ sudo yum history</span></pre> <p><span class="koboSpan" id="kobo.734.1">This will give you an output that shows every </span><strong class="source-inline"><span class="koboSpan" id="kobo.735.1">yum</span></strong><span class="koboSpan" id="kobo.736.1"> command that was run, how many packages were altered, and the time and date when the actions were executed, as in the </span><span class="No-Break"><span class="koboSpan" id="kobo.737.1">following example:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer064">
<span class="koboSpan" id="kobo.738.1"><img alt="Figure 3.9 – Using the yum history command" src="image/Figure_03_09_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.739.1">Figure 3.9 – Using the yum history command</span></p>
<p><span class="koboSpan" id="kobo.740.1">To show details about a certain package, we have the </span><strong class="source-inline"><span class="koboSpan" id="kobo.741.1">yum info</span></strong><span class="koboSpan" id="kobo.742.1"> command. </span><span class="koboSpan" id="kobo.742.2">We will query the </span><strong class="source-inline"><span class="koboSpan" id="kobo.743.1">nmap</span></strong><span class="koboSpan" id="kobo.744.1"> package, similar to what we did in Ubuntu. </span><span class="koboSpan" id="kobo.744.2">In CentOS, the command will be </span><span class="No-Break"><span class="koboSpan" id="kobo.745.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer065">
<span class="koboSpan" id="kobo.746.1"><img alt="Figure 3.10 – Using the yum info command" src="image/Figure_03_10_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.747.1">Figure 3.10 – Using the yum info command</span></p>
<p><span class="koboSpan" id="kobo.748.1">The output will show</span><a id="_idIndexMarker395"/><span class="koboSpan" id="kobo.749.1"> you the name, version, release, source, repository, and description, very similar to what we saw with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.750.1">.</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.751.1">deb</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.752.1"> packages.</span></span></p>
<p><span class="koboSpan" id="kobo.753.1">To list all the installed packages or all the packages for that matter, we can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.754.1">yum </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.755.1">list</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.756.1"> command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.757.1">
# yum list</span></pre> <p><span class="koboSpan" id="kobo.758.1">To see only the installed packages, run the </span><span class="No-Break"><span class="koboSpan" id="kobo.759.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.760.1">
# yum list installed</span></pre> <p><span class="koboSpan" id="kobo.761.1">If we redirect the output of each command to specific files and then compare the two files, we will see the differences between them, similar to what we did in Ubuntu. </span><span class="koboSpan" id="kobo.761.2">The output shows the name of the packages, followed by the version and release number, and the repository from which it was installed. </span><span class="koboSpan" id="kobo.761.3">Here is a </span><span class="No-Break"><span class="koboSpan" id="kobo.762.1">short excerpt:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer066">
<span class="koboSpan" id="kobo.763.1"><img alt="Figure 3.11 – Excerpt of the yum list installed command" src="image/Figure_03_11_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.764.1">Figure 3.11 – Excerpt of the yum list installed command</span></p>
<p><span class="koboSpan" id="kobo.765.1">As we have covered the most commonly used commands for both DEB and RPM files, we did not cover a specific package manager for openSUSE and SUSE SLE called </span><strong class="bold"><span class="koboSpan" id="kobo.766.1">Zypper</span></strong><span class="koboSpan" id="kobo.767.1">. </span><span class="koboSpan" id="kobo.767.2">We will quickly show you some </span><a id="_idIndexMarker396"/><span class="koboSpan" id="kobo.768.1">commands to get you acquainted with Zypper and let you give openSUSE a </span><span class="No-Break"><span class="koboSpan" id="kobo.769.1">try next.</span></span></p>
<h3><span class="koboSpan" id="kobo.770.1">Working with Zypper</span></h3>
<p><span class="koboSpan" id="kobo.771.1">In the case </span><a id="_idIndexMarker397"/><span class="koboSpan" id="kobo.772.1">of openSUSE, </span><strong class="bold"><span class="koboSpan" id="kobo.773.1">Zypper</span></strong><span class="koboSpan" id="kobo.774.1"> is the package </span><a id="_idIndexMarker398"/><span class="koboSpan" id="kobo.775.1">manager, similar to APT and DNF from Debian/Ubuntu and Fedora/RHEL. </span><span class="koboSpan" id="kobo.775.2">The following sections cover some </span><span class="No-Break"><span class="koboSpan" id="kobo.776.1">useful commands.</span></span></p>
<h4><span class="koboSpan" id="kobo.777.1">Installing and removing packages</span></h4>
<p><span class="koboSpan" id="kobo.778.1">Similar to using APT and DNF, the Zypper package manager in openSUSE is used to install and remove packages using</span><a id="_idIndexMarker399"/><span class="koboSpan" id="kobo.779.1"> almost the same syntax. </span><span class="koboSpan" id="kobo.779.2">For example, we will install </span><strong class="source-inline"><span class="koboSpan" id="kobo.780.1">nmap</span></strong><span class="koboSpan" id="kobo.781.1"> using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.782.1">zypper</span></strong><span class="koboSpan" id="kobo.783.1"> command. </span><span class="koboSpan" id="kobo.783.2">But first, let’s search for the name in the respective repositories to see if it exists. </span><span class="koboSpan" id="kobo.783.3">We will use the </span><span class="No-Break"><span class="koboSpan" id="kobo.784.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.785.1">
sudo zypper search nmap</span></pre> <p><span class="koboSpan" id="kobo.786.1">The output of this command is a list of packages containing the </span><strong class="source-inline"><span class="koboSpan" id="kobo.787.1">nmap</span></strong><span class="koboSpan" id="kobo.788.1"> string in their name, together with the type and </span><span class="No-Break"><span class="koboSpan" id="kobo.789.1">a summary:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer067">
<span class="koboSpan" id="kobo.790.1"><img alt="Figure 3.12 – Using the zypper search command in openSUSE" src="image/Figure_03_12_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.791.1">Figure 3.12 – Using the zypper search command in openSUSE</span></p>
<p><span class="koboSpan" id="kobo.792.1">You will notice </span><strong class="source-inline"><span class="koboSpan" id="kobo.793.1">S</span></strong><span class="koboSpan" id="kobo.794.1"> in the first column of the list. </span><span class="koboSpan" id="kobo.794.2">It consists of the status of the package, and the output will be different if the package was </span><span class="No-Break"><span class="koboSpan" id="kobo.795.1">already installed.</span></span></p>
<p><span class="koboSpan" id="kobo.796.1">From the search output, we </span><a id="_idIndexMarker400"/><span class="koboSpan" id="kobo.797.1">can see that the name of the package for the Nmap application is </span><strong class="source-inline"><span class="koboSpan" id="kobo.798.1">nmap</span></strong><span class="koboSpan" id="kobo.799.1"> (it could have been a different name, hence why we used the </span><strong class="source-inline"><span class="koboSpan" id="kobo.800.1">search</span></strong><span class="koboSpan" id="kobo.801.1"> command in the first place), so we will proceed and install it on our system. </span><span class="koboSpan" id="kobo.801.2">We will use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.802.1">zypper install</span></strong><span class="koboSpan" id="kobo.803.1"> command to </span><span class="No-Break"><span class="koboSpan" id="kobo.804.1">do so.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.805.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.806.1">In openSUSE, you can use short versions of the command. </span><span class="koboSpan" id="kobo.806.2">For example, instead of using </span><strong class="source-inline"><span class="koboSpan" id="kobo.807.1">zypper install</span></strong><span class="koboSpan" id="kobo.808.1">, you can use </span><strong class="source-inline"><span class="koboSpan" id="kobo.809.1">zypper in</span></strong><span class="koboSpan" id="kobo.810.1">, followed by the name of the package you want to install. </span><span class="koboSpan" id="kobo.810.2">The same goes for </span><strong class="source-inline"><span class="koboSpan" id="kobo.811.1">zypper update</span></strong><span class="koboSpan" id="kobo.812.1">, which can be used as </span><strong class="source-inline"><span class="koboSpan" id="kobo.813.1">zypper up</span></strong><span class="koboSpan" id="kobo.814.1">, and also for </span><strong class="source-inline"><span class="koboSpan" id="kobo.815.1">dist-upgrade</span></strong><span class="koboSpan" id="kobo.816.1">, where you can use </span><strong class="source-inline"><span class="koboSpan" id="kobo.817.1">dup</span></strong><span class="koboSpan" id="kobo.818.1">. </span><span class="koboSpan" id="kobo.818.2">Alternatively, you can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.819.1">zypper remove</span></strong><span class="koboSpan" id="kobo.820.1"> command as </span><strong class="source-inline"><span class="koboSpan" id="kobo.821.1">zypper rm</span></strong><span class="koboSpan" id="kobo.822.1">. </span><span class="koboSpan" id="kobo.822.2">Check the manual pages for </span><span class="No-Break"><span class="koboSpan" id="kobo.823.1">more information.</span></span></p>
<p><span class="koboSpan" id="kobo.824.1">So, here is the command to install the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.825.1">nmap</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.826.1"> package:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.827.1">
sudo zypper install nmap</span></pre> <p><span class="koboSpan" id="kobo.828.1">Alternatively, you can use the </span><span class="No-Break"><span class="koboSpan" id="kobo.829.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.830.1">
sudo zypper in nmap</span></pre> <p><span class="koboSpan" id="kobo.831.1">You can see the output in the </span><span class="No-Break"><span class="koboSpan" id="kobo.832.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer068">
<span class="koboSpan" id="kobo.833.1"><img alt="Figure 3.13 – Using the zypper in command" src="image/Figure_03_13_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.834.1">Figure 3.13 – Using the zypper in command</span></p>
<p><span class="koboSpan" id="kobo.835.1">The output shows</span><a id="_idIndexMarker401"/><span class="koboSpan" id="kobo.836.1"> which packages will be installed. </span><span class="koboSpan" id="kobo.836.2">What is important to notice here is that Zypper is automatically dealing with dependencies, just like other package managers. </span><span class="koboSpan" id="kobo.836.3">Besides </span><strong class="source-inline"><span class="koboSpan" id="kobo.837.1">nmap</span></strong><span class="koboSpan" id="kobo.838.1">, there are two more library packages ready to be installed. </span><span class="koboSpan" id="kobo.838.2">Type </span><strong class="source-inline"><span class="koboSpan" id="kobo.839.1">y</span></strong><span class="koboSpan" id="kobo.840.1"> to continue the installation and the packages will </span><span class="No-Break"><span class="koboSpan" id="kobo.841.1">be installed.</span></span></p>
<p><span class="koboSpan" id="kobo.842.1">Now, let’s use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.843.1">zypper search nmap</span></strong><span class="koboSpan" id="kobo.844.1"> command one more time to see how the list has changed when it comes to showing the package information </span><span class="No-Break"><span class="koboSpan" id="kobo.845.1">about </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.846.1">nmap</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.847.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer069">
<span class="koboSpan" id="kobo.848.1"><img alt="Figure 3.14 – Checking the status of nmap with zypper search" src="image/Figure_03_14_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.849.1">Figure 3.14 – Checking the status of nmap with zypper search</span></p>
<p><span class="koboSpan" id="kobo.850.1">In the output, you will see that the first column of the list has </span><strong class="source-inline"><span class="koboSpan" id="kobo.851.1">i+</span></strong><span class="koboSpan" id="kobo.852.1"> in front of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.853.1">nmap</span></strong><span class="koboSpan" id="kobo.854.1"> package we just installed. </span><span class="koboSpan" id="kobo.854.2">This means that the package and its dependencies are already installed. </span><span class="koboSpan" id="kobo.854.3">So, if you are searching for some package and it is already installed, you will know this by checking the first column of the list, which is the </span><span class="No-Break"><span class="koboSpan" id="kobo.855.1">status column.</span></span></p>
<p><span class="koboSpan" id="kobo.856.1">Now, let’s remove the same package we already installed. </span><span class="koboSpan" id="kobo.856.2">We will use the </span><span class="No-Break"><span class="koboSpan" id="kobo.857.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.858.1">
sudo zypper remove nmap</span></pre> <p><span class="koboSpan" id="kobo.859.1">Alternatively, we can use the </span><span class="No-Break"><span class="koboSpan" id="kobo.860.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.861.1">
sudo zypper rm nmap</span></pre> <p><span class="koboSpan" id="kobo.862.1">The output is shown</span><a id="_idIndexMarker402"/><span class="koboSpan" id="kobo.863.1"> in the </span><span class="No-Break"><span class="koboSpan" id="kobo.864.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer070">
<span class="koboSpan" id="kobo.865.1"><img alt="Figure 3.15 – Using the zypper remove command" src="image/Figure_03_15_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.866.1">Figure 3.15 – Using the zypper remove command</span></p>
<p><span class="koboSpan" id="kobo.867.1">The output of this command shows which packages are going to be removed. </span><span class="koboSpan" id="kobo.867.2">As you can see, only the </span><strong class="source-inline"><span class="koboSpan" id="kobo.868.1">nmap</span></strong><span class="koboSpan" id="kobo.869.1"> package will be removed; the other dependencies installed that were alongside won’t be removed. </span><span class="koboSpan" id="kobo.869.2">To remove them together with the package, use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.870.1">--clean-deps</span></strong><span class="koboSpan" id="kobo.871.1"> argument when using the command. </span><span class="koboSpan" id="kobo.871.2">Details are shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.872.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer071">
<span class="koboSpan" id="kobo.873.1"><img alt="Figure 3.16 – Removing dependencies" src="image/Figure_03_16_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.874.1">Figure 3.16 – Removing dependencies</span></p>
<p><span class="koboSpan" id="kobo.875.1">Now that you’ve learned how to use </span><strong class="source-inline"><span class="koboSpan" id="kobo.876.1">zypper</span></strong><span class="koboSpan" id="kobo.877.1"> to install and remove packages in openSUSE, let’s learn how to use it to update or upgrade the </span><span class="No-Break"><span class="koboSpan" id="kobo.878.1">entire system.</span></span></p>
<h4><span class="koboSpan" id="kobo.879.1">Upgrading and updating the system</span></h4>
<p><span class="koboSpan" id="kobo.880.1">Before updating</span><a id="_idIndexMarker403"/><span class="koboSpan" id="kobo.881.1"> a system, you might want to see which updates are available. </span><span class="koboSpan" id="kobo.881.2">For this, you</span><a id="_idIndexMarker404"/><span class="koboSpan" id="kobo.882.1"> can use the </span><span class="No-Break"><span class="koboSpan" id="kobo.883.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.884.1">
zypper list-updates</span></pre> <p><span class="koboSpan" id="kobo.885.1">The output of this command will show all the updates available on your system. </span><span class="koboSpan" id="kobo.885.2">To install the updates, use the </span><span class="No-Break"><span class="koboSpan" id="kobo.886.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.887.1">
sudo zypper update</span></pre> <p><span class="koboSpan" id="kobo.888.1">An alternative is the </span><span class="No-Break"><span class="koboSpan" id="kobo.889.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.890.1">
sudo zypper up</span></pre> <p><span class="koboSpan" id="kobo.891.1">If you use these commands with no parameters, as we just showed, all the available updates will be installed. </span><span class="koboSpan" id="kobo.891.2">You can also update individual packages by including the package name as a parameter for the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.892.1">update</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.893.1"> command.</span></span></p>
<p><span class="koboSpan" id="kobo.894.1">Some more useful commands in openSUSE are used for adding and managing locks to a package if we don’t want it to be updated or removed. </span><span class="koboSpan" id="kobo.894.2">Let’s learn how to do this using the same </span><strong class="source-inline"><span class="koboSpan" id="kobo.895.1">nmap</span></strong><span class="koboSpan" id="kobo.896.1"> package. </span><span class="koboSpan" id="kobo.896.2">If you removed it as we did in the previous section, please install it again. </span><span class="koboSpan" id="kobo.896.3">We will add a lock, check for that lock, and then remove the lock for </span><span class="No-Break"><span class="koboSpan" id="kobo.897.1">the package.</span></span></p>
<p><span class="koboSpan" id="kobo.898.1">To add a lock to a package, use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.899.1">add-lock</span></strong><span class="koboSpan" id="kobo.900.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.901.1">zypper al</span></strong><span class="koboSpan" id="kobo.902.1"> command. </span><span class="koboSpan" id="kobo.902.2">To see the locked packages on your system, you can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.903.1">zypper ll</span></strong><span class="koboSpan" id="kobo.904.1"> command (list locks); to remove a lock from a package, you can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.905.1">zypper rl</span></strong><span class="koboSpan" id="kobo.906.1"> command (</span><span class="No-Break"><span class="koboSpan" id="kobo.907.1">remove locks):</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer072">
<span class="koboSpan" id="kobo.908.1"><img alt="Figure 3.17 – Adding and removing locks to and from packages with Zypper" src="image/Figure_03_17_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.909.1">Figure 3.17 – Adding and removing locks to and from packages with Zypper</span></p>
<p><span class="koboSpan" id="kobo.910.1">Now, let’s lock the </span><strong class="source-inline"><span class="koboSpan" id="kobo.911.1">nmap</span></strong><span class="koboSpan" id="kobo.912.1"> package again and try to remove it. </span><span class="koboSpan" id="kobo.912.2">You will see that the package will not be removed. </span><span class="koboSpan" id="kobo.912.3">First, you will be asked what to do to remove it. </span><span class="koboSpan" id="kobo.912.4">Details are shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.913.1">following figure:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer073">
<span class="koboSpan" id="kobo.914.1"><img alt="Figure 3.18 – Trying to remove a locked package" src="image/Figure_03_18_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.915.1">Figure 3.18 – Trying to remove a locked package</span></p>
<p><span class="koboSpan" id="kobo.916.1">Updating is</span><a id="_idIndexMarker405"/><span class="koboSpan" id="kobo.917.1"> straightforward, and you also learned how to use the lock option in Zypper to protect different packages. </span><span class="koboSpan" id="kobo.917.2">Now that you know how to update your openSUSE </span><a id="_idIndexMarker406"/><span class="koboSpan" id="kobo.918.1">system, we’ll learn how we can find information about certain packages in the </span><span class="No-Break"><span class="koboSpan" id="kobo.919.1">following section.</span></span></p>
<h4><span class="koboSpan" id="kobo.920.1">Managing package information</span></h4>
<p><span class="koboSpan" id="kobo.921.1">As shown when using the APT and DNF package managers in Ubuntu and Fedora, we can use Zypper in </span><a id="_idIndexMarker407"/><span class="koboSpan" id="kobo.922.1">openSUSE to obtain information about packages. </span><span class="koboSpan" id="kobo.922.2">Let’s use the same </span><strong class="source-inline"><span class="koboSpan" id="kobo.923.1">nmap</span></strong><span class="koboSpan" id="kobo.924.1"> package as in the previous section and obtain more information about it. </span><span class="koboSpan" id="kobo.924.2">To do this, we will use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.925.1">zypper </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.926.1">info</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.927.1"> command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.928.1">
sudo zypper info nmap</span></pre> <p><span class="koboSpan" id="kobo.929.1">As shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.930.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.931.1">.19</span></em><span class="koboSpan" id="kobo.932.1">, the information provided is similar to that in Ubuntu and RHEL-based distributions. </span><span class="koboSpan" id="kobo.932.2">As we uninstalled the </span><strong class="source-inline"><span class="koboSpan" id="kobo.933.1">nmap</span></strong><span class="koboSpan" id="kobo.934.1"> package, the information shown in the output will state that the package is not installed. </span><span class="koboSpan" id="kobo.934.2">There is also a longer description for the package, which we did not include in the </span><span class="No-Break"><span class="koboSpan" id="kobo.935.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer074">
<span class="koboSpan" id="kobo.936.1"><img alt="Figure 3.19 – Using the zypper info command" src="image/Figure_03_19_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.937.1">Figure 3.19 – Using the zypper info command</span></p>
<p><span class="koboSpan" id="kobo.938.1">Now, let’s learn how </span><a id="_idIndexMarker408"/><span class="koboSpan" id="kobo.939.1">to manage flatpaks and snaps on a </span><span class="No-Break"><span class="koboSpan" id="kobo.940.1">Linux machine.</span></span></p>
<h2 id="_idParaDest-69"><a id="_idTextAnchor084"/><span class="koboSpan" id="kobo.941.1">Using the snap and flatpak packages</span></h2>
<p><span class="koboSpan" id="kobo.942.1">Snaps and </span><a id="_idIndexMarker409"/><span class="koboSpan" id="kobo.943.1">flatpaks are relatively new package types that are used in various Linux distributions. </span><span class="koboSpan" id="kobo.943.2">In this </span><a id="_idIndexMarker410"/><span class="koboSpan" id="kobo.944.1">section, we will show you how to manage those types of packages. </span><span class="koboSpan" id="kobo.944.2">For snaps, we will use Ubuntu as our test distribution, while for flatpaks, we will use Fedora, even though, with a little bit of work, both package types can work on </span><span class="No-Break"><span class="koboSpan" id="kobo.945.1">either distribution.</span></span></p>
<h3><span class="koboSpan" id="kobo.946.1">Managing snap packages on Ubuntu</span></h3>
<p><span class="koboSpan" id="kobo.947.1">Snap is installed by default in</span><a id="_idIndexMarker411"/><span class="koboSpan" id="kobo.948.1"> Ubuntu 22.04.2 LTS. </span><span class="koboSpan" id="kobo.948.2">Therefore, you </span><a id="_idIndexMarker412"/><span class="koboSpan" id="kobo.949.1">don’t have to do anything to install it. </span><span class="koboSpan" id="kobo.949.2">Simply start searching for the package you want and install it on your system. </span><span class="koboSpan" id="kobo.949.3">We will use the Slack application to show you how to work </span><span class="No-Break"><span class="koboSpan" id="kobo.950.1">with snaps.</span></span></p>
<h4><span class="koboSpan" id="kobo.951.1">Searching for snaps</span></h4>
<p><span class="koboSpan" id="kobo.952.1">Slack is </span><a id="_idIndexMarker413"/><span class="koboSpan" id="kobo.953.1">available in the Snap Store, so you can install it. </span><span class="koboSpan" id="kobo.953.2">To make sure, you can search for it using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.954.1">snap find</span></strong><span class="koboSpan" id="kobo.955.1"> command, as in the </span><span class="No-Break"><span class="koboSpan" id="kobo.956.1">following example:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.957.1">
$ snap find "slack"</span></pre> <p><span class="koboSpan" id="kobo.958.1">In the command’s output, you will see many more packages that contain the </span><strong class="source-inline"><span class="koboSpan" id="kobo.959.1">slack</span></strong><span class="koboSpan" id="kobo.960.1"> string or are related to the Slack application, but only the first on the list is the one we are </span><span class="No-Break"><span class="koboSpan" id="kobo.961.1">looking for.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.962.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.963.1">In any Linux distribution, two apps originating from different packages and installed with different package managers can coexist. </span><span class="koboSpan" id="kobo.963.2">For example, Slack can be installed using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.964.1">deb</span></strong><span class="koboSpan" id="kobo.965.1"> file provided by the website, as well as the one installed from the </span><span class="No-Break"><span class="koboSpan" id="kobo.966.1">Snap Store.</span></span></p>
<p><span class="koboSpan" id="kobo.967.1">If the output</span><a id="_idIndexMarker414"/><span class="koboSpan" id="kobo.968.1"> says that the package is available, we can proceed and install it on </span><span class="No-Break"><span class="koboSpan" id="kobo.969.1">our system.</span></span></p>
<h4><span class="koboSpan" id="kobo.970.1">Installing a snap package</span></h4>
<p><span class="koboSpan" id="kobo.971.1">To install the </span><a id="_idIndexMarker415"/><strong class="source-inline"><span class="koboSpan" id="kobo.972.1">snap</span></strong><span class="koboSpan" id="kobo.973.1"> package for Slack, we can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.974.1">snap </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.975.1">install</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.976.1"> command:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer075">
<span class="koboSpan" id="kobo.977.1"><img alt="Figure 3.20 – Installing the Slack snap package" src="image/Figure_03_20_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.978.1">Figure 3.20 – Installing the Slack snap package</span></p>
<p><span class="koboSpan" id="kobo.979.1">Next, let’s see how we can find out more about the </span><strong class="source-inline"><span class="koboSpan" id="kobo.980.1">snap</span></strong><span class="koboSpan" id="kobo.981.1"> package we </span><span class="No-Break"><span class="koboSpan" id="kobo.982.1">just installed.</span></span></p>
<h4><span class="koboSpan" id="kobo.983.1">Snap package information</span></h4>
<p><span class="koboSpan" id="kobo.984.1">If you want</span><a id="_idIndexMarker416"/><span class="koboSpan" id="kobo.985.1"> to find out more about the package, you can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.986.1">snap </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.987.1">info</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.988.1"> command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.989.1">
$ snap info slack</span></pre> <p><span class="koboSpan" id="kobo.990.1">The output will show you relevant information about the package, including its name, summary, publisher, description, and ID. </span><span class="koboSpan" id="kobo.990.2">The last piece of information that’s displayed will be about the available </span><strong class="bold"><span class="koboSpan" id="kobo.991.1">channels</span></strong><span class="koboSpan" id="kobo.992.1">, which are as follows in the case of our </span><span class="No-Break"><span class="koboSpan" id="kobo.993.1">Slack package:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer076">
<span class="koboSpan" id="kobo.994.1"><img alt="Figure 3.21 – Snap channels shown for the Slack app" src="image/Figure_03_21_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.995.1">Figure 3.21 – Snap channels shown for the Slack app</span></p>
<p><span class="koboSpan" id="kobo.996.1">Each channel contains information about a specific version and it is important to know which one to choose. </span><span class="koboSpan" id="kobo.996.2">By default, the stable channel will be chosen by the </span><strong class="source-inline"><span class="koboSpan" id="kobo.997.1">install</span></strong><span class="koboSpan" id="kobo.998.1"> command, but if you would like a different version, you </span><a id="_idIndexMarker417"/><span class="koboSpan" id="kobo.999.1">could use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1000.1">--channel</span></strong><span class="koboSpan" id="kobo.1001.1"> option during installation. </span><span class="koboSpan" id="kobo.1001.2">In the preceding example, we used the </span><span class="No-Break"><span class="koboSpan" id="kobo.1002.1">default option.</span></span></p>
<h4><span class="koboSpan" id="kobo.1003.1">Displaying installed snap packages</span></h4>
<p><span class="koboSpan" id="kobo.1004.1">If you want to see a list of the installed snaps </span><a id="_idIndexMarker418"/><span class="koboSpan" id="kobo.1005.1">on your system, you can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1006.1">snap list</span></strong><span class="koboSpan" id="kobo.1007.1"> command. </span><span class="koboSpan" id="kobo.1007.2">Even though we only installed Slack on the system, in the output, you will see that many more apps have been installed. </span><span class="koboSpan" id="kobo.1007.3">Some, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.1008.1">core</span></strong><span class="koboSpan" id="kobo.1009.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1010.1">snapd</span></strong><span class="koboSpan" id="kobo.1011.1">, are installed by default from the distribution’s installation and are required by </span><span class="No-Break"><span class="koboSpan" id="kobo.1012.1">the system:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer077">
<span class="koboSpan" id="kobo.1013.1"><img alt="Figure 3.22 – Output of the snap list command" src="image/Figure_03_22_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1014.1">Figure 3.22 – Output of the snap list command</span></p>
<p><span class="koboSpan" id="kobo.1015.1">Now, we’ll learn how to update a </span><span class="No-Break"><span class="koboSpan" id="kobo.1016.1">snap package.</span></span></p>
<h4><span class="koboSpan" id="kobo.1017.1">Updating a snap package</span></h4>
<p><span class="koboSpan" id="kobo.1018.1">Snaps are</span><a id="_idIndexMarker419"/><span class="koboSpan" id="kobo.1019.1"> automatically updated. </span><span class="koboSpan" id="kobo.1019.2">Therefore, you won’t have to do anything yourself. </span><span class="koboSpan" id="kobo.1019.3">The least you can do is check whether an update is available and speed up its installation using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1020.1">snap refresh</span></strong><span class="koboSpan" id="kobo.1021.1"> command, </span><span class="No-Break"><span class="koboSpan" id="kobo.1022.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1023.1">
$ sudo snap refresh slack</span></pre> <p><span class="koboSpan" id="kobo.1024.1">Following an update, if you want to go back to a previously used version of the app, you can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1025.1">snap revert</span></strong><span class="koboSpan" id="kobo.1026.1"> command, as in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1027.1">following example:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1028.1">
$ sudo snap revert slack</span></pre> <p><span class="koboSpan" id="kobo.1029.1">In the next section, we’ll learn how to enable and disable </span><span class="No-Break"><span class="koboSpan" id="kobo.1030.1">snap packages.</span></span></p>
<h4><span class="koboSpan" id="kobo.1031.1">Enabling or disabling snap packages</span></h4>
<p><span class="koboSpan" id="kobo.1032.1">If we decide to not use an application temporarily, we can</span><a id="_idIndexMarker420"/><span class="koboSpan" id="kobo.1033.1"> disable that app using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1034.1">snap disable</span></strong><span class="koboSpan" id="kobo.1035.1"> command. </span><span class="koboSpan" id="kobo.1035.2">If we </span><a id="_idIndexMarker421"/><span class="koboSpan" id="kobo.1036.1">decide to reuse the app, we can enable it again using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1037.1">snap </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1038.1">enable</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1039.1"> command:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer078">
<span class="koboSpan" id="kobo.1040.1"><img alt="Figure 3.23 – Enabling and disabling a snap app" src="image/Figure_03_23_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1041.1">Figure 3.23 – Enabling and disabling a snap app</span></p>
<p><span class="koboSpan" id="kobo.1042.1">Remember to use </span><strong class="source-inline"><span class="koboSpan" id="kobo.1043.1">sudo</span></strong><span class="koboSpan" id="kobo.1044.1"> to enable and disable a snap application. </span><span class="koboSpan" id="kobo.1044.2">If disabling is not what you are looking for, you can completely remove </span><span class="No-Break"><span class="koboSpan" id="kobo.1045.1">the snap.</span></span></p>
<h4><span class="koboSpan" id="kobo.1046.1">Removing a snap package</span></h4>
<p><span class="koboSpan" id="kobo.1047.1">When removing a snap application, the associated configuration</span><a id="_idIndexMarker422"/><span class="koboSpan" id="kobo.1048.1"> files, users, and data are also removed. </span><span class="koboSpan" id="kobo.1048.2">You can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1049.1">snap remove</span></strong><span class="koboSpan" id="kobo.1050.1"> command to do this, as in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1051.1">following example:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1052.1">
$ sudo snap remove slack</span></pre> <p><span class="koboSpan" id="kobo.1053.1">After removal, an application’s internal user, configuration, and system data are saved and retained for 31 days. </span><span class="koboSpan" id="kobo.1053.2">These files are called snapshots, they are archived and saved under </span><strong class="source-inline"><span class="koboSpan" id="kobo.1054.1">/var/lib/snapd/snapshots</span></strong><span class="koboSpan" id="kobo.1055.1">, and they contain the following types of files: a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1056.1">.json</span></strong><span class="koboSpan" id="kobo.1057.1"> file containing a description of the snapshot, a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1058.1">.tgz</span></strong><span class="koboSpan" id="kobo.1059.1"> file containing system data, and specific </span><strong class="source-inline"><span class="koboSpan" id="kobo.1060.1">.tgz</span></strong><span class="koboSpan" id="kobo.1061.1"> files that contain each system’s user details. </span><span class="koboSpan" id="kobo.1061.2">A short listing of the aforementioned directory will show the automatically created snapshot </span><span class="No-Break"><span class="koboSpan" id="kobo.1062.1">for Slack:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer079">
<span class="koboSpan" id="kobo.1063.1"><img alt="Figure 3.24 – Showing the existing snapshots after removal" src="image/Figure_03_24_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1064.1">Figure 3.24 – Showing the existing snapshots after removal</span></p>
<p><span class="koboSpan" id="kobo.1065.1">If you don’t want the snapshots to be created, you can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1066.1">--purge</span></strong><span class="koboSpan" id="kobo.1067.1"> option for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1068.1">snap remove</span></strong><span class="koboSpan" id="kobo.1069.1"> command. </span><span class="koboSpan" id="kobo.1069.2">For applications that use a large amount of data, those snapshots could have a significant size and impact the available disk space. </span><span class="koboSpan" id="kobo.1069.3">To see the snapshots saved on your system, use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1070.1">snap </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1071.1">saved</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1072.1"> command:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer080">
<span class="koboSpan" id="kobo.1073.1"><img alt="Figure 3.25 – Showing the saved snapshots" src="image/Figure_03_25_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1074.1">Figure 3.25 – Showing the saved snapshots</span></p>
<p><span class="koboSpan" id="kobo.1075.1">The output shows that in the list, in our case, just one app has been removed, with the first column indicating the ID of the snapshot (</span><strong class="source-inline"><span class="koboSpan" id="kobo.1076.1">set</span></strong><span class="koboSpan" id="kobo.1077.1">). </span><span class="koboSpan" id="kobo.1077.2">If you would like to delete a snapshot, you can do so by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1078.1">snap forget</span></strong><span class="koboSpan" id="kobo.1079.1"> command. </span><span class="koboSpan" id="kobo.1079.2">In our case, to delete the Slack application’s snapshot, we can use the </span><span class="No-Break"><span class="koboSpan" id="kobo.1080.1">following command:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer081">
<span class="koboSpan" id="kobo.1081.1"><img alt="Figure 3.26 – Using the snap forget command to delete a snapshot" src="image/Figure_03_26_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1082.1">Figure 3.26 – Using the snap forget command to delete a snapshot</span></p>
<p><span class="koboSpan" id="kobo.1083.1">To verify that the snapshot was removed, we used the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1084.1">snap saved</span></strong><span class="koboSpan" id="kobo.1085.1"> command again, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1086.1">preceding figure.</span></span></p>
<p><span class="koboSpan" id="kobo.1087.1">Snaps are versatile packages and easy to use. </span><span class="koboSpan" id="kobo.1087.2">This package type is the choice of Ubuntu developers, but they </span><a id="_idIndexMarker423"/><span class="koboSpan" id="kobo.1088.1">are not commonly used on other distributions. </span><span class="koboSpan" id="kobo.1088.2">If you would like to install snaps on distributions other than Ubuntu, follow the instructions at </span><a href="https://snapcraft.io/docs/installing-snapd"><span class="koboSpan" id="kobo.1089.1">https://snapcraft.io/docs/installing-snapd</span></a><span class="koboSpan" id="kobo.1090.1"> and test its </span><span class="No-Break"><span class="koboSpan" id="kobo.1091.1">full capabilities.</span></span></p>
<p><span class="koboSpan" id="kobo.1092.1">Now, we will test the other new kid on the block: flatpaks. </span><span class="koboSpan" id="kobo.1092.2">Our test distribution will be Fedora, but keep in mind that flatpaks are also supported by Ubuntu-based distributions such as Linux Mint and elementary OS, and Debian-based distributions such as PureOS and Endless OS. </span><span class="koboSpan" id="kobo.1092.3">A list of all the supported Linux distributions can be found </span><span class="No-Break"><span class="koboSpan" id="kobo.1093.1">at </span></span><a href="http://flatpak.org"><span class="No-Break"><span class="koboSpan" id="kobo.1094.1">flatpak.org</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.1095.1">.</span></span></p>
<h3><span class="koboSpan" id="kobo.1096.1">Managing flatpak packages on Fedora Linux</span></h3>
<p><span class="koboSpan" id="kobo.1097.1">As flatpaks are available only as desktop applications, we will use Fedora Linux Workstation as our use case. </span><span class="koboSpan" id="kobo.1097.2">In</span><a id="_idIndexMarker424"/><span class="koboSpan" id="kobo.1098.1"> this scenario, you could use RHEL/AlmaLinux/Rocky Linux on a server, but Fedora for</span><a id="_idIndexMarker425"/> <span class="No-Break"><span class="koboSpan" id="kobo.1099.1">your workstation.</span></span></p>
<p><span class="koboSpan" id="kobo.1100.1">Similar to snaps, flatpaks are isolated applications that run inside sandboxes. </span><span class="koboSpan" id="kobo.1100.2">Each flatpak contains the needed runtimes and libraries for the application. </span><span class="koboSpan" id="kobo.1100.3">Flatpaks offer full support for graphical user interface management tools, together with a full set of commands that can be used</span><a id="_idIndexMarker426"/><span class="koboSpan" id="kobo.1101.1"> from the </span><strong class="bold"><span class="koboSpan" id="kobo.1102.1">command-line interface</span></strong><span class="koboSpan" id="kobo.1103.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.1104.1">CLI</span></strong><span class="koboSpan" id="kobo.1105.1">). </span><span class="koboSpan" id="kobo.1105.2">The main command is </span><strong class="source-inline"><span class="koboSpan" id="kobo.1106.1">flatpak</span></strong><span class="koboSpan" id="kobo.1107.1">, which has several other built-in commands to use for package management. </span><span class="koboSpan" id="kobo.1107.2">To see all of them, use the </span><span class="No-Break"><span class="koboSpan" id="kobo.1108.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1109.1">
$ flatpak --help</span></pre> <p><span class="koboSpan" id="kobo.1110.1">In the following sections, we will detail some of the widely used commands for flatpak package management. </span><span class="koboSpan" id="kobo.1110.2">But before that, let’s say a few words about how flatpak apps are named and how they will appear on the command line so that there will be no confusion in </span><span class="No-Break"><span class="koboSpan" id="kobo.1111.1">this regard.</span></span></p>
<p><span class="koboSpan" id="kobo.1112.1">Each app has an identifier in a form similar to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1113.1">com.company.App</span></strong><span class="koboSpan" id="kobo.1114.1">. </span><span class="koboSpan" id="kobo.1114.2">Each part of this is meant to easily identify </span><a id="_idIndexMarker427"/><span class="koboSpan" id="kobo.1115.1">an app and its developer. </span><span class="koboSpan" id="kobo.1115.2">The final part identifies the application’s name since the </span><a id="_idIndexMarker428"/><span class="koboSpan" id="kobo.1116.1">preceding one identifies the entity that developed the app. </span><span class="koboSpan" id="kobo.1116.2">This is an easy way for developers to publish and deliver </span><span class="No-Break"><span class="koboSpan" id="kobo.1117.1">multiple apps.</span></span></p>
<h4><span class="koboSpan" id="kobo.1118.1">Adding flatpak repositories</span></h4>
<p><span class="koboSpan" id="kobo.1119.1">Repositories must be set up if you wish to install applications. </span><span class="koboSpan" id="kobo.1119.2">Flatpaks call repositories </span><strong class="bold"><span class="koboSpan" id="kobo.1120.1">remotes</span></strong><span class="koboSpan" id="kobo.1121.1">, so this will be the term by which we will refer </span><span class="No-Break"><span class="koboSpan" id="kobo.1122.1">to them.</span></span></p>
<p><span class="koboSpan" id="kobo.1123.1">On our Fedora 37 machine, flatpak is </span><a id="_idIndexMarker429"/><span class="koboSpan" id="kobo.1124.1">already installed, but we will need to add the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1125.1">flathub</span></strong><span class="koboSpan" id="kobo.1126.1"> repository. </span><span class="koboSpan" id="kobo.1126.2">We will add it with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1127.1">flatpak remote-add</span></strong><span class="koboSpan" id="kobo.1128.1"> command, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1129.1">following example:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1130.1">
$ sudo flatpak remote-add --if-not-exists flathub https://dl.flathub.org/repo/flathub.flatpakrepo</span></pre> <p><span class="koboSpan" id="kobo.1131.1">Here, we used the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1132.1">--if-not-exists</span></strong><span class="koboSpan" id="kobo.1133.1"> argument, which stops the command if the repository already exists, without showing any error. </span><span class="koboSpan" id="kobo.1133.2">Once the repository has been added, we can start installing packages from it, but not before a mandatory </span><span class="No-Break"><span class="koboSpan" id="kobo.1134.1">system restart.</span></span></p>
<p><span class="koboSpan" id="kobo.1135.1">In Fedora 37 and previous versions, not all the apps from the Flathub repository are available by default, but starting with version 38, developers are aiming to provide all the apps from Flathub out of the box by default. </span><span class="koboSpan" id="kobo.1135.2">Let’s learn how to install an application from Flathub on our </span><span class="No-Break"><span class="koboSpan" id="kobo.1136.1">Fedora Workstation.</span></span></p>
<h4><span class="koboSpan" id="kobo.1137.1">Installing a flatpak application</span></h4>
<p><span class="koboSpan" id="kobo.1138.1">To </span><a id="_idIndexMarker430"/><span class="koboSpan" id="kobo.1139.1">install a package, we need to know its name. </span><span class="koboSpan" id="kobo.1139.2">We can go to </span><a href="https://flathub.org/home"><span class="koboSpan" id="kobo.1140.1">https://flathub.org/home</span></a><span class="koboSpan" id="kobo.1141.1"> and search for apps there. </span><span class="koboSpan" id="kobo.1141.2">We will search for a piece of </span><a id="_idIndexMarker431"/><span class="koboSpan" id="kobo.1142.1">software called </span><strong class="bold"><span class="koboSpan" id="kobo.1143.1">Open Broadcaster Software</span></strong><span class="koboSpan" id="kobo.1144.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.1145.1">OBS</span></strong><span class="koboSpan" id="kobo.1146.1">) studio on the website and follow the instructions provided. </span><span class="koboSpan" id="kobo.1146.2">We can either click on the </span><strong class="bold"><span class="koboSpan" id="kobo.1147.1">Install</span></strong><span class="koboSpan" id="kobo.1148.1"> button in the top right-hand corner or use the commands from the lower half of the web page. </span><span class="koboSpan" id="kobo.1148.2">We will use the </span><span class="No-Break"><span class="koboSpan" id="kobo.1149.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1150.1">
$ sudo flatpak install flathub com.obsproject.Studio</span></pre> <p><span class="koboSpan" id="kobo.1151.1">On recent versions of flatpak (since version 1.2), installation can be performed with a much simpler command. </span><span class="koboSpan" id="kobo.1151.2">In this case, you only need the name of the app, </span><span class="No-Break"><span class="koboSpan" id="kobo.1152.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1153.1">
$ sudo flatpak install slack</span></pre> <p><span class="koboSpan" id="kobo.1154.1">The result is the same as using the first </span><strong class="source-inline"><span class="koboSpan" id="kobo.1155.1">install</span></strong><span class="koboSpan" id="kobo.1156.1"> command </span><a id="_idIndexMarker432"/><span class="No-Break"><span class="koboSpan" id="kobo.1157.1">shown previously.</span></span></p>
<h4><span class="koboSpan" id="kobo.1158.1">Managing flatpak applications</span></h4>
<p><span class="koboSpan" id="kobo.1159.1">After installing an application, you can run it using the </span><a id="_idIndexMarker433"/><span class="koboSpan" id="kobo.1160.1">command line with the </span><span class="No-Break"><span class="koboSpan" id="kobo.1161.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1162.1">
$ flatpak run com.obsproject.Studio</span></pre> <p><span class="koboSpan" id="kobo.1163.1">If you want to update all the</span><a id="_idIndexMarker434"/><span class="koboSpan" id="kobo.1164.1"> applications and runtimes, you can use </span><span class="No-Break"><span class="koboSpan" id="kobo.1165.1">this command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1166.1">
$ sudo flatpak update</span></pre> <p><span class="koboSpan" id="kobo.1167.1">To remove a</span><a id="_idIndexMarker435"/><span class="koboSpan" id="kobo.1168.1"> flatpak package, simply run the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1169.1">flatpak </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1170.1">uninstall</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1171.1"> command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1172.1">
$ sudo flatpak uninstall com.obsproject.Studio</span></pre> <p><span class="koboSpan" id="kobo.1173.1">To list all the</span><a id="_idIndexMarker436"/><span class="koboSpan" id="kobo.1174.1"> flatpak applications and runtimes installed, you can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1175.1">flatpak </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1176.1">list</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1177.1"> command:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer082">
<span class="koboSpan" id="kobo.1178.1"><img alt="Figure 3.27 – The flatpak list command’s output" src="image/Figure_03_27_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1179.1">Figure 3.27 – The flatpak list command’s output</span></p>
<p><span class="koboSpan" id="kobo.1180.1">To see only the installed applications, you can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1181.1">--</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1182.1">app</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1183.1"> argument:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1184.1">
$ flatpak list --app</span></pre> <p><span class="koboSpan" id="kobo.1185.1">The commands shown here are the most commonly used for flatpak package management. </span><span class="koboSpan" id="kobo.1185.2">Needless to say, there are many other commands that we will not cover here, but you are free to look them up and test them on your system. </span><span class="koboSpan" id="kobo.1185.3">For a quick overview of the basic flatpak commands, you can refer to the following </span><span class="No-Break"><span class="koboSpan" id="kobo.1186.1">link: </span></span><a href="https://docs.flatpak.org/en/latest/flatpak-command-reference.html"><span class="No-Break"><span class="koboSpan" id="kobo.1187.1">https://docs.flatpak.org/en/latest/flatpak-command-reference.html</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.1188.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1189.1">Flatpaks are versatile </span><a id="_idIndexMarker437"/><span class="koboSpan" id="kobo.1190.1">and can provide access to newer app versions. </span><span class="koboSpan" id="kobo.1190.2">Let’s say you want to use a solid base operating system, but the downside of that is that you will get old versions of base applications by default. </span><span class="koboSpan" id="kobo.1190.3">Using flatpaks can overcome this and give you access to newer app versions. </span><span class="koboSpan" id="kobo.1190.4">Feel free to browse the apps available on Flathub and test the ones you find interesting </span><span class="No-Break"><span class="koboSpan" id="kobo.1191.1">and useful.</span></span></p>
<p><span class="koboSpan" id="kobo.1192.1">You now know how to install new applications on your operating system, using either the command line or the graphical user interface. </span><span class="koboSpan" id="kobo.1192.2">Apart from that, you can also install new desktop environments. </span><span class="koboSpan" id="kobo.1192.3">We will show you how in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1193.1">following section.</span></span></p>
<h1 id="_idParaDest-70"><a id="_idTextAnchor085"/><span class="koboSpan" id="kobo.1194.1">Installing new desktop environments in Linux</span></h1>
<p><span class="koboSpan" id="kobo.1195.1">We will continue to use</span><a id="_idIndexMarker438"/><span class="koboSpan" id="kobo.1196.1"> Fedora as an example, but the commands shown here can also be used for any RHEL-based distribution, such as AlmaLinux or </span><span class="No-Break"><span class="koboSpan" id="kobo.1197.1">Rocky Linux.</span></span></p>
<p><span class="koboSpan" id="kobo.1198.1">By default, Fedora Workstation uses GNOME as the desktop environment, but what if you would like to use another one, such as KDE? </span><span class="koboSpan" id="kobo.1198.2">Before showing you how, we would like to give you some information about the graphical desktop environments available </span><span class="No-Break"><span class="koboSpan" id="kobo.1199.1">for Linux.</span></span></p>
<p><span class="koboSpan" id="kobo.1200.1">Linux is all about choice, and this can’t be more true when it comes to </span><strong class="bold"><span class="koboSpan" id="kobo.1201.1">desktop environments</span></strong><span class="koboSpan" id="kobo.1202.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.1203.1">DEs</span></strong><span class="koboSpan" id="kobo.1204.1">). </span><span class="koboSpan" id="kobo.1204.2">There are dozens of</span><a id="_idIndexMarker439"/><span class="koboSpan" id="kobo.1205.1"> DEs available, such as GNOME, KDE, Xfce, LXDE, LXQT, Pantheon, and others. </span><span class="koboSpan" id="kobo.1205.2">The most widely used DEs on Linux are GNOME, KDE, and Xfce, and the first two have the largest communities. </span><span class="koboSpan" id="kobo.1205.3">If you want to use the very best and latest of GNOME, for example, you can try distributions such as Fedora, openSUSE Tumbleweed with GNOME, or Arch Linux (or Manjaro). </span><span class="koboSpan" id="kobo.1205.4">If you want to use the best of KDE, you can try KDE neon, openSUSE Tumbleweed with KDE, or Arch Linux with KDE (or Manjaro). </span><span class="koboSpan" id="kobo.1205.5">For Xfce, you can try MX Linux (based on Debian), which defaults to Xfce, or openSUSE with Xfce. </span><span class="koboSpan" id="kobo.1205.6">As a rule, the most widely used Linux distributions offer variants, also called </span><em class="italic"><span class="koboSpan" id="kobo.1206.1">flavors</span></em><span class="koboSpan" id="kobo.1207.1"> (in the case of Ubuntu) or </span><em class="italic"><span class="koboSpan" id="kobo.1208.1">spins</span></em><span class="koboSpan" id="kobo.1209.1"> (in the case of Fedora) with different desktop environments available. </span><span class="koboSpan" id="kobo.1209.2">The RHEL and SUSE commercial versions come with GNOME only by default. </span><span class="koboSpan" id="kobo.1209.3">For more information about the DEs described </span><a id="_idIndexMarker440"/><span class="koboSpan" id="kobo.1210.1">here, refer to the </span><span class="No-Break"><span class="koboSpan" id="kobo.1211.1">following websites:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.1212.1">For KDE, </span><span class="No-Break"><span class="koboSpan" id="kobo.1213.1">visit </span></span><a href="http://www.kde.org"><span class="No-Break"><span class="koboSpan" id="kobo.1214.1">www.kde.org</span></span></a></li>
<li><span class="koboSpan" id="kobo.1215.1">For</span><a id="_idIndexMarker441"/><span class="koboSpan" id="kobo.1216.1"> GNOME, </span><span class="No-Break"><span class="koboSpan" id="kobo.1217.1">visit </span></span><a href="http://www.gnome.org"><span class="No-Break"><span class="koboSpan" id="kobo.1218.1">www.gnome.org</span></span></a></li>
<li><span class="koboSpan" id="kobo.1219.1">For</span><a id="_idIndexMarker442"/><span class="koboSpan" id="kobo.1220.1"> Xfce, </span><span class="No-Break"><span class="koboSpan" id="kobo.1221.1">visit </span></span><a href="http://www.xfce.org"><span class="No-Break"><span class="koboSpan" id="kobo.1222.1">www.xfce.org</span></span></a></li>
</ul>
<p><span class="koboSpan" id="kobo.1223.1">Now, let’s learn how to</span><a id="_idIndexMarker443"/><span class="koboSpan" id="kobo.1224.1"> install a different DE on our default </span><span class="No-Break"><span class="koboSpan" id="kobo.1225.1">Fedora </span></span><span class="No-Break"><a id="_idIndexMarker444"/></span><span class="No-Break"><span class="koboSpan" id="kobo.1226.1">Workstation.</span></span></p>
<h2 id="_idParaDest-71"><a id="_idTextAnchor086"/><span class="koboSpan" id="kobo.1227.1">Installing KDE Plasma on Fedora Linux</span></h2>
<p><span class="koboSpan" id="kobo.1228.1">In Fedora and derivative</span><a id="_idIndexMarker445"/><span class="koboSpan" id="kobo.1229.1"> distributions (and also in openSUSE), there are application groups available that ease the process of installing larger apps and their dependencies. </span><span class="koboSpan" id="kobo.1229.2">And this becomes extremely useful when you’re planning to</span><a id="_idIndexMarker446"/><span class="koboSpan" id="kobo.1230.1"> install many apps as part of a larger </span><em class="italic"><span class="koboSpan" id="kobo.1231.1">group</span></em><span class="koboSpan" id="kobo.1232.1">, just like a </span><span class="No-Break"><span class="koboSpan" id="kobo.1233.1">DE is.</span></span></p>
<p><span class="koboSpan" id="kobo.1234.1">To install a group, you can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1235.1">dnf install</span></strong><span class="koboSpan" id="kobo.1236.1"> command and appeal the group using </span><strong class="source-inline"><span class="koboSpan" id="kobo.1237.1">@</span></strong><span class="koboSpan" id="kobo.1238.1"> and the name of the group. </span><span class="koboSpan" id="kobo.1238.2">Alternatively, you can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1239.1">dnf groupinstall</span></strong><span class="koboSpan" id="kobo.1240.1"> command while using the name of the group </span><span class="No-Break"><span class="koboSpan" id="kobo.1241.1">within quotes.</span></span></p>
<p><span class="koboSpan" id="kobo.1242.1">To check the groups that are available from the Fedora repositories, you can use the </span><span class="No-Break"><span class="koboSpan" id="kobo.1243.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1244.1">
$ dnf group list --all | grep "KDE"</span></pre> <p><span class="koboSpan" id="kobo.1245.1">The output will be a list of groups from Fedora repos, and somewhere in there, the </span><strong class="bold"><span class="koboSpan" id="kobo.1246.1">KDE Plasma Workspaces</span></strong><span class="koboSpan" id="kobo.1247.1"> will be available. </span><span class="koboSpan" id="kobo.1247.2">To </span><a id="_idIndexMarker447"/><span class="koboSpan" id="kobo.1248.1">install it, you can use the </span><span class="No-Break"><span class="koboSpan" id="kobo.1249.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1250.1">
$ sudo dnf groupinstall "KDE Plasma Workspaces"</span></pre> <p><span class="koboSpan" id="kobo.1251.1">Alternatively, you can use the </span><span class="No-Break"><span class="koboSpan" id="kobo.1252.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1253.1">
$ sudo dnf install @kde-desktop-environment</span></pre> <p><span class="koboSpan" id="kobo.1254.1">This command will install the new KDE Plasma environment, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1255.1">following figure:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer083">
<span class="koboSpan" id="kobo.1256.1"><img alt="Figure 3.28 – Installing the KDE Plasma DE" src="image/Figure_03_28_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1257.1">Figure 3.28 – Installing the KDE Plasma DE</span></p>
<p><span class="koboSpan" id="kobo.1258.1">The installation might take a while, depending on</span><a id="_idIndexMarker448"/><span class="koboSpan" id="kobo.1259.1"> your internet connection. </span><span class="koboSpan" id="kobo.1259.2">To start using KDE Plasma as your</span><a id="_idIndexMarker449"/><span class="koboSpan" id="kobo.1260.1"> DE, you will need to log out of the active session. </span><span class="koboSpan" id="kobo.1260.2">On the login screen, select your user, and then, in the bottom-right corner, click on the wheel icon and select </span><strong class="bold"><span class="koboSpan" id="kobo.1261.1">Plasma</span></strong><span class="koboSpan" id="kobo.1262.1"> when the option becomes available. </span><span class="koboSpan" id="kobo.1262.2">You will have two options, one for </span><strong class="bold"><span class="koboSpan" id="kobo.1263.1">Wayland</span></strong><span class="koboSpan" id="kobo.1264.1"> and the other for the </span><strong class="bold"><span class="koboSpan" id="kobo.1265.1">X11</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.1266.1">display manager:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer084">
<span class="koboSpan" id="kobo.1267.1"><img alt="Figure 3.29 – Selecting Plasma (Wayland) on the login screen" src="image/Figure_03_29_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1268.1">Figure 3.29 – Selecting Plasma (Wayland) on the login screen</span></p>
<p><span class="koboSpan" id="kobo.1269.1">Wayland is the newer option and might not have full support in KDE compared to the support it has in GNOME. </span><span class="koboSpan" id="kobo.1269.2">Choose according to </span><span class="No-Break"><span class="koboSpan" id="kobo.1270.1">your preference.</span></span></p>
<p><span class="koboSpan" id="kobo.1271.1">Now, you can log into KDE Plasma on Fedora Workstation. </span><span class="koboSpan" id="kobo.1271.2">The following screenshot shows the </span><strong class="bold"><span class="koboSpan" id="kobo.1272.1">Info Center</span></strong><span class="koboSpan" id="kobo.1273.1"> application inside KDE Plasma, with details about the installed version </span><span class="No-Break"><span class="koboSpan" id="kobo.1274.1">and hardware:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer085">
<span class="koboSpan" id="kobo.1275.1"><img alt="Figure 3.30 – Info Center in KDE Plasma on Fedora 37" src="image/Figure_03_30_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1276.1">Figure 3.30 – Info Center in KDE Plasma on Fedora 37</span></p>
<p><span class="koboSpan" id="kobo.1277.1">With that, you have</span><a id="_idIndexMarker450"/><span class="koboSpan" id="kobo.1278.1"> learned about working with packages in Linux, and even</span><a id="_idIndexMarker451"/><span class="koboSpan" id="kobo.1279.1"> installing a new DE. </span><span class="koboSpan" id="kobo.1279.2">This is sufficient for you to start fiddling around with your new OS. </span><span class="koboSpan" id="kobo.1279.3">You can install new applications, configure them, and make your distribution the way you want it </span><span class="No-Break"><span class="koboSpan" id="kobo.1280.1">to be.</span></span></p>
<h1 id="_idParaDest-72"><a id="_idTextAnchor087"/><span class="koboSpan" id="kobo.1281.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.1282.1">In this chapter, you learned how to work with packages in Ubuntu, Fedora/AlmaLinux, and openSUSE, and the skills you’ve learned will help you to manage packages in any Linux distribution. </span><span class="koboSpan" id="kobo.1282.2">You learned how to work with both </span><strong class="source-inline"><span class="koboSpan" id="kobo.1283.1">.deb</span></strong><span class="koboSpan" id="kobo.1284.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1285.1">.rpm</span></strong><span class="koboSpan" id="kobo.1286.1"> packages, and also the newer ones, such as flatpaks and snaps. </span><span class="koboSpan" id="kobo.1286.2">You will use the skills you’ve learned here in every chapter of this book, as well as in your day-to-day job as a systems administrator – or even in your free time, enjoying your Linux </span><span class="No-Break"><span class="koboSpan" id="kobo.1287.1">operating system.</span></span></p>
<p><span class="koboSpan" id="kobo.1288.1">In the next chapter, we will show you how to manage user accounts and permissions, where you will be introduced to general concepts and </span><span class="No-Break"><span class="koboSpan" id="kobo.1289.1">specific tools.</span></span></p>
<h1 id="_idParaDest-73"><a id="_idTextAnchor088"/><span class="koboSpan" id="kobo.1290.1">Questions</span></h1>
<p><span class="koboSpan" id="kobo.1291.1">Now that you have a clear idea of how to manage software packages, here are some exercises that will contribute further to </span><span class="No-Break"><span class="koboSpan" id="kobo.1292.1">your learning:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1293.1">Make a list of all the packages installed on </span><span class="No-Break"><span class="koboSpan" id="kobo.1294.1">your system.</span></span></li>
</ol>
<p><strong class="bold"><span class="koboSpan" id="kobo.1295.1">Hint</span></strong><span class="koboSpan" id="kobo.1296.1">: Consider using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1297.1">apt list --</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1298.1">installed</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1299.1"> command.</span></span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.1300.1">Add support for flatpaks on your </span><span class="No-Break"><span class="koboSpan" id="kobo.1301.1">Ubuntu system.</span></span></li>
</ol>
<p><strong class="bold"><span class="koboSpan" id="kobo.1302.1">Hint</span></strong><span class="koboSpan" id="kobo.1303.1">: Follow the documentation </span><span class="No-Break"><span class="koboSpan" id="kobo.1304.1">at </span></span><a href="http://flatpak.org"><span class="No-Break"><span class="koboSpan" id="kobo.1305.1">flatpak.org</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.1306.1">.</span></span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.1307.1">Test other distributions and use their package managers. </span><span class="koboSpan" id="kobo.1307.2">We recommend that you try openSUSE and, if you feel confident, </span><span class="No-Break"><span class="koboSpan" id="kobo.1308.1">Arch Linux.</span></span></li>
</ol>
<h1 id="_idParaDest-74"><a id="_idTextAnchor089"/><span class="koboSpan" id="kobo.1309.1">Further reading</span></h1>
<p><span class="koboSpan" id="kobo.1310.1">For more information about what was covered in this chapter, please refer to the </span><span class="No-Break"><span class="koboSpan" id="kobo.1311.1">following resources:</span></span></p>
<ul>
<li><em class="italic"><span class="koboSpan" id="kobo.1312.1">Mastering Linux Administration – First Edition</span></em><span class="koboSpan" id="kobo.1313.1">, Alexandru Calcatinge, </span><span class="No-Break"><span class="koboSpan" id="kobo.1314.1">Julian Balog</span></span></li>
<li><span class="koboSpan" id="kobo.1315.1">Snapcraft.io official </span><span class="No-Break"><span class="koboSpan" id="kobo.1316.1">documentation: </span></span><a href="https://snapcraft.io/docs"><span class="No-Break"><span class="koboSpan" id="kobo.1317.1">https://snapcraft.io/docs</span></span></a></li>
<li><span class="koboSpan" id="kobo.1318.1">Flatpak </span><span class="No-Break"><span class="koboSpan" id="kobo.1319.1">documentation: </span></span><a href="https://docs.flatpak.org/en/latest/"><span class="No-Break"><span class="koboSpan" id="kobo.1320.1">https://docs.flatpak.org/en/latest/</span></span></a></li>
<li><span class="koboSpan" id="kobo.1321.1">openSUSE official </span><span class="No-Break"><span class="koboSpan" id="kobo.1322.1">documentation: </span></span><a href="https://doc.opensuse.org/"><span class="No-Break"><span class="koboSpan" id="kobo.1323.1">https://doc.opensuse.org/</span></span></a></li>
</ul>
</div>
</body></html>