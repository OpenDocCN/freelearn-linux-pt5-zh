<html><head></head><body>
<div id="_idContainer055">
<h1 class="chapter-number" id="_idParaDest-38"><a id="_idTextAnchor053"/><span class="koboSpan" id="kobo.1.1">2</span></h1>
<h1 id="_idParaDest-39"><a id="_idTextAnchor054"/><span class="koboSpan" id="kobo.2.1">The Linux Shell and Filesystem</span></h1>
<p><span class="koboSpan" id="kobo.3.1">Understanding the </span><strong class="bold"><span class="koboSpan" id="kobo.4.1">Linux filesystem</span></strong><span class="koboSpan" id="kobo.5.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.6.1">file management</span></strong><span class="koboSpan" id="kobo.7.1"> fundamentals, and the basics of the </span><strong class="bold"><span class="koboSpan" id="kobo.8.1">Linux shell</span></strong><span class="koboSpan" id="kobo.9.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.10.1">command-line interface</span></strong><span class="koboSpan" id="kobo.11.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.12.1">CLI</span></strong><span class="koboSpan" id="kobo.13.1">) is essential for a modern-day </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">Linux professional.</span></span></p>
<p><span class="koboSpan" id="kobo.15.1">In this chapter, you will learn how to use the Linux shell and some of the most common commands in Linux. </span><span class="koboSpan" id="kobo.15.2">You will learn about the structure of a basic Linux command and how the Linux filesystem is organized. </span><span class="koboSpan" id="kobo.15.3">We’ll explore various commands for working with files and directories. </span><span class="koboSpan" id="kobo.15.4">Along the way, we’ll introduce you to the most common command-line text editors. </span><span class="koboSpan" id="kobo.15.5">We hope that by the end of this chapter, you’ll be comfortable using the Linux CLI and be ready for future, more advanced explorations. </span><span class="koboSpan" id="kobo.15.6">This chapter will set the foundation for using the Linux shell, and for more information about the shell, go to </span><a href="B19682_08.xhtml#_idTextAnchor164"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.16.1">Chapter 8</span></em></span></a><span class="koboSpan" id="kobo.17.1">, </span><em class="italic"><span class="koboSpan" id="kobo.18.1">Linux </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.19.1">Shell Scripting</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.20.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.21.1">We’re going to cover the following </span><span class="No-Break"><span class="koboSpan" id="kobo.22.1">main topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.23.1">Introducing the </span><span class="No-Break"><span class="koboSpan" id="kobo.24.1">Linux shell</span></span></li>
<li><span class="koboSpan" id="kobo.25.1">The </span><span class="No-Break"><span class="koboSpan" id="kobo.26.1">Linux filesystem</span></span></li>
<li><span class="koboSpan" id="kobo.27.1">Working with files </span><span class="No-Break"><span class="koboSpan" id="kobo.28.1">and directories</span></span></li>
<li><span class="koboSpan" id="kobo.29.1">Using text editors to create and </span><span class="No-Break"><span class="koboSpan" id="kobo.30.1">edit files</span></span></li>
</ul>
<h1 id="_idParaDest-40"><a id="_idTextAnchor055"/><span class="koboSpan" id="kobo.31.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.32.1">This chapter requires a working installation of a standard Linux distribution, on either server, desktop, PC, or </span><strong class="bold"><span class="koboSpan" id="kobo.33.1">Virtual Machine</span></strong><span class="koboSpan" id="kobo.34.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.35.1">VM</span></strong><span class="koboSpan" id="kobo.36.1">). </span><span class="koboSpan" id="kobo.36.2">Our examples and case studies use the Ubuntu and Fedora platforms, but the commands and examples explored are equally suitable for any other </span><span class="No-Break"><span class="koboSpan" id="kobo.37.1">Linux distribution.</span></span></p>
<h1 id="_idParaDest-41"><a id="_idTextAnchor056"/><span class="koboSpan" id="kobo.38.1">Introducing the Linux shell</span></h1>
<p><span class="koboSpan" id="kobo.39.1">Linux has its roots in the Unix operating system, and one of its main strengths is the command-line interface. </span><span class="koboSpan" id="kobo.39.2">In the old days, this</span><a id="_idIndexMarker166"/><span class="koboSpan" id="kobo.40.1"> was called </span><em class="italic"><span class="koboSpan" id="kobo.41.1">the shell</span></em><span class="koboSpan" id="kobo.42.1">. </span><span class="koboSpan" id="kobo.42.2">In </span><strong class="bold"><span class="koboSpan" id="kobo.43.1">UNIX</span></strong><span class="koboSpan" id="kobo.44.1">, the shell is invoked with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.45.1">sh</span></strong><span class="koboSpan" id="kobo.46.1"> command. </span><span class="koboSpan" id="kobo.46.2">The </span><a id="_idIndexMarker167"/><span class="koboSpan" id="kobo.47.1">shell is a program that has two streams: an </span><em class="italic"><span class="koboSpan" id="kobo.48.1">input stream</span></em><span class="koboSpan" id="kobo.49.1"> and an </span><em class="italic"><span class="koboSpan" id="kobo.50.1">output stream</span></em><span class="koboSpan" id="kobo.51.1">. </span><span class="koboSpan" id="kobo.51.2">The input is a command given by the user, and the output is the result of that command, or an interpretation of it. </span><span class="koboSpan" id="kobo.51.3">In other words, the shell is the primary interface between the user and </span><span class="No-Break"><span class="koboSpan" id="kobo.52.1">the machine.</span></span></p>
<p><span class="koboSpan" id="kobo.53.1">The main shell in major Linux distributions is called </span><strong class="bold"><span class="koboSpan" id="kobo.54.1">Bash</span></strong><span class="koboSpan" id="kobo.55.1">, which is an acronym for </span><strong class="bold"><span class="koboSpan" id="kobo.56.1">Bourne Again Shell</span></strong><span class="koboSpan" id="kobo.57.1">, named after </span><a id="_idIndexMarker168"/><span class="koboSpan" id="kobo.58.1">Steve Bourne, the original creator of the shell in UNIX. </span><span class="koboSpan" id="kobo.58.2">Alongside Bash, there are other shells available in Linux, such as </span><strong class="bold"><span class="koboSpan" id="kobo.59.1">ksh</span></strong><span class="koboSpan" id="kobo.60.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.61.1">tcsh</span></strong><span class="koboSpan" id="kobo.62.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.63.1">zsh</span></strong><span class="koboSpan" id="kobo.64.1">. </span><span class="koboSpan" id="kobo.64.2">In this</span><a id="_idIndexMarker169"/><span class="koboSpan" id="kobo.65.1"> chapter and</span><a id="_idIndexMarker170"/><span class="koboSpan" id="kobo.66.1"> throughout the book, we will cover the</span><a id="_idIndexMarker171"/><span class="koboSpan" id="kobo.67.1"> Bash shell, as it is the most widely used shell in modern </span><span class="No-Break"><span class="koboSpan" id="kobo.68.1">Linux distributions.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.69.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.70.1">Distributions such as Debian, Ubuntu, Fedora, CentOS Stream, RHEL, openSUSE, SLE, and Linux Mint, just to name a few, use the </span><em class="italic"><span class="koboSpan" id="kobo.71.1">Bash</span></em><span class="koboSpan" id="kobo.72.1"> shell by default. </span><span class="koboSpan" id="kobo.72.2">Other distributions, such as Kali Linux, have switched to </span><em class="italic"><span class="koboSpan" id="kobo.73.1">zsh</span></em><span class="koboSpan" id="kobo.74.1"> by default. </span><span class="koboSpan" id="kobo.74.2">Manjaro offers zsh on some editions. </span><span class="koboSpan" id="kobo.74.3">For those who use macOS, you should know that zsh has been the default shell for some years now. </span><span class="koboSpan" id="kobo.74.4">Nevertheless, you can install any shell you want on Linux and make it your default one. </span><span class="koboSpan" id="kobo.74.5">In general, shells are pretty similar, as they do the same thing, but they add different </span><em class="italic"><span class="koboSpan" id="kobo.75.1">extras</span></em><span class="koboSpan" id="kobo.76.1"> to usability and features. </span><span class="koboSpan" id="kobo.76.2">If you are interested in a specific shell, feel free to use it and test out the differences </span><span class="No-Break"><span class="koboSpan" id="kobo.77.1">between others.</span></span></p>
<p><span class="koboSpan" id="kobo.78.1">One shell can be assigned to each user. </span><span class="koboSpan" id="kobo.78.2">Users on the same system can use different shells. </span><span class="koboSpan" id="kobo.78.3">One way to check the default shell is by accessing the </span><strong class="source-inline"><span class="koboSpan" id="kobo.79.1">/etc/passwd</span></strong><span class="koboSpan" id="kobo.80.1"> file. </span><span class="koboSpan" id="kobo.80.2">More details about this file and user accounts will be discussed in </span><a href="B19682_04.xhtml#_idTextAnchor090"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.81.1">Chapter 4</span></em></span></a><span class="koboSpan" id="kobo.82.1">, </span><em class="italic"><span class="koboSpan" id="kobo.83.1">Managing Users and Groups</span></em><span class="koboSpan" id="kobo.84.1">. </span><span class="koboSpan" id="kobo.84.2">For now, it is important to know where to look for the default shell. </span><span class="koboSpan" id="kobo.84.3">In this file, the last characters from each line represent the user’s default shell. </span><span class="koboSpan" id="kobo.84.4">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.85.1">/etc/passwd</span></strong><span class="koboSpan" id="kobo.86.1"> file has the users</span><a id="_idIndexMarker172"/><span class="koboSpan" id="kobo.87.1"> listed on each line, with details about their </span><strong class="bold"><span class="koboSpan" id="kobo.88.1">process identification number</span></strong><span class="koboSpan" id="kobo.89.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.90.1">PID</span></strong><span class="koboSpan" id="kobo.91.1">), </span><strong class="bold"><span class="koboSpan" id="kobo.92.1">group identification number</span></strong><span class="koboSpan" id="kobo.93.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.94.1">GID</span></strong><span class="koboSpan" id="kobo.95.1">), username, home</span><a id="_idIndexMarker173"/><span class="koboSpan" id="kobo.96.1"> directory, and </span><span class="No-Break"><span class="koboSpan" id="kobo.97.1">basic shell.</span></span></p>
<p><span class="koboSpan" id="kobo.98.1">To see the default shell for each user, execute the following command by using your user’s name (in our case, it </span><span class="No-Break"><span class="koboSpan" id="kobo.99.1">is </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.100.1">packt</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.101.1">):</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.102.1">
cat /etc/passwd | grep packt</span></pre> <p><span class="koboSpan" id="kobo.103.1">The output should be a list of the contents of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.104.1">/etc/passwd</span></strong><span class="koboSpan" id="kobo.105.1"> file. </span><span class="koboSpan" id="kobo.105.2">Depending on the number of users you have on your system, you will see all of them, each one on a separate line. </span><span class="koboSpan" id="kobo.105.3">An easier way to see the </span><em class="italic"><span class="koboSpan" id="kobo.106.1">current shell</span></em><span class="koboSpan" id="kobo.107.1"> is by running the </span><span class="No-Break"><span class="koboSpan" id="kobo.108.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.109.1">
echo $0</span></pre> <p><span class="koboSpan" id="kobo.110.1">This shows what exactly is running your command, which in the case of the CLI is the shell. </span><span class="koboSpan" id="kobo.110.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.111.1">$0</span></strong><span class="koboSpan" id="kobo.112.1"> part is a </span><strong class="bold"><span class="koboSpan" id="kobo.113.1">bash special parameter</span></strong><span class="koboSpan" id="kobo.114.1"> that</span><a id="_idIndexMarker174"/><span class="koboSpan" id="kobo.115.1"> refers to the currently running process. </span><span class="koboSpan" id="kobo.115.2">In the following screenshot you will see the output of the previous two commands we used to discover</span><a id="_idIndexMarker175"/><span class="koboSpan" id="kobo.116.1"> the shell and a comparison between the output of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.117.1">echo $0</span></strong><span class="koboSpan" id="kobo.118.1"> command on Ubuntu and </span><span class="No-Break"><span class="koboSpan" id="kobo.119.1">on Debian:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer020">
<span class="koboSpan" id="kobo.120.1"><img alt="Figure 2.1 – Commands used to see the running shell" src="image/Figure_02.01_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.121.1">Figure 2.1 – Commands used to see the running shell</span></p>
<p><span class="koboSpan" id="kobo.122.1">As you can see, running the </span><strong class="source-inline"><span class="koboSpan" id="kobo.123.1">echo $0</span></strong><span class="koboSpan" id="kobo.124.1"> command gives us different outputs but with the same message: the running shell is Bash. </span><span class="koboSpan" id="kobo.124.2">If you have other shells that you prefer, you can easily assign another shell to your user, if you already have it installed. </span><span class="koboSpan" id="kobo.124.3">However, if you know Bash, you will be comfortable with all the other </span><span class="No-Break"><span class="koboSpan" id="kobo.125.1">available shells.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.126.1">Important note</span></p>
<p class="callout"><em class="italic"><span class="koboSpan" id="kobo.127.1">The Linux shell is case-sensitive</span></em><span class="koboSpan" id="kobo.128.1">. </span><span class="koboSpan" id="kobo.128.2">This means that everything you type inside the command line should respect this. </span><span class="koboSpan" id="kobo.128.3">For example, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.129.1">cat</span></strong><span class="koboSpan" id="kobo.130.1"> command used earlier used lowercase. </span><span class="koboSpan" id="kobo.130.2">If you type </span><strong class="source-inline"><span class="koboSpan" id="kobo.131.1">Cat</span></strong><span class="koboSpan" id="kobo.132.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.133.1">CAT</span></strong><span class="koboSpan" id="kobo.134.1">, the shell will not recognize it as being a command. </span><span class="koboSpan" id="kobo.134.2">The same rule applies to file paths. </span><span class="koboSpan" id="kobo.134.3">You will notice that default directories in your home directory use uppercase for the first letter, as in </span><strong class="source-inline"><span class="koboSpan" id="kobo.135.1">~/Documents</span></strong><span class="koboSpan" id="kobo.136.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.137.1">~/Downloads</span></strong><span class="koboSpan" id="kobo.138.1">, and so on. </span><span class="koboSpan" id="kobo.138.2">Those names are different from </span><strong class="source-inline"><span class="koboSpan" id="kobo.139.1">~/documents</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.140.1">or </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.141.1">~/downloads</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.142.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.143.1">In this chapter, you will learn how to use Linux commands and the shell in addition to learning about its filesystem. </span><span class="koboSpan" id="kobo.143.2">You will learn about software management in </span><a href="B19682_03.xhtml#_idTextAnchor075"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.144.1">Chapter 3</span></em></span></a><span class="koboSpan" id="kobo.145.1">, thus showing you how to install another shell now would mean that we will get ahead of ourselves. </span><span class="koboSpan" id="kobo.145.2">We want you to slowly </span><a id="_idIndexMarker176"/><span class="koboSpan" id="kobo.146.1">but steadily build your Linux knowledge, so we will show you in the next chapter how to install a new shell. </span><span class="koboSpan" id="kobo.146.2">For now, Bash is sufficient, and we will use it throughout </span><span class="No-Break"><span class="koboSpan" id="kobo.147.1">the book.</span></span></p>
<p><span class="koboSpan" id="kobo.148.1">If you want to see all the shells that are installed on your system, you can run the </span><span class="No-Break"><span class="koboSpan" id="kobo.149.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.150.1">
cat /etc/shells</span></pre> <p><span class="koboSpan" id="kobo.151.1">In our case, the output with all the installed shells (by default) in Ubuntu Server 22.04.2 LTS is shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.152.1">following image:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer021">
<span class="koboSpan" id="kobo.153.1"><img alt="Figure 2.2 – The shells available by default in Ubuntu" src="image/Figure_02.02_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.154.1">Figure 2.2 – The shells available by default in Ubuntu</span></p>
<p><span class="koboSpan" id="kobo.155.1">This will show you all the shells installed. </span><span class="koboSpan" id="kobo.155.2">You can use any of those or can install new ones as we will show you in </span><a href="B19682_03.xhtml#_idTextAnchor075"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.156.1">Chapter 3</span></em></span></a><span class="koboSpan" id="kobo.157.1">. </span><span class="koboSpan" id="kobo.157.2">Also, in </span><a href="B19682_04.xhtml#_idTextAnchor090"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.158.1">Chapter 4</span></em></span></a><span class="koboSpan" id="kobo.159.1">, when we work with user accounts, you will get to learn how you can change a </span><span class="No-Break"><span class="koboSpan" id="kobo.160.1">user’s shell.</span></span></p>
<p><span class="koboSpan" id="kobo.161.1">The following section will introduce you to shell </span><span class="No-Break"><span class="koboSpan" id="kobo.162.1">connection types.</span></span></p>
<h2 id="_idParaDest-42"><a id="_idTextAnchor057"/><span class="koboSpan" id="kobo.163.1">Establishing the shell connection</span></h2>
<p><span class="koboSpan" id="kobo.164.1">We can make two different types</span><a id="_idIndexMarker177"/><span class="koboSpan" id="kobo.165.1"> of connections to the shell: </span><strong class="source-inline"><span class="koboSpan" id="kobo.166.1">tty</span></strong><span class="koboSpan" id="kobo.167.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.168.1">pts</span></strong><span class="koboSpan" id="kobo.169.1">. </span><span class="koboSpan" id="kobo.169.2">The name </span><strong class="source-inline"><span class="koboSpan" id="kobo.170.1">tty</span></strong><span class="koboSpan" id="kobo.171.1"> stands for </span><strong class="bold"><span class="koboSpan" id="kobo.172.1">teletypewriter</span></strong><span class="koboSpan" id="kobo.173.1">, which was a type of terminal used at the</span><a id="_idIndexMarker178"/><span class="koboSpan" id="kobo.174.1"> beginning of computing. </span><span class="koboSpan" id="kobo.174.2">This connection is considered a native one, with ports that are direct connections to your computer. </span><span class="koboSpan" id="kobo.174.3">The link between the user and the computer is mainly found to be through a keyboard, which is considered to be a native </span><span class="No-Break"><span class="koboSpan" id="kobo.175.1">terminal device.</span></span></p>
<p><span class="koboSpan" id="kobo.176.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.177.1">pts</span></strong><span class="koboSpan" id="kobo.178.1"> connection is generated by SSH or Telnet types of links. </span><span class="koboSpan" id="kobo.178.2">Its name stands for </span><strong class="bold"><span class="koboSpan" id="kobo.179.1">pseudo terminal slave</span></strong><span class="koboSpan" id="kobo.180.1">, and it is an </span><a id="_idIndexMarker179"/><span class="koboSpan" id="kobo.181.1">emulated connection made by a program, in most </span><a id="_idIndexMarker180"/><span class="koboSpan" id="kobo.182.1">cases </span><strong class="source-inline"><span class="koboSpan" id="kobo.183.1">ssh</span></strong><span class="koboSpan" id="kobo.184.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.185.1">xterm</span></strong><span class="koboSpan" id="kobo.186.1">. </span><span class="koboSpan" id="kobo.186.2">It is the slave of the </span><strong class="bold"><span class="koboSpan" id="kobo.187.1">pseudo-terminal device</span></strong><span class="koboSpan" id="kobo.188.1">, which</span><a id="_idIndexMarker181"/><span class="koboSpan" id="kobo.189.1"> is represented </span><span class="No-Break"><span class="koboSpan" id="kobo.190.1">as </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.191.1">pty</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.192.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.193.1">In the next section, we will further explore the connections to virtual terminals available </span><span class="No-Break"><span class="koboSpan" id="kobo.194.1">in Linux.</span></span></p>
<h3><span class="koboSpan" id="kobo.195.1">Virtual consoles/terminals</span></h3>
<p><span class="koboSpan" id="kobo.196.1">The terminal was thought of as a device that manages the input strings (which are commands) between a process and other I/O devices such as a keyboard and a screen. </span><span class="koboSpan" id="kobo.196.2">There are also </span><strong class="bold"><span class="koboSpan" id="kobo.197.1">pseudo terminals</span></strong><span class="koboSpan" id="kobo.198.1">, which are</span><a id="_idIndexMarker182"/><span class="koboSpan" id="kobo.199.1"> emulated</span><a id="_idIndexMarker183"/><span class="koboSpan" id="kobo.200.1"> terminals that behave</span><a id="_idIndexMarker184"/><span class="koboSpan" id="kobo.201.1"> the same way as a </span><strong class="bold"><span class="koboSpan" id="kobo.202.1">classical terminal</span></strong><span class="koboSpan" id="kobo.203.1">. </span><span class="koboSpan" id="kobo.203.2">The difference is that it does not interact with devices directly, as it is all emulated by the Linux kernel, which transmits the I/O to a program called </span><span class="No-Break"><span class="koboSpan" id="kobo.204.1">the shell.</span></span></p>
<p><strong class="bold"><span class="koboSpan" id="kobo.205.1">Virtual consoles</span></strong><span class="koboSpan" id="kobo.206.1"> are accessible and run in </span><a id="_idIndexMarker185"/><span class="koboSpan" id="kobo.207.1">the background, even though there is no open terminal. </span><span class="koboSpan" id="kobo.207.2">To access those virtual consoles, you can use the commands </span><em class="italic"><span class="koboSpan" id="kobo.208.1">Ctrl</span></em><span class="koboSpan" id="kobo.209.1"> + </span><em class="italic"><span class="koboSpan" id="kobo.210.1">Alt</span></em><span class="koboSpan" id="kobo.211.1"> + </span><em class="italic"><span class="koboSpan" id="kobo.212.1">F1</span></em><span class="koboSpan" id="kobo.213.1">, </span><em class="italic"><span class="koboSpan" id="kobo.214.1">Ctrl</span></em><span class="koboSpan" id="kobo.215.1"> + </span><em class="italic"><span class="koboSpan" id="kobo.216.1">Alt</span></em><span class="koboSpan" id="kobo.217.1"> + </span><em class="italic"><span class="koboSpan" id="kobo.218.1">F2</span></em><span class="koboSpan" id="kobo.219.1">, </span><em class="italic"><span class="koboSpan" id="kobo.220.1">Ctrl</span></em><span class="koboSpan" id="kobo.221.1"> + </span><em class="italic"><span class="koboSpan" id="kobo.222.1">Alt</span></em><span class="koboSpan" id="kobo.223.1"> + </span><em class="italic"><span class="koboSpan" id="kobo.224.1">F3</span></em><span class="koboSpan" id="kobo.225.1"> , </span><em class="italic"><span class="koboSpan" id="kobo.226.1">Ctrl</span></em><span class="koboSpan" id="kobo.227.1"> + </span><em class="italic"><span class="koboSpan" id="kobo.228.1">Alt</span></em><span class="koboSpan" id="kobo.229.1"> + </span><em class="italic"><span class="koboSpan" id="kobo.230.1">F4</span></em><span class="koboSpan" id="kobo.231.1"> , </span><em class="italic"><span class="koboSpan" id="kobo.232.1">Ctrl</span></em><span class="koboSpan" id="kobo.233.1"> + </span><em class="italic"><span class="koboSpan" id="kobo.234.1">Alt</span></em><span class="koboSpan" id="kobo.235.1"> + </span><em class="italic"><span class="koboSpan" id="kobo.236.1">F5</span></em><span class="koboSpan" id="kobo.237.1">, and </span><em class="italic"><span class="koboSpan" id="kobo.238.1">Ctrl</span></em><span class="koboSpan" id="kobo.239.1"> + </span><em class="italic"><span class="koboSpan" id="kobo.240.1">Alt</span></em><span class="koboSpan" id="kobo.241.1"> + </span><em class="italic"><span class="koboSpan" id="kobo.242.1">F6</span></em><span class="koboSpan" id="kobo.243.1">. </span><span class="koboSpan" id="kobo.243.2">These will open </span><strong class="source-inline"><span class="koboSpan" id="kobo.244.1">tty1</span></strong><span class="koboSpan" id="kobo.245.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.246.1">tty2</span></strong><span class="koboSpan" id="kobo.247.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.248.1">tty3,</span></strong> <strong class="source-inline"><span class="koboSpan" id="kobo.249.1">tty4</span></strong><span class="koboSpan" id="kobo.250.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.251.1">tty5</span></strong><span class="koboSpan" id="kobo.252.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.253.1">tty6</span></strong><span class="koboSpan" id="kobo.254.1">, respectively, on </span><span class="No-Break"><span class="koboSpan" id="kobo.255.1">your computer.</span></span></p>
<p><span class="koboSpan" id="kobo.256.1">We will explain this using an Ubuntu 22.04.2 LTS Server VM installation, but it is identical in Rocky Linux too. </span><span class="koboSpan" id="kobo.256.2">After starting the VM and being prompted to log in with your username and password, the first line on the screen will be something similar to the </span><span class="No-Break"><span class="koboSpan" id="kobo.257.1">following output:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.258.1">
Ubuntu 22.04.2 LTS neptune tty1</span></pre> <p><span class="koboSpan" id="kobo.259.1">If you press any of the preceding key combinations, you will see your terminal change from </span><strong class="source-inline"><span class="koboSpan" id="kobo.260.1">tty1</span></strong><span class="koboSpan" id="kobo.261.1"> to any of the other </span><strong class="source-inline"><span class="koboSpan" id="kobo.262.1">tty</span></strong><span class="koboSpan" id="kobo.263.1"> instances. </span><span class="koboSpan" id="kobo.263.2">For example, if you press </span><em class="italic"><span class="koboSpan" id="kobo.264.1">Ctrl</span></em><span class="koboSpan" id="kobo.265.1"> + </span><em class="italic"><span class="koboSpan" id="kobo.266.1">Alt</span></em><span class="koboSpan" id="kobo.267.1"> + </span><em class="italic"><span class="koboSpan" id="kobo.268.1">F6</span></em><span class="koboSpan" id="kobo.269.1">, you will </span><span class="No-Break"><span class="koboSpan" id="kobo.270.1">see this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.271.1">
Ubuntu 22.04.2 LTS neptune tty6</span></pre> <p><span class="koboSpan" id="kobo.272.1">As we were using the server edition of Ubuntu, we did not have the GUI installed. </span><span class="koboSpan" id="kobo.272.2">But if you were to use a desktop edition, you will be able to use </span><em class="italic"><span class="koboSpan" id="kobo.273.1">Ctrl</span></em><span class="koboSpan" id="kobo.274.1"> + </span><em class="italic"><span class="koboSpan" id="kobo.275.1">Alt</span></em><span class="koboSpan" id="kobo.276.1"> + </span><em class="italic"><span class="koboSpan" id="kobo.277.1">F7</span></em><span class="koboSpan" id="kobo.278.1"> to enter </span><strong class="source-inline"><span class="koboSpan" id="kobo.279.1">X graphical</span></strong><span class="koboSpan" id="kobo.280.1"> mode, for example. </span><span class="koboSpan" id="kobo.280.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.281.1">neptune</span></strong><span class="koboSpan" id="kobo.282.1"> string is the name we gave to our </span><span class="No-Break"><span class="koboSpan" id="kobo.283.1">virtual machine.</span></span></p>
<p><span class="koboSpan" id="kobo.284.1">If you are not able to use the preceding keyboard combinations, there is a dedicated command for changing virtual terminals. </span><span class="koboSpan" id="kobo.284.2">The command is called </span><strong class="source-inline"><span class="koboSpan" id="kobo.285.1">chvt</span></strong><span class="koboSpan" id="kobo.286.1"> and has the syntax </span><strong class="source-inline"><span class="koboSpan" id="kobo.287.1">chvt N</span></strong><span class="koboSpan" id="kobo.288.1">. </span><span class="koboSpan" id="kobo.288.2">Even though we have not discussed shell commands yet, we will show you an example of how to use them and other related commands. </span><span class="koboSpan" id="kobo.288.3">This action can only be performed by an administrator account or by using </span><strong class="source-inline"><span class="koboSpan" id="kobo.289.1">sudo</span></strong><span class="koboSpan" id="kobo.290.1">. </span><span class="koboSpan" id="kobo.290.2">Briefly, </span><strong class="source-inline"><span class="koboSpan" id="kobo.291.1">sudo</span></strong><span class="koboSpan" id="kobo.292.1"> stands for </span><em class="italic"><span class="koboSpan" id="kobo.293.1">superuser do</span></em><span class="koboSpan" id="kobo.294.1"> and allows any user to run programs with administrative privileges or with the privileges of another user (more details about this in </span><a href="B19682_04.xhtml#_idTextAnchor090"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.295.1">Chapter 4</span></em></span></a><span class="koboSpan" id="kobo.296.1">, </span><em class="italic"><span class="koboSpan" id="kobo.297.1">Managing Users </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.298.1">and Groups</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.299.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.300.1">In the following example, we will use Ubuntu to show you how to change virtual terminals. </span><span class="koboSpan" id="kobo.300.2">First, we will see which virtual terminal we are currently using to change it to another one without using the </span><em class="italic"><span class="koboSpan" id="kobo.301.1">Ctrl</span></em><span class="koboSpan" id="kobo.302.1"> + </span><em class="italic"><span class="koboSpan" id="kobo.303.1">Alt</span></em><span class="koboSpan" id="kobo.304.1"> + </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.305.1">Fn</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.306.1"> keys.</span></span></p>
<p><span class="koboSpan" id="kobo.307.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.308.1">who</span></strong><span class="koboSpan" id="kobo.309.1"> command will show you information about the users currently logged in to the computer. </span><span class="koboSpan" id="kobo.309.2">In our case, as we are</span><a id="_idIndexMarker186"/><span class="koboSpan" id="kobo.310.1"> connected through SSH to our virtual machine, it will show that the user </span><strong class="source-inline"><span class="koboSpan" id="kobo.311.1">packt</span></strong><span class="koboSpan" id="kobo.312.1"> is currently using pseudo-terminal </span><span class="No-Break"><span class="koboSpan" id="kobo.313.1">zero (</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.314.1">pts/0</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.315.1">):</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.316.1">
packt    pts/0        2023-02-28 10:45 (192.168.122.1)</span></pre> <p><span class="koboSpan" id="kobo.317.1">If we were to run the same command in the console of the virtual machine directly, we would have the </span><span class="No-Break"><span class="koboSpan" id="kobo.318.1">following output:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.319.1">
packt    pts/0        2023-02-28 10:45 (192.168.122.1)
packt    tty1         2023-02-28 10:50</span></pre> <p><span class="koboSpan" id="kobo.320.1">It shows that the user is connected to both the virtual terminal 1 (</span><strong class="source-inline"><span class="koboSpan" id="kobo.321.1">tty1</span></strong><span class="koboSpan" id="kobo.322.1">) and also through SSH from our host operating system to the virtual </span><span class="No-Break"><span class="koboSpan" id="kobo.323.1">machine (</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.324.1">pts/0</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.325.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.326.1">Now, by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.327.1">chvt</span></strong><span class="koboSpan" id="kobo.328.1"> command, we will show you how to change to the sixth virtual terminal. </span><span class="koboSpan" id="kobo.328.2">After running </span><strong class="source-inline"><span class="koboSpan" id="kobo.329.1">sudo chvt 6</span></strong><span class="koboSpan" id="kobo.330.1">, you will be prompted to provide your password and immediately be switched to virtual terminal number six. </span><span class="koboSpan" id="kobo.330.2">Running </span><strong class="source-inline"><span class="koboSpan" id="kobo.331.1">who</span></strong><span class="koboSpan" id="kobo.332.1"> once more will show you all logged-in users and the virtual terminals they use. </span><span class="koboSpan" id="kobo.332.2">In our case will be </span><strong class="source-inline"><span class="koboSpan" id="kobo.333.1">pts/0</span></strong><span class="koboSpan" id="kobo.334.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.335.1">tty2</span></strong><span class="koboSpan" id="kobo.336.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.337.1">tty6</span></strong><span class="koboSpan" id="kobo.338.1">. </span><span class="koboSpan" id="kobo.338.2">Please take into consideration that your output could be different, as in different virtual </span><span class="No-Break"><span class="koboSpan" id="kobo.339.1">terminal numbers.</span></span></p>
<p><span class="koboSpan" id="kobo.340.1">Now that we know what </span><a id="_idIndexMarker187"/><span class="koboSpan" id="kobo.341.1">types of shell connections are established, let us learn about the shell’s prompt in the </span><span class="No-Break"><span class="koboSpan" id="kobo.342.1">next section.</span></span></p>
<h2 id="_idParaDest-43"><a id="_idTextAnchor058"/><span class="koboSpan" id="kobo.343.1">The command-line prompt</span></h2>
<p><span class="koboSpan" id="kobo.344.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.345.1">command-line prompt</span></strong><span class="koboSpan" id="kobo.346.1"> or </span><strong class="bold"><span class="koboSpan" id="kobo.347.1">shell prompt</span></strong><span class="koboSpan" id="kobo.348.1"> is the</span><a id="_idIndexMarker188"/><span class="koboSpan" id="kobo.349.1"> place where you type in the commands. </span><span class="koboSpan" id="kobo.349.2">Usually, the command </span><a id="_idIndexMarker189"/><span class="koboSpan" id="kobo.350.1">prompt will </span><a id="_idIndexMarker190"/><span class="koboSpan" id="kobo.351.1">show the username, hostname, present working directory, and a symbol that indicates the type of user running </span><span class="No-Break"><span class="koboSpan" id="kobo.352.1">the shell.</span></span></p>
<p><span class="koboSpan" id="kobo.353.1">Here is an example from the Ubuntu 22.04.2 LTS Server edition (similar </span><span class="No-Break"><span class="koboSpan" id="kobo.354.1">to Debian):</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.355.1">
packt@saturn:~$</span></pre> <p><span class="koboSpan" id="kobo.356.1">Here is an example from the Fedora 37 server (similar to Rocky Linux, RHEL, </span><span class="No-Break"><span class="koboSpan" id="kobo.357.1">or AlmaLinux):</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.358.1">
[packt@localhost ~]$</span></pre> <p><span class="koboSpan" id="kobo.359.1">Here is a short explanation of </span><span class="No-Break"><span class="koboSpan" id="kobo.360.1">the prompt:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.361.1">packt</span></strong><span class="koboSpan" id="kobo.362.1"> is the name of the user currently </span><span class="No-Break"><span class="koboSpan" id="kobo.363.1">logged in</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.364.1">saturn</span></strong><span class="koboSpan" id="kobo.365.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.366.1">localhost</span></strong><span class="koboSpan" id="kobo.367.1"> are </span><span class="No-Break"><span class="koboSpan" id="kobo.368.1">the hostnames</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.369.1">~</span></strong><span class="koboSpan" id="kobo.370.1"> represents the home directory (it is called </span><span class="No-Break"><span class="koboSpan" id="kobo.371.1">a tilde)</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.372.1">$</span></strong><span class="koboSpan" id="kobo.373.1"> shows that the user is a regular user (when you are logged in as an administrator, the sign changes into a </span><span class="No-Break"><span class="koboSpan" id="kobo.374.1">hashtag, </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.375.1">#</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.376.1">)</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.377.1">Also, when using openSUSE, you will notice that the prompt is different than the ones in Ubuntu/Debian and Fedora/RHEL. </span><span class="koboSpan" id="kobo.377.2">The following is an example of the prompt while running the Leap 15.4 </span><span class="No-Break"><span class="koboSpan" id="kobo.378.1">server edition:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.379.1">
packt@localhost:~&gt;</span></pre> <p><span class="koboSpan" id="kobo.380.1">As you can see, there is no dollar sign (</span><strong class="source-inline"><span class="koboSpan" id="kobo.381.1">$</span></strong><span class="koboSpan" id="kobo.382.1">) or hashtag (</span><strong class="source-inline"><span class="koboSpan" id="kobo.383.1">#</span></strong><span class="koboSpan" id="kobo.384.1">), only a greater than sign (</span><strong class="source-inline"><span class="koboSpan" id="kobo.385.1">&gt;</span></strong><span class="koboSpan" id="kobo.386.1">). </span><span class="koboSpan" id="kobo.386.2">This might be </span><a id="_idIndexMarker191"/><span class="koboSpan" id="kobo.387.1">confusing at first, but when you will use the root user, the sign will eventually change to the</span><a id="_idIndexMarker192"/><span class="koboSpan" id="kobo.388.1"> hashtag (</span><strong class="source-inline"><span class="koboSpan" id="kobo.389.1">#</span></strong><span class="koboSpan" id="kobo.390.1">). </span><span class="koboSpan" id="kobo.390.2">The following is </span><span class="No-Break"><span class="koboSpan" id="kobo.391.1">an example:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.392.1">
localhost:/home/packt #</span></pre> <p><span class="koboSpan" id="kobo.393.1">Let’s look at the shell command </span><span class="No-Break"><span class="koboSpan" id="kobo.394.1">types next.</span></span></p>
<h2 id="_idParaDest-44"><a id="_idTextAnchor059"/><span class="koboSpan" id="kobo.395.1">Shell command types</span></h2>
<p><span class="koboSpan" id="kobo.396.1">Shells work with </span><strong class="bold"><span class="koboSpan" id="kobo.397.1">commands</span></strong><span class="koboSpan" id="kobo.398.1">, and there are two types that they use: internal ones and external </span><a id="_idIndexMarker193"/><span class="koboSpan" id="kobo.399.1">ones. </span><strong class="bold"><span class="koboSpan" id="kobo.400.1">Internal commands</span></strong><span class="koboSpan" id="kobo.401.1"> are built inside the shell. </span><strong class="bold"><span class="koboSpan" id="kobo.402.1">External commands</span></strong><span class="koboSpan" id="kobo.403.1"> are installed </span><a id="_idIndexMarker194"/><span class="koboSpan" id="kobo.404.1">separately. </span><span class="koboSpan" id="kobo.404.2">If you want to check the </span><a id="_idIndexMarker195"/><span class="koboSpan" id="kobo.405.1">type of command you are using, there is the </span><strong class="source-inline"><span class="koboSpan" id="kobo.406.1">type</span></strong><span class="koboSpan" id="kobo.407.1"> command. </span><span class="koboSpan" id="kobo.407.2">For example, you can check what type of command </span><strong class="source-inline"><span class="koboSpan" id="kobo.408.1">cd</span></strong><span class="koboSpan" id="kobo.409.1"> (change </span><span class="No-Break"><span class="koboSpan" id="kobo.410.1">directory) is:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.411.1">
packt@neptune:~$ type cd
cd is a shell builtin</span></pre> <p><span class="koboSpan" id="kobo.412.1">The output shows that the </span><strong class="source-inline"><span class="koboSpan" id="kobo.413.1">cd</span></strong><span class="koboSpan" id="kobo.414.1"> command is an internal one, built inside the shell. </span><span class="koboSpan" id="kobo.414.2">If you are curious, you could find out the types of other commands that we will show you in the following sections by writing type in front of the command’s name. </span><span class="koboSpan" id="kobo.414.3">Let us see some more examples in the </span><span class="No-Break"><span class="koboSpan" id="kobo.415.1">following image:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer022">
<span class="koboSpan" id="kobo.416.1"><img alt="Figure 2.3 – Different types of commands in Linux" src="image/Figure_02.03_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.417.1">Figure 2.3 – Different types of commands in Linux</span></p>
<p><span class="koboSpan" id="kobo.418.1">Now that you know some of the types of Linux commands, let us dissect the command’s structure and learn about </span><span class="No-Break"><span class="koboSpan" id="kobo.419.1">its components.</span></span></p>
<h2 id="_idParaDest-45"><a id="_idTextAnchor060"/><span class="koboSpan" id="kobo.420.1">Explaining the command structure</span></h2>
<p><span class="koboSpan" id="kobo.421.1">We have already used</span><a id="_idIndexMarker196"/><span class="koboSpan" id="kobo.422.1"> some commands, but we did not explain the structure of a Linux command. </span><span class="koboSpan" id="kobo.422.2">We will do that now for you to be able to understand how to use commands. </span><span class="koboSpan" id="kobo.422.3">In a nutshell, Unix and Linux commands have the </span><span class="No-Break"><span class="koboSpan" id="kobo.423.1">following form:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.424.1">The </span><span class="No-Break"><span class="koboSpan" id="kobo.425.1">command’s name</span></span></li>
<li><span class="koboSpan" id="kobo.426.1">The </span><span class="No-Break"><span class="koboSpan" id="kobo.427.1">command’s options</span></span></li>
<li><span class="koboSpan" id="kobo.428.1">The </span><span class="No-Break"><span class="koboSpan" id="kobo.429.1">command’s arguments</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.430.1">Inside the shell, you will have a general structure such as </span><span class="No-Break"><span class="koboSpan" id="kobo.431.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.432.1">
command [-option(s)] [argument(s)]</span></pre> <p><span class="koboSpan" id="kobo.433.1">A suitable example would be the use of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.434.1">ls</span></strong><span class="koboSpan" id="kobo.435.1"> command (</span><strong class="source-inline"><span class="koboSpan" id="kobo.436.1">ls</span></strong><span class="koboSpan" id="kobo.437.1"> comes from a </span><em class="italic"><span class="koboSpan" id="kobo.438.1">list</span></em><span class="koboSpan" id="kobo.439.1">). </span><span class="koboSpan" id="kobo.439.2">This command is one of the most-used commands in Linux. </span><span class="koboSpan" id="kobo.439.3">It lists files and directories and can be used with both options </span><span class="No-Break"><span class="koboSpan" id="kobo.440.1">and arguments.</span></span></p>
<p><span class="koboSpan" id="kobo.441.1">We can use </span><strong class="source-inline"><span class="koboSpan" id="kobo.442.1">ls</span></strong><span class="koboSpan" id="kobo.443.1"> in its simplest form, without options or arguments. </span><span class="koboSpan" id="kobo.443.2">It lists the contents of your present working directory (</span><strong class="source-inline"><span class="koboSpan" id="kobo.444.1">pwd</span></strong><span class="koboSpan" id="kobo.445.1">). </span><span class="koboSpan" id="kobo.445.2">In our case, it is the home directory, indicated by the </span><strong class="source-inline"><span class="koboSpan" id="kobo.446.1">~</span></strong><span class="koboSpan" id="kobo.447.1"> tilde character in the shell’s prompt (see </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.448.1">Figure 2</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.449.1">.10</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.450.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.451.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.452.1">ls</span></strong><span class="koboSpan" id="kobo.453.1"> command with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.454.1">-l</span></strong><span class="koboSpan" id="kobo.455.1"> option (lowercase L) uses a long listing format, giving you extra information about files and directories from your present working </span><span class="No-Break"><span class="koboSpan" id="kobo.456.1">directory (</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.457.1">pwd</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.458.1">):</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer023">
<span class="koboSpan" id="kobo.459.1"><img alt="Figure 2.4 – Using the ls command with both options and attributes" src="image/Figure_02.04_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.460.1">Figure 2.4 – Using the ls command with both options and attributes</span></p>
<p><span class="koboSpan" id="kobo.461.1">In the preceding example, we used </span><strong class="source-inline"><span class="koboSpan" id="kobo.462.1">ls -l ~/Documents/</span></strong><span class="koboSpan" id="kobo.463.1"> to show the contents of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.464.1">~/Documents</span></strong><span class="koboSpan" id="kobo.465.1"> directory. </span><span class="koboSpan" id="kobo.465.2">Shown</span><a id="_idIndexMarker197"/><span class="koboSpan" id="kobo.466.1"> here is a way to use the command with both options and attributes, without changing our present working directory </span><span class="No-Break"><span class="koboSpan" id="kobo.467.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.468.1">~/Documents</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.469.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.470.1">In the following section, we will show you how to use the manual pages available by default </span><span class="No-Break"><span class="koboSpan" id="kobo.471.1">in Linux.</span></span></p>
<h2 id="_idParaDest-46"><a id="_idTextAnchor061"/><span class="koboSpan" id="kobo.472.1">Consulting the manual</span></h2>
<p><span class="koboSpan" id="kobo.473.1">Any Linux system</span><a id="_idIndexMarker198"/><span class="koboSpan" id="kobo.474.1"> administrator’s best friend is the manual. </span><span class="koboSpan" id="kobo.474.2">Each command in Linux has a manual page that gives the user detailed information about its use, options, and attributes. </span><span class="koboSpan" id="kobo.474.3">If you know the command you want to learn more about, simply use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.475.1">man</span></strong><span class="koboSpan" id="kobo.476.1"> command to explore. </span><span class="koboSpan" id="kobo.476.2">For the </span><strong class="source-inline"><span class="koboSpan" id="kobo.477.1">ls</span></strong><span class="koboSpan" id="kobo.478.1"> command, for example, you use </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.479.1">man ls</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.480.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.481.1">The manual organizes its command information into different sections, with each section being named by convention to be the same on all distributions. </span><span class="koboSpan" id="kobo.481.2">Briefly, those sections are </span><strong class="source-inline"><span class="koboSpan" id="kobo.482.1">name</span></strong><span class="koboSpan" id="kobo.483.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.484.1">synopsis</span></strong><span class="koboSpan" id="kobo.485.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.486.1">configuration</span></strong><span class="koboSpan" id="kobo.487.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.488.1">description</span></strong><span class="koboSpan" id="kobo.489.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.490.1">options</span></strong><span class="koboSpan" id="kobo.491.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.492.1">exit status</span></strong><span class="koboSpan" id="kobo.493.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.494.1">return value</span></strong><span class="koboSpan" id="kobo.495.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.496.1">errors</span></strong><span class="koboSpan" id="kobo.497.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.498.1">environment</span></strong><span class="koboSpan" id="kobo.499.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.500.1">files</span></strong><span class="koboSpan" id="kobo.501.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.502.1">versions</span></strong><span class="koboSpan" id="kobo.503.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.504.1">conforming to</span></strong><span class="koboSpan" id="kobo.505.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.506.1">notes</span></strong><span class="koboSpan" id="kobo.507.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.508.1">bugs</span></strong><span class="koboSpan" id="kobo.509.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.510.1">example</span></strong><span class="koboSpan" id="kobo.511.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.512.1">authors</span></strong><span class="koboSpan" id="kobo.513.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.514.1">copyright</span></strong><span class="koboSpan" id="kobo.515.1">, and </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.516.1">see also</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.517.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.518.1">Similar to the </span><a id="_idIndexMarker199"/><span class="koboSpan" id="kobo.519.1">manual pages, almost all commands in Linux have a </span><strong class="source-inline"><span class="koboSpan" id="kobo.520.1">-help</span></strong><span class="koboSpan" id="kobo.521.1"> option. </span><span class="koboSpan" id="kobo.521.2">You can use this for </span><span class="No-Break"><span class="koboSpan" id="kobo.522.1">quick reference.</span></span></p>
<p><span class="koboSpan" id="kobo.523.1">For more information </span><a id="_idIndexMarker200"/><span class="koboSpan" id="kobo.524.1">about the </span><strong class="source-inline"><span class="koboSpan" id="kobo.525.1">help</span></strong><span class="koboSpan" id="kobo.526.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.527.1">man</span></strong><span class="koboSpan" id="kobo.528.1"> pages, you can check each command’s help or manual page. </span><span class="koboSpan" id="kobo.528.2">Try the </span><span class="No-Break"><span class="koboSpan" id="kobo.529.1">following commands:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.530.1">
$ man man
$ help help</span></pre> <p><span class="koboSpan" id="kobo.531.1">When you use the manual, keep in mind that it is not a step-by-step how-to guide. </span><span class="koboSpan" id="kobo.531.2">It is technical documentation that might be confusing at first. </span><span class="koboSpan" id="kobo.531.3">Our advice is to use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.532.1">man</span></strong><span class="koboSpan" id="kobo.533.1"> pages as much as you can. </span><span class="koboSpan" id="kobo.533.2">Before you search for anything on the internet, try to read the manual first. </span><span class="koboSpan" id="kobo.533.3">This will be a good exercise, and you will become proficient with Linux commands in </span><span class="No-Break"><span class="koboSpan" id="kobo.534.1">no time.</span></span></p>
<p><span class="koboSpan" id="kobo.535.1">Consider the manual your friend, similar to the textbooks you used in high school or college. </span><span class="koboSpan" id="kobo.535.2">It will give you first-hand information when you most need it. </span><span class="koboSpan" id="kobo.535.3">If you take into consideration situations where outside internet access is limited, with no access to search engines, the built-in manual will be your best companion. </span><span class="koboSpan" id="kobo.535.4">Learn to use its powers to </span><span class="No-Break"><span class="koboSpan" id="kobo.536.1">your advantage.</span></span></p>
<p><span class="koboSpan" id="kobo.537.1">In the following section, you will learn about the </span><span class="No-Break"><span class="koboSpan" id="kobo.538.1">Linux filesystem.</span></span></p>
<h1 id="_idParaDest-47"><a id="_idTextAnchor062"/><span class="koboSpan" id="kobo.539.1">The Linux filesystem</span></h1>
<p><span class="koboSpan" id="kobo.540.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.541.1">Linux filesystem</span></strong><span class="koboSpan" id="kobo.542.1"> consists of a logical collection of files that are stored on a partition or a disk. </span><span class="koboSpan" id="kobo.542.2">Your hard drive can</span><a id="_idIndexMarker201"/><span class="koboSpan" id="kobo.543.1"> have one or many partitions. </span><span class="koboSpan" id="kobo.543.2">Those partitions usually contain only one filesystem, and they can extend to an entire disk. </span><span class="koboSpan" id="kobo.543.3">One filesystem could be the </span><strong class="source-inline"><span class="koboSpan" id="kobo.544.1">/ (root)</span></strong><span class="koboSpan" id="kobo.545.1"> filesystem and another the </span><strong class="source-inline"><span class="koboSpan" id="kobo.546.1">/home</span></strong><span class="koboSpan" id="kobo.547.1"> filesystem. </span><span class="koboSpan" id="kobo.547.2">Or, there can be just one that contains </span><span class="No-Break"><span class="koboSpan" id="kobo.548.1">all filesystems.</span></span></p>
<p><span class="koboSpan" id="kobo.549.1">Generally, using one filesystem per partition is considered to be good practice by allowing for logical maintenance and management. </span><span class="koboSpan" id="kobo.549.2">As everything in Linux is a file, physical devices such as hard drives, DVD drives, USB devices, and floppy drives are treated as files too. </span><span class="koboSpan" id="kobo.549.3">In this section, you will learn about the directory structure, how to work with files, and some very useful editing </span><a id="_idIndexMarker202"/><span class="koboSpan" id="kobo.550.1">techniques from the </span><span class="No-Break"><span class="koboSpan" id="kobo.551.1">command line.</span></span></p>
<h2 id="_idParaDest-48"><a id="_idTextAnchor063"/><span class="koboSpan" id="kobo.552.1">Directory structure</span></h2>
<p><span class="koboSpan" id="kobo.553.1">Linux uses a </span><strong class="bold"><span class="koboSpan" id="kobo.554.1">hierarchical</span></strong><span class="koboSpan" id="kobo.555.1"> filesystem</span><a id="_idIndexMarker203"/><span class="koboSpan" id="kobo.556.1"> structure. </span><span class="koboSpan" id="kobo.556.2">It is similar to an upside-down tree, with the root (</span><strong class="source-inline"><span class="koboSpan" id="kobo.557.1">`/`</span></strong><span class="koboSpan" id="kobo.558.1">) at the base of the filesystem. </span><span class="koboSpan" id="kobo.558.2">From that point, all the branches (directories) spread throughout </span><span class="No-Break"><span class="koboSpan" id="kobo.559.1">the filesystem.</span></span></p>
<p><span class="koboSpan" id="kobo.560.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.561.1">Filesystem Hierarchy Standard</span></strong><span class="koboSpan" id="kobo.562.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.563.1">FHS</span></strong><span class="koboSpan" id="kobo.564.1">) defines</span><a id="_idIndexMarker204"/><span class="koboSpan" id="kobo.565.1"> the structure of Unix-like filesystems. </span><span class="koboSpan" id="kobo.565.2">However, Linux filesystems also contain some directories that aren’t yet defined by </span><span class="No-Break"><span class="koboSpan" id="kobo.566.1">the standard.</span></span></p>
<h3><span class="koboSpan" id="kobo.567.1">Exploring the Linux filesystem from the command line</span></h3>
<p><span class="koboSpan" id="kobo.568.1">Feel free to explore the filesystem</span><a id="_idIndexMarker205"/><span class="koboSpan" id="kobo.569.1"> yourself by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.570.1">tree</span></strong><span class="koboSpan" id="kobo.571.1"> command. </span><span class="koboSpan" id="kobo.571.2">In Fedora Linux, it is already installed, but if you use Ubuntu, you will have to install it by using the </span><span class="No-Break"><span class="koboSpan" id="kobo.572.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.573.1">
$ sudo apt install tree</span></pre> <p><span class="koboSpan" id="kobo.574.1">Do not be afraid to explore the filesystem, because no harm will be done just by looking around. </span><span class="koboSpan" id="kobo.574.2">You can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.575.1">ls</span></strong><span class="koboSpan" id="kobo.576.1"> command to list the contents of directories, but </span><strong class="source-inline"><span class="koboSpan" id="kobo.577.1">tree</span></strong><span class="koboSpan" id="kobo.578.1"> offers different graphics. </span><span class="koboSpan" id="kobo.578.2">The following image shows you the differences between </span><span class="No-Break"><span class="koboSpan" id="kobo.579.1">the outputs:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer024">
<span class="koboSpan" id="kobo.580.1"><img alt="Figure 2.5 – Comparing the output of ls -la commands and tree -a commands" src="image/Figure_02.05_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.581.1">Figure 2.5 – Comparing the output of ls -la commands and tree -a commands</span></p>
<p><span class="koboSpan" id="kobo.582.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.583.1">tree</span></strong><span class="koboSpan" id="kobo.584.1"> command has different options available, and you can learn about them by using the manual. </span><span class="koboSpan" id="kobo.584.2">Let us</span><a id="_idIndexMarker206"/><span class="koboSpan" id="kobo.585.1"> use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.586.1">tree</span></strong><span class="koboSpan" id="kobo.587.1"> command by invoking the </span><strong class="source-inline"><span class="koboSpan" id="kobo.588.1">-L</span></strong><span class="koboSpan" id="kobo.589.1"> option, which tells the command how many levels down to go, and the last attribute states which directory to start with. </span><span class="koboSpan" id="kobo.589.2">In our example, the command will go down one level, starting from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.590.1">root</span></strong><span class="koboSpan" id="kobo.591.1"> directory, represented by the forward slash as an argument (see </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.592.1">Figure 2</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.593.1">.12</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.594.1">):</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.595.1">
$ tree -L 1 /</span></pre> <p><span class="koboSpan" id="kobo.596.1">Start exploring the directories from the structure by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.597.1">tree</span></strong><span class="koboSpan" id="kobo.598.1"> command, as </span><span class="No-Break"><span class="koboSpan" id="kobo.599.1">shown here:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer025">
<span class="koboSpan" id="kobo.600.1"><img alt="Figure 2.6 – The tree command with option and argument on Ubuntu" src="image/Figure_02.06_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.601.1">Figure 2.6 – The tree command with option and argument on Ubuntu</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.602.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.603.1">Remember that some of the directories you are about to open will contain a large number of files and/or other directories, which will clutter your </span><span class="No-Break"><span class="koboSpan" id="kobo.604.1">terminal window.</span></span></p>
<p><span class="koboSpan" id="kobo.605.1">The following are the</span><a id="_idIndexMarker207"/><span class="koboSpan" id="kobo.606.1"> directories that exist on almost all versions of Linux. </span><span class="koboSpan" id="kobo.606.2">Here’s a quick overview of the Linux </span><span class="No-Break"><span class="koboSpan" id="kobo.607.1">root filesystem:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.608.1">/</span></strong><span class="koboSpan" id="kobo.609.1">: Root directory. </span><span class="koboSpan" id="kobo.609.2">The root for all </span><span class="No-Break"><span class="koboSpan" id="kobo.610.1">other directories.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.611.1">/bin</span></strong><span class="koboSpan" id="kobo.612.1">: Essential command binaries. </span><span class="koboSpan" id="kobo.612.2">The place where binary programs </span><span class="No-Break"><span class="koboSpan" id="kobo.613.1">are stored.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.614.1">/boot</span></strong><span class="koboSpan" id="kobo.615.1">: Static files of the boot loader. </span><span class="koboSpan" id="kobo.615.2">The place where the kernel, bootloader, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.616.1">initramfs</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.617.1">are stored.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.618.1">/dev</span></strong><span class="koboSpan" id="kobo.619.1">: Device files. </span><span class="koboSpan" id="kobo.619.2">Nodes to the device equipment, a kernel </span><span class="No-Break"><span class="koboSpan" id="kobo.620.1">device list.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.621.1">/etc</span></strong><span class="koboSpan" id="kobo.622.1">: Host-specific system configuration. </span><span class="koboSpan" id="kobo.622.2">Essential config files for the system, boot time loading </span><a id="_idIndexMarker208"/><span class="koboSpan" id="kobo.623.1">scripts, </span><strong class="source-inline"><span class="koboSpan" id="kobo.624.1">crontab</span></strong><span class="koboSpan" id="kobo.625.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.626.1">fstab</span></strong><span class="koboSpan" id="kobo.627.1"> device storage tables, </span><strong class="source-inline"><span class="koboSpan" id="kobo.628.1">passwd</span></strong><span class="koboSpan" id="kobo.629.1"> user </span><span class="No-Break"><span class="koboSpan" id="kobo.630.1">accounts file.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.631.1">/home</span></strong><span class="koboSpan" id="kobo.632.1">: user Home directory. </span><span class="koboSpan" id="kobo.632.2">The place where the user’s files </span><span class="No-Break"><span class="koboSpan" id="kobo.633.1">are stored.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.634.1">/lib</span></strong><span class="koboSpan" id="kobo.635.1">: Essential shared libraries and</span><a id="_idIndexMarker209"/><span class="koboSpan" id="kobo.636.1"> kernel modules. </span><span class="koboSpan" id="kobo.636.2">Shared libraries are similar to </span><strong class="bold"><span class="koboSpan" id="kobo.637.1">Dynamic Link Library</span></strong><span class="koboSpan" id="kobo.638.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.639.1">DLL</span></strong><span class="koboSpan" id="kobo.640.1">) files </span><span class="No-Break"><span class="koboSpan" id="kobo.641.1">in Windows.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.642.1">/media</span></strong><span class="koboSpan" id="kobo.643.1">: Mount</span><a id="_idIndexMarker210"/><span class="koboSpan" id="kobo.644.1"> point for removable media. </span><span class="koboSpan" id="kobo.644.2">For external devices and USB </span><span class="No-Break"><span class="koboSpan" id="kobo.645.1">external media.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.646.1">/mnt</span></strong><span class="koboSpan" id="kobo.647.1">: Mount point for mounting a filesystem temporarily. </span><span class="koboSpan" id="kobo.647.2">Used for </span><span class="No-Break"><span class="koboSpan" id="kobo.648.1">legacy systems.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.649.1">/opt</span></strong><span class="koboSpan" id="kobo.650.1">: Add-on application software packages. </span><span class="koboSpan" id="kobo.650.2">The place where </span><em class="italic"><span class="koboSpan" id="kobo.651.1">optional</span></em><span class="koboSpan" id="kobo.652.1"> software </span><span class="No-Break"><span class="koboSpan" id="kobo.653.1">is installed.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.654.1">/proc</span></strong><span class="koboSpan" id="kobo.655.1">: Virtual filesystem managed by the kernel. </span><span class="koboSpan" id="kobo.655.2">a special directory structure that contains files essential for </span><span class="No-Break"><span class="koboSpan" id="kobo.656.1">the system.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.657.1">/sbin</span></strong><span class="koboSpan" id="kobo.658.1">: Essential system</span><a id="_idIndexMarker211"/><span class="koboSpan" id="kobo.659.1"> binaries. </span><span class="koboSpan" id="kobo.659.2">Vital programs for the </span><span class="No-Break"><span class="koboSpan" id="kobo.660.1">system’s operation.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.661.1">/srv</span></strong><span class="koboSpan" id="kobo.662.1">: Data for services provided by </span><span class="No-Break"><span class="koboSpan" id="kobo.663.1">this system.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.664.1">/tmp</span></strong><span class="koboSpan" id="kobo.665.1">: </span><span class="No-Break"><span class="koboSpan" id="kobo.666.1">Temporary files.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.667.1">/usr</span></strong><span class="koboSpan" id="kobo.668.1">: Secondary hierarchy. </span><span class="koboSpan" id="kobo.668.2">The largest directory in Linux that contains support files for regular </span><span class="No-Break"><span class="koboSpan" id="kobo.669.1">system users:</span></span><ul><li><strong class="source-inline"><span class="koboSpan" id="kobo.670.1">/usr/bin</span></strong><span class="koboSpan" id="kobo.671.1"> – </span><span class="No-Break"><span class="koboSpan" id="kobo.672.1">system-executable files</span></span></li><li><strong class="source-inline"><span class="koboSpan" id="kobo.673.1">/usr/lib</span></strong><span class="koboSpan" id="kobo.674.1"> – shared libraries </span><span class="No-Break"><span class="koboSpan" id="kobo.675.1">from </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.676.1">/usr/bin</span></strong></span></li><li><strong class="source-inline"><span class="koboSpan" id="kobo.677.1">/usr/local</span></strong><span class="koboSpan" id="kobo.678.1"> – source compiled programs not included in </span><span class="No-Break"><span class="koboSpan" id="kobo.679.1">the distribution</span></span></li><li><strong class="source-inline"><span class="koboSpan" id="kobo.680.1">/usr/sbin</span></strong><span class="koboSpan" id="kobo.681.1"> – specific system </span><span class="No-Break"><span class="koboSpan" id="kobo.682.1">administration programs</span></span></li><li><strong class="source-inline"><span class="koboSpan" id="kobo.683.1">/usr/share</span></strong><span class="koboSpan" id="kobo.684.1"> – data shared by the programs in </span><strong class="source-inline"><span class="koboSpan" id="kobo.685.1">/usr/bin</span></strong><span class="koboSpan" id="kobo.686.1"> such as config files, icons, wallpapers or </span><span class="No-Break"><span class="koboSpan" id="kobo.687.1">sound files</span></span></li><li> <strong class="source-inline"><span class="koboSpan" id="kobo.688.1">/usr/share/doc</span></strong><span class="koboSpan" id="kobo.689.1"> – documentation for the </span><span class="No-Break"><span class="koboSpan" id="kobo.690.1">system-wide files</span></span></li></ul></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.691.1">/var</span></strong><span class="koboSpan" id="kobo.692.1">: Variable data. </span><span class="koboSpan" id="kobo.692.2">Only data that is modifiable by the user is stored here, such as </span><a id="_idIndexMarker212"/><span class="koboSpan" id="kobo.693.1">databases, printing spool files, user mail, and others; </span><strong class="source-inline"><span class="koboSpan" id="kobo.694.1">/var/log</span></strong><span class="koboSpan" id="kobo.695.1"> – contains log files that register </span><span class="No-Break"><span class="koboSpan" id="kobo.696.1">system activity</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.697.1">Next, we’re going to learn how to work with these files </span><span class="No-Break"><span class="koboSpan" id="kobo.698.1">and directories.</span></span></p>
<h1 id="_idParaDest-49"><a id="_idTextAnchor064"/><span class="koboSpan" id="kobo.699.1">Working with files and directories</span></h1>
<p><span class="koboSpan" id="kobo.700.1">Remember that everything in Linux is a</span><a id="_idIndexMarker213"/><span class="koboSpan" id="kobo.701.1"> file. </span><span class="koboSpan" id="kobo.701.2">A directory is a file too. </span><span class="koboSpan" id="kobo.701.3">As such, it is essential to </span><a id="_idIndexMarker214"/><span class="koboSpan" id="kobo.702.1">know how to work with them. </span><span class="koboSpan" id="kobo.702.2">Working with files in Linux implies the use of several commands for basic file and directory operations, file viewing, file creation, file location, file properties, and linking. </span><span class="koboSpan" id="kobo.702.3">Some of the commands, which will not be covered here, have uses closely related to files. </span><span class="koboSpan" id="kobo.702.4">These will be covered in the </span><span class="No-Break"><span class="koboSpan" id="kobo.703.1">following section.</span></span></p>
<h2 id="_idParaDest-50"><a id="_idTextAnchor065"/><span class="koboSpan" id="kobo.704.1">Understanding file paths</span></h2>
<p><span class="koboSpan" id="kobo.705.1">Each file in the FHS has a </span><em class="italic"><span class="koboSpan" id="kobo.706.1">path</span></em><span class="koboSpan" id="kobo.707.1">. </span><span class="koboSpan" id="kobo.707.2">The path is</span><a id="_idIndexMarker215"/><span class="koboSpan" id="kobo.708.1"> the file’s location represented in an easily readable representation. </span><span class="koboSpan" id="kobo.708.2">In Linux, all the files are stored in the root directory by using the FHS as a standard to organize them. </span><span class="koboSpan" id="kobo.708.3">Relations between files and directories inside this system are expressed through the forward-slash character (</span><strong class="source-inline"><span class="koboSpan" id="kobo.709.1">/</span></strong><span class="koboSpan" id="kobo.710.1">). </span><span class="koboSpan" id="kobo.710.2">Throughout computing history, this was used as a symbol that described addresses. </span><span class="koboSpan" id="kobo.710.3">Paths are, in fact, addresses </span><span class="No-Break"><span class="koboSpan" id="kobo.711.1">for files.</span></span></p>
<p><span class="koboSpan" id="kobo.712.1">There are two types of paths</span><a id="_idIndexMarker216"/><span class="koboSpan" id="kobo.713.1"> in Linux, relative ones and absolute ones. </span><span class="koboSpan" id="kobo.713.2">An </span><strong class="bold"><span class="koboSpan" id="kobo.714.1">absolute path</span></strong><span class="koboSpan" id="kobo.715.1"> always starts with the root directory and follows the branches of the system up to the desired file. </span><span class="koboSpan" id="kobo.715.2">A </span><strong class="bold"><span class="koboSpan" id="kobo.716.1">relative path</span></strong><span class="koboSpan" id="kobo.717.1"> always</span><a id="_idIndexMarker217"/><span class="koboSpan" id="kobo.718.1"> refers to the </span><strong class="bold"><span class="koboSpan" id="kobo.719.1">present working directory</span></strong><span class="koboSpan" id="kobo.720.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.721.1">pwd</span></strong><span class="koboSpan" id="kobo.722.1">) and</span><a id="_idIndexMarker218"/><span class="koboSpan" id="kobo.723.1"> represents the relative path to it. </span><span class="koboSpan" id="kobo.723.2">Thus, a relative path is always a path that is relative to your present </span><span class="No-Break"><span class="koboSpan" id="kobo.724.1">working directory.</span></span></p>
<p><span class="koboSpan" id="kobo.725.1">For example, let us refer to an existing file from our home directory, a file called </span><strong class="source-inline"><span class="koboSpan" id="kobo.726.1">poem</span></strong><span class="koboSpan" id="kobo.727.1">. </span><span class="koboSpan" id="kobo.727.2">Being inside the home</span><a id="_idIndexMarker219"/><span class="koboSpan" id="kobo.728.1"> directory, and our </span><strong class="source-inline"><span class="koboSpan" id="kobo.729.1">pwd</span></strong><span class="koboSpan" id="kobo.730.1"> command being the </span><strong class="source-inline"><span class="koboSpan" id="kobo.731.1">home</span></strong><span class="koboSpan" id="kobo.732.1"> directory for </span><strong class="source-inline"><span class="koboSpan" id="kobo.733.1">packt</span></strong><span class="koboSpan" id="kobo.734.1">, the absolute path of the file called </span><strong class="source-inline"><span class="koboSpan" id="kobo.735.1">poem</span></strong><span class="koboSpan" id="kobo.736.1"> would be </span><span class="No-Break"><span class="koboSpan" id="kobo.737.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.738.1">
/home/packt/poem</span></pre> <p><span class="koboSpan" id="kobo.739.1">If we were to show the contents of that file using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.740.1">cat</span></strong><span class="koboSpan" id="kobo.741.1"> command, for example, we would use the command with the </span><span class="No-Break"><span class="koboSpan" id="kobo.742.1">absolute path:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.743.1">
cat /home/packt/poem</span></pre> <p><span class="koboSpan" id="kobo.744.1">The relative path to the same file would be relative to </span><strong class="source-inline"><span class="koboSpan" id="kobo.745.1">pwd</span></strong><span class="koboSpan" id="kobo.746.1">, so in our case, where we’re already inside the home directory, using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.747.1">cat</span></strong><span class="koboSpan" id="kobo.748.1"> command would be </span><span class="No-Break"><span class="koboSpan" id="kobo.749.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.750.1">
cat poem</span></pre> <p><span class="koboSpan" id="kobo.751.1">The absolute path is useful to</span><a id="_idIndexMarker220"/><span class="koboSpan" id="kobo.752.1"> know about when you work with files. </span><span class="koboSpan" id="kobo.752.2">After some practice, you will come to learn the paths to the most-used files. </span><span class="koboSpan" id="kobo.752.3">For example, one file that you will need to learn the path for is the </span><strong class="source-inline"><span class="koboSpan" id="kobo.753.1">passwd</span></strong><span class="koboSpan" id="kobo.754.1"> file. </span><span class="koboSpan" id="kobo.754.2">It resides in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.755.1">/etc</span></strong><span class="koboSpan" id="kobo.756.1"> directory. </span><span class="koboSpan" id="kobo.756.2">Thus, when you will refer to it, you will use its absolute path, </span><strong class="source-inline"><span class="koboSpan" id="kobo.757.1">/etc/passwd</span></strong><span class="koboSpan" id="kobo.758.1">. </span><span class="koboSpan" id="kobo.758.2">Using a relative path to that file would imply that you are either inside its parent directory or somewhere close in </span><span class="No-Break"><span class="koboSpan" id="kobo.759.1">the FHS.</span></span></p>
<p><span class="koboSpan" id="kobo.760.1">Working with relative paths involves knowing two special characters used to work with the FHS. </span><span class="koboSpan" id="kobo.760.2">One special character is the dot (</span><strong class="source-inline"><span class="koboSpan" id="kobo.761.1">.</span></strong><span class="koboSpan" id="kobo.762.1">), and it refers to the current directory. </span><span class="koboSpan" id="kobo.762.2">The other is two consecutive dots (</span><strong class="source-inline"><span class="koboSpan" id="kobo.763.1">..</span></strong><span class="koboSpan" id="kobo.764.1">) and refers to the parent directory of the current directory. </span><span class="koboSpan" id="kobo.764.2">When working with relative paths, make sure that you always check what directory you are in. </span><span class="koboSpan" id="kobo.764.3">Use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.765.1">pwd</span></strong><span class="koboSpan" id="kobo.766.1"> command to show your present </span><span class="No-Break"><span class="koboSpan" id="kobo.767.1">working directory.</span></span></p>
<p><span class="koboSpan" id="kobo.768.1">A good example of working with relative paths is when you are already inside the parent directory and need to refer to it. </span><span class="koboSpan" id="kobo.768.2">If you need to see the accounts list from your system, which is stored inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.769.1">passwd</span></strong><span class="koboSpan" id="kobo.770.1"> file, you can refer to it by using a relative path. </span><span class="koboSpan" id="kobo.770.2">For this exercise, we are inside our </span><span class="No-Break"><span class="koboSpan" id="kobo.771.1">home directory:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer026">
<span class="koboSpan" id="kobo.772.1"><img alt="Figure 2.7 – Using the relative path of a file" src="image/Figure_02.07_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.773.1">Figure 2.7 – Using the relative path of a file</span></p>
<p><span class="koboSpan" id="kobo.774.1">Here, we first check our present working directory with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.775.1">pwd</span></strong><span class="koboSpan" id="kobo.776.1"> command, and the output will be our home directory’s path, </span><strong class="source-inline"><span class="koboSpan" id="kobo.777.1">/home/packt</span></strong><span class="koboSpan" id="kobo.778.1">. </span><span class="koboSpan" id="kobo.778.2">Secondly, we try to show the contents of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.779.1">passwd</span></strong><span class="koboSpan" id="kobo.780.1"> file using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.781.1">cat</span></strong><span class="koboSpan" id="kobo.782.1"> command right from the home directory, but the output will be an error message saying that there is no such file or directory inside our home directory. </span><span class="koboSpan" id="kobo.782.2">We</span><a id="_idIndexMarker221"/><span class="koboSpan" id="kobo.783.1"> used the relative path, which is always relative to our present working directory, hence the error. </span><span class="koboSpan" id="kobo.783.2">Thirdly, we use the double-consecutive dots special characters to refer to the file with its relative path. </span><span class="koboSpan" id="kobo.783.3">In this case, the command is </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.784.1">cat ../../etc/passwd</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.785.1">.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.786.1">Tip</span></p>
<p class="callout"><span class="koboSpan" id="kobo.787.1">Always use the </span><em class="italic"><span class="koboSpan" id="kobo.788.1">Tab</span></em><span class="koboSpan" id="kobo.789.1"> key on your</span><a id="_idIndexMarker222"/><span class="koboSpan" id="kobo.790.1"> keyboard for autocompletion and to check whether the path you typed is correct or not. </span><span class="koboSpan" id="kobo.790.2">In the preceding example, we typed </span><strong class="source-inline"><span class="koboSpan" id="kobo.791.1">../../etc</span></strong><span class="koboSpan" id="kobo.792.1"> and pressed </span><em class="italic"><span class="koboSpan" id="kobo.793.1">Tab</span></em><span class="koboSpan" id="kobo.794.1">, which autocompleted with a forward slash. </span><span class="koboSpan" id="kobo.794.2">Then, we typed the first two letters of the file we were looking for and pressed </span><em class="italic"><span class="koboSpan" id="kobo.795.1">Tab</span></em><span class="koboSpan" id="kobo.796.1"> again. </span><span class="koboSpan" id="kobo.796.2">This showed us a list of files inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.797.1">/etc</span></strong><span class="koboSpan" id="kobo.798.1"> directory that started with </span><strong class="source-inline"><span class="koboSpan" id="kobo.799.1">pa</span></strong><span class="koboSpan" id="kobo.800.1">. </span><span class="koboSpan" id="kobo.800.2">Seeing that </span><strong class="source-inline"><span class="koboSpan" id="kobo.801.1">passwd</span></strong><span class="koboSpan" id="kobo.802.1"> was in there, we knew that the path was right, so we typed two more </span><strong class="source-inline"><span class="koboSpan" id="kobo.803.1">s</span></strong><span class="koboSpan" id="kobo.804.1"> characters and pressed </span><em class="italic"><span class="koboSpan" id="kobo.805.1">Tab</span></em><span class="koboSpan" id="kobo.806.1"> again. </span><span class="koboSpan" id="kobo.806.2">This completed the command for us and we pressed </span><em class="italic"><span class="koboSpan" id="kobo.807.1">Enter</span></em><span class="koboSpan" id="kobo.808.1">/</span><em class="italic"><span class="koboSpan" id="kobo.809.1">Return</span></em><span class="koboSpan" id="kobo.810.1"> to execute </span><span class="No-Break"><span class="koboSpan" id="kobo.811.1">the command.</span></span></p>
<p><span class="koboSpan" id="kobo.812.1">The path in the final command is relative to our home directory and it translates as follows: </span><em class="italic"><span class="koboSpan" id="kobo.813.1">concatenate the file with the </span></em><strong class="source-inline"><span class="koboSpan" id="kobo.814.1">passwd</span></strong><em class="italic"><span class="koboSpan" id="kobo.815.1"> name that is located in the </span></em><strong class="source-inline"><span class="koboSpan" id="kobo.816.1">/etc</span></strong><em class="italic"><span class="koboSpan" id="kobo.817.1"> directory in the parent directory (first two dots) of the parent directory (second two dots) of our current directory (home)</span></em><span class="koboSpan" id="kobo.818.1">. </span><span class="koboSpan" id="kobo.818.2">Therefore, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.819.1">/etc/passwd</span></strong><span class="koboSpan" id="kobo.820.1"> absolute path is translated into a relative path to our home directory like </span><span class="No-Break"><span class="koboSpan" id="kobo.821.1">this: </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.822.1">../../etc/passwd</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.823.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.824.1">Next, we are going to learn about basic file operations </span><span class="No-Break"><span class="koboSpan" id="kobo.825.1">in Linux.</span></span></p>
<h2 id="_idParaDest-51"><a id="_idTextAnchor066"/><span class="koboSpan" id="kobo.826.1">Basic file operations</span></h2>
<p><span class="koboSpan" id="kobo.827.1">Daily, as a system </span><a id="_idIndexMarker223"/><span class="koboSpan" id="kobo.828.1">administrator, you will manipulate files. </span><span class="koboSpan" id="kobo.828.2">This includes creating, copying, moving, listing, deleting, linking, and so on. </span><span class="koboSpan" id="kobo.828.3">The basic commands for these </span><a id="_idIndexMarker224"/><span class="koboSpan" id="kobo.829.1">operations have already been discussed throughout this chapter, but now it is time to get into more detail about their use, options, and attributes. </span><span class="koboSpan" id="kobo.829.2">Some more advanced commands will be detailed in the </span><span class="No-Break"><span class="koboSpan" id="kobo.830.1">following sections.</span></span></p>
<h3><span class="koboSpan" id="kobo.831.1">Creating files</span></h3>
<p><span class="koboSpan" id="kobo.832.1">There are situations when you will need to </span><strong class="bold"><span class="koboSpan" id="kobo.833.1">create</span></strong><span class="koboSpan" id="kobo.834.1"> new files. </span><span class="koboSpan" id="kobo.834.2">You have one option to create a new empty </span><a id="_idIndexMarker225"/><span class="koboSpan" id="kobo.835.1">file with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.836.1">touch</span></strong><span class="koboSpan" id="kobo.837.1"> command. </span><span class="koboSpan" id="kobo.837.2">When you use it, it will create a new file with you as the file owner and with a size of zero, because it is an </span><span class="No-Break"><span class="koboSpan" id="kobo.838.1">empty file.</span></span></p>
<p><span class="koboSpan" id="kobo.839.1">In the following example, we create a new file called </span><strong class="source-inline"><span class="koboSpan" id="kobo.840.1">new-report</span></strong><span class="koboSpan" id="kobo.841.1"> inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.842.1">~/</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.843.1">packt/</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.844.1"> directory:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer027">
<span class="koboSpan" id="kobo.845.1"><img alt="Figure 2.8 – Using the touch command to create and alter files" src="image/Figure_02.08_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.846.1">Figure 2.8 – Using the touch command to create and alter files</span></p>
<p><span class="koboSpan" id="kobo.847.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.848.1">touch</span></strong><span class="koboSpan" id="kobo.849.1"> command is also used to change the modification time of a file without changing the file itself. </span><span class="koboSpan" id="kobo.849.2">Notice the difference between the initial time when we first created the </span><strong class="source-inline"><span class="koboSpan" id="kobo.850.1">new-report</span></strong><span class="koboSpan" id="kobo.851.1"> file and the new time after using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.852.1">touch</span></strong><span class="koboSpan" id="kobo.853.1"> command on it. </span><span class="koboSpan" id="kobo.853.2">You can also change the access time by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.854.1">-a</span></strong><span class="koboSpan" id="kobo.855.1"> option of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.856.1">touch</span></strong><span class="koboSpan" id="kobo.857.1"> command. </span><span class="koboSpan" id="kobo.857.2">By default, the long listing of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.858.1">ls</span></strong><span class="koboSpan" id="kobo.859.1"> command shows only the modification/creation time. </span><span class="koboSpan" id="kobo.859.2">If you want to see the access time, there is the </span><strong class="source-inline"><span class="koboSpan" id="kobo.860.1">atime</span></strong><span class="koboSpan" id="kobo.861.1"> parameter you can use with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.862.1">- time</span></strong><span class="koboSpan" id="kobo.863.1"> option. </span><span class="koboSpan" id="kobo.863.2">See the example used in the </span><span class="No-Break"><span class="koboSpan" id="kobo.864.1">following figure:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer028">
<span class="koboSpan" id="kobo.865.1"><img alt="Figure 2.9 – Using touch to alter the access time" src="image/Figure_02.09_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.866.1">Figure 2.9 – Using touch to alter the access time</span></p>
<p><span class="koboSpan" id="kobo.867.1">The modification, creation, and access time stamps are very useful, especially when using commands such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.868.1">find</span></strong><span class="koboSpan" id="kobo.869.1">. </span><span class="koboSpan" id="kobo.869.2">They give you a more </span><em class="italic"><span class="koboSpan" id="kobo.870.1">granular</span></em><span class="koboSpan" id="kobo.871.1"> search pattern. </span><span class="koboSpan" id="kobo.871.2">We will get back to this command with more examples in </span><span class="No-Break"><span class="koboSpan" id="kobo.872.1">future sections.</span></span></p>
<p><span class="koboSpan" id="kobo.873.1">Files can also be created by using redirection and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.874.1">echo</span></strong><span class="koboSpan" id="kobo.875.1"> command. </span><strong class="source-inline"><span class="koboSpan" id="kobo.876.1">echo</span></strong><span class="koboSpan" id="kobo.877.1"> is a command that prints the string given as a parameter to the standard output (the screen). </span><span class="koboSpan" id="kobo.877.2">The output of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.878.1">echo</span></strong><span class="koboSpan" id="kobo.879.1"> command </span><a id="_idIndexMarker226"/><span class="koboSpan" id="kobo.880.1">can be written directly to a file by using the </span><span class="No-Break"><span class="koboSpan" id="kobo.881.1">output redirection:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer029">
<span class="koboSpan" id="kobo.882.1"><img alt="Figure 2.10 – Using echo with output redirection" src="image/Figure_02.10_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.883.1">Figure 2.10 – Using echo with output redirection</span></p>
<p><span class="koboSpan" id="kobo.884.1">In the preceding example, we redirected the text from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.885.1">echo</span></strong><span class="koboSpan" id="kobo.886.1"> command to the presentation file. </span><span class="koboSpan" id="kobo.886.2">It did not exist at the </span><a id="_idIndexMarker227"/><span class="koboSpan" id="kobo.887.1">beginning, so it was automatically created by the command. </span><span class="koboSpan" id="kobo.887.2">The first </span><strong class="source-inline"><span class="koboSpan" id="kobo.888.1">echo</span></strong><span class="koboSpan" id="kobo.889.1"> command added a line to the file by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.890.1">&gt;</span></strong><span class="koboSpan" id="kobo.891.1"> operator. </span><span class="koboSpan" id="kobo.891.2">The second </span><strong class="source-inline"><span class="koboSpan" id="kobo.892.1">echo</span></strong><span class="koboSpan" id="kobo.893.1"> command appended a new line of text to the end of the file, by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.894.1">&gt;&gt;</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.895.1">operator.</span></span></p>
<h3><span class="koboSpan" id="kobo.896.1">Listing files</span></h3>
<p><span class="koboSpan" id="kobo.897.1">We have already used some examples with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.898.1">ls</span></strong><span class="koboSpan" id="kobo.899.1"> command </span><a id="_idIndexMarker228"/><span class="koboSpan" id="kobo.900.1">before, so you are somewhat familiar with it. </span><span class="koboSpan" id="kobo.900.2">We covered the </span><strong class="source-inline"><span class="koboSpan" id="kobo.901.1">-l</span></strong><span class="koboSpan" id="kobo.902.1"> option as an example of the command’s structure. </span><span class="koboSpan" id="kobo.902.2">Thus, we will not cover it any further here. </span><span class="koboSpan" id="kobo.902.3">We will explore new options for this essential and </span><span class="No-Break"><span class="koboSpan" id="kobo.903.1">useful command:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.904.1">ls -lh</span></strong><span class="koboSpan" id="kobo.905.1">: The </span><strong class="source-inline"><span class="koboSpan" id="kobo.906.1">-l</span></strong><span class="koboSpan" id="kobo.907.1"> option lists the files in an extended format, while the </span><strong class="source-inline"><span class="koboSpan" id="kobo.908.1">-h</span></strong><span class="koboSpan" id="kobo.909.1"> option shows the size of the file in a human-readable format, with the size in kilobytes or megabytes rather </span><span class="No-Break"><span class="koboSpan" id="kobo.910.1">than bytes.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.911.1">ls -la</span></strong><span class="koboSpan" id="kobo.912.1">: The </span><strong class="source-inline"><span class="koboSpan" id="kobo.913.1">-a</span></strong><span class="koboSpan" id="kobo.914.1"> option shows all the files, including hidden ones. </span><span class="koboSpan" id="kobo.914.2">Combined with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.915.1">-l</span></strong><span class="koboSpan" id="kobo.916.1"> option, the output will be a list of all the files and </span><span class="No-Break"><span class="koboSpan" id="kobo.917.1">their details.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.918.1">ls -ltr</span></strong><span class="koboSpan" id="kobo.919.1">: The </span><strong class="source-inline"><span class="koboSpan" id="kobo.920.1">-t</span></strong><span class="koboSpan" id="kobo.921.1"> option sorts files by their modification time, showing the newest first. </span><span class="koboSpan" id="kobo.921.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.922.1">-r</span></strong><span class="koboSpan" id="kobo.923.1"> option reverses the order of </span><span class="No-Break"><span class="koboSpan" id="kobo.924.1">the sort.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.925.1">ls – lS</span></strong><span class="koboSpan" id="kobo.926.1">: The </span><strong class="source-inline"><span class="koboSpan" id="kobo.927.1">-S</span></strong><span class="koboSpan" id="kobo.928.1"> option sorts the files by their size, with the largest </span><span class="No-Break"><span class="koboSpan" id="kobo.929.1">file first.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.930.1">ls -R</span></strong><span class="koboSpan" id="kobo.931.1">: The </span><strong class="source-inline"><span class="koboSpan" id="kobo.932.1">-R</span></strong><span class="koboSpan" id="kobo.933.1"> option shows the contents of the current or specified directory in </span><span class="No-Break"><span class="koboSpan" id="kobo.934.1">recursive mode.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.935.1">A method used frequently for listing</span><a id="_idIndexMarker229"/><span class="koboSpan" id="kobo.936.1"> files and directories is called </span><strong class="bold"><span class="koboSpan" id="kobo.937.1">long listing</span></strong><span class="koboSpan" id="kobo.938.1">, and it </span><a id="_idIndexMarker230"/><span class="koboSpan" id="kobo.939.1">uses the </span><strong class="source-inline"><span class="koboSpan" id="kobo.940.1">ls -la</span></strong><span class="koboSpan" id="kobo.941.1"> command. </span><span class="koboSpan" id="kobo.941.2">Let’s look at it in detail here, even though we will discuss this thoroughly in </span><a href="B19682_04.xhtml#_idTextAnchor090"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.942.1">Chapter 4</span></em></span></a><span class="koboSpan" id="kobo.943.1">, </span><em class="italic"><span class="koboSpan" id="kobo.944.1">Managing Users </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.945.1">and Groups</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.946.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.947.1">One example of a long listing used on our home directory can be seen in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.948.1">Figure 2</span></em></span><em class="italic"><span class="koboSpan" id="kobo.949.1">.11</span></em><span class="koboSpan" id="kobo.950.1">, when we compared the output of </span><strong class="source-inline"><span class="koboSpan" id="kobo.951.1">ls -la</span></strong><span class="koboSpan" id="kobo.952.1"> with the output of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.953.1">tree</span></strong><span class="koboSpan" id="kobo.954.1"> command. </span><span class="koboSpan" id="kobo.954.2">The following code snippet is a </span><span class="No-Break"><span class="koboSpan" id="kobo.955.1">short example:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.956.1">
total 48
drwxr-x--- 5 packt packt 4096 Mar  2 14:44 .
</span><span class="koboSpan" id="kobo.956.2">drwxr-xr-x 3 root  root  4096 Feb 27 08:58 ..
</span><span class="koboSpan" id="kobo.956.3">-rw-rw-r-- 1 packt packt   55 Mar  2 14:46 art-file
-rw------- 1 packt packt 1039 Mar  1 18:56 .bash_history</span></pre> <p><span class="koboSpan" id="kobo.957.1">In the output, the first row after the command shows the number of blocks inside the directory listed. </span><span class="koboSpan" id="kobo.957.2">After that, each line represents one file or subdirectory, with the following </span><span class="No-Break"><span class="koboSpan" id="kobo.958.1">detailed information:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.959.1">The first character is the type of the file: </span><strong class="source-inline"><span class="koboSpan" id="kobo.960.1">d</span></strong><span class="koboSpan" id="kobo.961.1"> for the directory, </span><strong class="source-inline"><span class="koboSpan" id="kobo.962.1">:</span></strong><span class="koboSpan" id="kobo.963.1"> for the file, </span><strong class="source-inline"><span class="koboSpan" id="kobo.964.1">l</span></strong><span class="koboSpan" id="kobo.965.1"> for a link, </span><strong class="source-inline"><span class="koboSpan" id="kobo.966.1">c</span></strong><span class="koboSpan" id="kobo.967.1"> for the character device, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.968.1">b</span></strong><span class="koboSpan" id="kobo.969.1"> for the </span><span class="No-Break"><span class="koboSpan" id="kobo.970.1">block device</span></span></li>
<li><span class="koboSpan" id="kobo.971.1">The following nine characters represent the permissions (detailed in </span><a href="B19682_04.xhtml#_idTextAnchor090"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.972.1">Chapter 4</span></em></span></a><span class="koboSpan" id="kobo.973.1">, </span><em class="italic"><span class="koboSpan" id="kobo.974.1">Managing Users </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.975.1">and Groups</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.976.1">)</span></span></li>
<li><span class="koboSpan" id="kobo.977.1">The hard link for that file (see the </span><em class="italic"><span class="koboSpan" id="kobo.978.1">Working with links</span></em><span class="koboSpan" id="kobo.979.1"> subsection in </span><span class="No-Break"><span class="koboSpan" id="kobo.980.1">this chapter)</span></span></li>
<li><span class="koboSpan" id="kobo.981.1">The owner’s PID and GID (details in </span><a href="B19682_04.xhtml#_idTextAnchor090"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.982.1">Chapter 4</span></em></span></a><span class="koboSpan" id="kobo.983.1">, </span><em class="italic"><span class="koboSpan" id="kobo.984.1">Managing Users </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.985.1">and Groups</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.986.1">)</span></span></li>
<li><span class="koboSpan" id="kobo.987.1">The size of the file (the number depends on whether it is in human-readable format </span><span class="No-Break"><span class="koboSpan" id="kobo.988.1">or not)</span></span></li>
<li><span class="koboSpan" id="kobo.989.1">The last modification time of </span><span class="No-Break"><span class="koboSpan" id="kobo.990.1">the file</span></span></li>
<li><span class="koboSpan" id="kobo.991.1">The name of the file </span><span class="No-Break"><span class="koboSpan" id="kobo.992.1">or directory</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.993.1">The first two lines are</span><a id="_idIndexMarker231"/><span class="koboSpan" id="kobo.994.1"> a reference to itself (the dot) and to the parent directory (the two dots from the </span><span class="No-Break"><span class="koboSpan" id="kobo.995.1">second line).</span></span></p>
<p><span class="koboSpan" id="kobo.996.1">The next section will teach you how to copy and </span><span class="No-Break"><span class="koboSpan" id="kobo.997.1">move files.</span></span></p>
<h3><span class="koboSpan" id="kobo.998.1">Copying and moving files</span></h3>
<p><span class="koboSpan" id="kobo.999.1">To copy</span><a id="_idIndexMarker232"/><span class="koboSpan" id="kobo.1000.1"> files in Linux, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1001.1">cp</span></strong><span class="koboSpan" id="kobo.1002.1"> command is used. </span><span class="koboSpan" id="kobo.1002.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1003.1">mv</span></strong><span class="koboSpan" id="kobo.1004.1"> command moves files around the filesystem. </span><span class="koboSpan" id="kobo.1004.2">This command is also used to </span><span class="No-Break"><span class="koboSpan" id="kobo.1005.1">rename files.</span></span></p>
<p><span class="koboSpan" id="kobo.1006.1">To copy a file, you can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1007.1">cp</span></strong><span class="koboSpan" id="kobo.1008.1"> command in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1009.1">simplest way:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1010.1">
cp source_file_path destination_file_path</span></pre> <p><span class="koboSpan" id="kobo.1011.1">Here, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1012.1">source_file_path</span></strong><span class="koboSpan" id="kobo.1013.1"> is the name of the file to be copied, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1014.1">destination_file_path</span></strong><span class="koboSpan" id="kobo.1015.1"> is the name of the destination file. </span><span class="koboSpan" id="kobo.1015.2">You can also copy multiple files inside a directory that already exists. </span><span class="koboSpan" id="kobo.1015.3">If the destination directory does not exist, the shell will signal to you that the target is not </span><span class="No-Break"><span class="koboSpan" id="kobo.1016.1">a directory.</span></span></p>
<p><span class="koboSpan" id="kobo.1017.1">Now let’s look at some variations of </span><span class="No-Break"><span class="koboSpan" id="kobo.1018.1">these commands:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1019.1">cp -a</span></strong><span class="koboSpan" id="kobo.1020.1">: The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1021.1">-a</span></strong><span class="koboSpan" id="kobo.1022.1"> option copies an entire directory hierarchy in recursive mode by preserving all the attributes and links. </span><span class="koboSpan" id="kobo.1022.2">In the following example, we copied the entire </span><strong class="source-inline"><span class="koboSpan" id="kobo.1023.1">dir1</span></strong><span class="koboSpan" id="kobo.1024.1"> directory that we previously created inside our home directory, to a newly created directory called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1025.1">backup_dir1</span></strong><span class="koboSpan" id="kobo.1026.1"> by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1027.1">-</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1028.1">a</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1029.1"> option:</span></span></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer030">
<span class="koboSpan" id="kobo.1030.1"><img alt="Figure 2.11 – Using the copy command with the -a option" src="image/Figure_02.11_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1031.1">Figure 2.11 – Using the copy command with the -a option</span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1032.1">cp -r</span></strong><span class="koboSpan" id="kobo.1033.1">: This option is similar to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1034.1">-a</span></strong><span class="koboSpan" id="kobo.1035.1">, but it does not preserve attributes, only </span><span class="No-Break"><span class="koboSpan" id="kobo.1036.1">symbolic links.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1037.1">cp -p</span></strong><span class="koboSpan" id="kobo.1038.1">: The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1039.1">-p</span></strong><span class="koboSpan" id="kobo.1040.1"> option retains the file’s permissions and timestamps. </span><span class="koboSpan" id="kobo.1040.2">Otherwise, just by using </span><strong class="source-inline"><span class="koboSpan" id="kobo.1041.1">cp</span></strong><span class="koboSpan" id="kobo.1042.1"> in its simplest form, copies of the files will be owned by your user with a timestamp of the time you did the </span><span class="No-Break"><span class="koboSpan" id="kobo.1043.1">copy operation.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1044.1">cp -R</span></strong><span class="koboSpan" id="kobo.1045.1">: The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1046.1">-R</span></strong><span class="koboSpan" id="kobo.1047.1"> option allows you to copy a directory recursively. </span><span class="koboSpan" id="kobo.1047.2">In the following example, we will use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1048.1">ls</span></strong><span class="koboSpan" id="kobo.1049.1"> command to show you the contents of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1050.1">~/packt/</span></strong><span class="koboSpan" id="kobo.1051.1"> directory, and then the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1052.1">cp -R</span></strong><span class="koboSpan" id="kobo.1053.1"> command to copy the contents of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1054.1">/files</span></strong><span class="koboSpan" id="kobo.1055.1"> directory to</span><a id="_idIndexMarker233"/><span class="koboSpan" id="kobo.1056.1"> the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1057.1">/new-files</span></strong><span class="koboSpan" id="kobo.1058.1"> one. </span><span class="koboSpan" id="kobo.1058.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1059.1">/new-files</span></strong><span class="koboSpan" id="kobo.1060.1"> directory did not exist. </span><span class="koboSpan" id="kobo.1060.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1061.1">cp -R</span></strong><span class="koboSpan" id="kobo.1062.1"> command </span><span class="No-Break"><span class="koboSpan" id="kobo.1063.1">created it:</span></span></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer031">
<span class="koboSpan" id="kobo.1064.1"><img alt="Figure 2.12 – Using the cp -R command" src="image/Figure_02.12_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1065.1">Figure 2.12 – Using the cp -R command</span></p>
<p><span class="koboSpan" id="kobo.1066.1">Moving files </span><a id="_idIndexMarker234"/><span class="koboSpan" id="kobo.1067.1">around is done with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1068.1">mv</span></strong><span class="koboSpan" id="kobo.1069.1"> command. </span><span class="koboSpan" id="kobo.1069.2">It is either used to move files and directories from one destination to another or to rename a file. </span><span class="koboSpan" id="kobo.1069.3">The following is an example in which we rename </span><strong class="source-inline"><span class="koboSpan" id="kobo.1070.1">files1</span></strong><span class="koboSpan" id="kobo.1071.1"> into </span><strong class="source-inline"><span class="koboSpan" id="kobo.1072.1">old-files1</span></strong><span class="koboSpan" id="kobo.1073.1"> using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1074.1">mv</span></strong><span class="koboSpan" id="kobo.1075.1"> command: </span><strong class="source-inline"><span class="koboSpan" id="kobo.1076.1">mv </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1077.1">files1 old-files1</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1078.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1079.1">There are many other options that you could learn about just by visiting the manual pages. </span><span class="koboSpan" id="kobo.1079.2">Feel free to explore them and use them in your </span><span class="No-Break"><span class="koboSpan" id="kobo.1080.1">daily tasks.</span></span></p>
<h3><span class="koboSpan" id="kobo.1081.1">Working with links</span></h3>
<p><span class="koboSpan" id="kobo.1082.1">Links are a compelling option in Linux. </span><span class="koboSpan" id="kobo.1082.2">They can be used as a means of protection for the original files, or just as a</span><a id="_idIndexMarker235"/><span class="koboSpan" id="kobo.1083.1"> tool to keep multiple copies of a file without having separate hard copies. </span><span class="koboSpan" id="kobo.1083.2">Consider it as a tool to create alternative names for the </span><span class="No-Break"><span class="koboSpan" id="kobo.1084.1">same file.</span></span></p>
<p><span class="koboSpan" id="kobo.1085.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1086.1">ln</span></strong><span class="koboSpan" id="kobo.1087.1"> command can be used to do this and create two types </span><span class="No-Break"><span class="koboSpan" id="kobo.1088.1">of links:</span></span></p>
<ul>
<li><span class="No-Break"><span class="koboSpan" id="kobo.1089.1">Symbolic links</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.1090.1">Hard links</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.1091.1">Those two links are different</span><a id="_idIndexMarker236"/><span class="koboSpan" id="kobo.1092.1"> types of files that point to the original file. </span><span class="koboSpan" id="kobo.1092.2">A </span><strong class="bold"><span class="koboSpan" id="kobo.1093.1">symbolic link</span></strong><span class="koboSpan" id="kobo.1094.1"> is a physical file that points to the original file; they are linked and have the same content. </span><span class="koboSpan" id="kobo.1094.2">Also, it can span different filesystems and physical media, meaning that it can link to original files that are on other drives or partitions with different types of filesystems. </span><span class="koboSpan" id="kobo.1094.3">The command used is </span><span class="No-Break"><span class="koboSpan" id="kobo.1095.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1096.1">
ln -s [original_filename] [link_filename]</span></pre> <p><span class="koboSpan" id="kobo.1097.1">Here is an example in which we listed the contents of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1098.1">~/packt</span></strong><span class="koboSpan" id="kobo.1099.1"> directory and then created a symbolic link to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1100.1">new-report</span></strong><span class="koboSpan" id="kobo.1101.1"> file using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1102.1">ln -s</span></strong><span class="koboSpan" id="kobo.1103.1"> command and then listed the </span><span class="No-Break"><span class="koboSpan" id="kobo.1104.1">contents again:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer032">
<span class="koboSpan" id="kobo.1105.1"><img alt="Figure 2.13 – Using symbolic links" src="image/Figure_02.13_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1106.1">Figure 2.13 – Using symbolic links</span></p>
<p><span class="koboSpan" id="kobo.1107.1">You can see that the link created is named </span><strong class="source-inline"><span class="koboSpan" id="kobo.1108.1">new-report-link</span></strong><span class="koboSpan" id="kobo.1109.1"> and is visually represented with an </span><strong class="source-inline"><span class="koboSpan" id="kobo.1110.1">-&gt;</span></strong><span class="koboSpan" id="kobo.1111.1"> arrow that shows the original file that it points to. </span><span class="koboSpan" id="kobo.1111.2">You can also distinguish the difference in size between the two files, the link and the original one. </span><span class="koboSpan" id="kobo.1111.3">The permissions are different</span><a id="_idIndexMarker237"/><span class="koboSpan" id="kobo.1112.1"> too. </span><span class="koboSpan" id="kobo.1112.2">This is a way to know that they are two </span><em class="italic"><span class="koboSpan" id="kobo.1113.1">different</span></em><span class="koboSpan" id="kobo.1114.1"> physical files. </span><span class="koboSpan" id="kobo.1114.2">To double-check that they are different physical files, you can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1115.1">ls -i</span></strong><span class="koboSpan" id="kobo.1116.1"> command to show the </span><strong class="bold"><span class="koboSpan" id="kobo.1117.1">inode</span></strong><span class="koboSpan" id="kobo.1118.1"> before every file. </span><span class="koboSpan" id="kobo.1118.2">In the following example, you can see that </span><strong class="source-inline"><span class="koboSpan" id="kobo.1119.1">new-report</span></strong><span class="koboSpan" id="kobo.1120.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1121.1">new-report-link</span></strong><span class="koboSpan" id="kobo.1122.1"> have </span><span class="No-Break"><span class="koboSpan" id="kobo.1123.1">different inodes:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer033">
<span class="koboSpan" id="kobo.1124.1"><img alt="Figure 2.14 – Comparing the inodes for the symbolic link and original file" src="image/Figure_02.14_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1125.1">Figure 2.14 – Comparing the inodes for the symbolic link and original file</span></p>
<p><span class="koboSpan" id="kobo.1126.1">If you want to know where the link points to and </span><a id="_idIndexMarker238"/><span class="koboSpan" id="kobo.1127.1">you do not want to use </span><strong class="source-inline"><span class="koboSpan" id="kobo.1128.1">ls -l</span></strong><span class="koboSpan" id="kobo.1129.1">, there is the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1130.1">readlink</span></strong><span class="koboSpan" id="kobo.1131.1"> command. </span><span class="koboSpan" id="kobo.1131.2">It is available in both Ubuntu and CentOS. </span><span class="koboSpan" id="kobo.1131.3">The output of the command will simply be the name of the file that the symbolic link points to. </span><span class="koboSpan" id="kobo.1131.4">It only works in the case of </span><span class="No-Break"><span class="koboSpan" id="kobo.1132.1">symbolic links:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1133.1">
packt@neptune:~$ readlink new-report-link
new-report</span></pre> <p><span class="koboSpan" id="kobo.1134.1">In the preceding example, you can see that the output shows that the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1135.1">new-report-link</span></strong><span class="koboSpan" id="kobo.1136.1"> file is a symbolic link to the file </span><span class="No-Break"><span class="koboSpan" id="kobo.1137.1">named </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1138.1">new-report</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1139.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1140.1">In contrast, a </span><strong class="bold"><span class="koboSpan" id="kobo.1141.1">hard link</span></strong><span class="koboSpan" id="kobo.1142.1"> is a different</span><a id="_idIndexMarker239"/><span class="koboSpan" id="kobo.1143.1"> virtual file that points to the original file. </span><span class="koboSpan" id="kobo.1143.2">They are both physically the same. </span><span class="koboSpan" id="kobo.1143.3">The command is simply </span><strong class="source-inline"><span class="koboSpan" id="kobo.1144.1">ln</span></strong><span class="koboSpan" id="kobo.1145.1"> without </span><span class="No-Break"><span class="koboSpan" id="kobo.1146.1">any options:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1147.1">
ln [original-file] [linked-file]</span></pre> <p><span class="koboSpan" id="kobo.1148.1">In the following example, we created a hard link for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1149.1">new-report</span></strong><span class="koboSpan" id="kobo.1150.1"> file, and we named </span><span class="No-Break"><span class="koboSpan" id="kobo.1151.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1152.1">new-report-ln</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1153.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer034">
<span class="koboSpan" id="kobo.1154.1"><img alt="Figure 2.15 – Working with hard links" src="image/Figure_02.15_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1155.1">Figure 2.15 – Working with hard links</span></p>
<p><span class="koboSpan" id="kobo.1156.1">In the output, you</span><a id="_idIndexMarker240"/><span class="koboSpan" id="kobo.1157.1"> will see that they have the same size and the same inode, and after altering the original file using </span><strong class="source-inline"><span class="koboSpan" id="kobo.1158.1">echo</span></strong><span class="koboSpan" id="kobo.1159.1"> and output redirection, the changes were available to both files. </span><span class="koboSpan" id="kobo.1159.2">The two files have a different representation than symbolic links. </span><span class="koboSpan" id="kobo.1159.3">They appear as two different files in your listing, with no visual aids to show which file is pointed to. </span><span class="koboSpan" id="kobo.1159.4">Essentially, a hard link is </span><a id="_idIndexMarker241"/><span class="koboSpan" id="kobo.1160.1">linked to the inode of the original file. </span><span class="koboSpan" id="kobo.1160.2">You can see it as a new name for a file, similar to but not identical to </span><span class="No-Break"><span class="koboSpan" id="kobo.1161.1">renaming it.</span></span></p>
<h3><span class="koboSpan" id="kobo.1162.1">Deleting files</span></h3>
<p><span class="koboSpan" id="kobo.1163.1">In Linux, you have the remove (</span><strong class="source-inline"><span class="koboSpan" id="kobo.1164.1">rm</span></strong><span class="koboSpan" id="kobo.1165.1">) command for deleting</span><a id="_idIndexMarker242"/><span class="koboSpan" id="kobo.1166.1"> files. </span><span class="koboSpan" id="kobo.1166.2">In its simplest form, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1167.1">rm</span></strong><span class="koboSpan" id="kobo.1168.1"> command is used without an option. </span><span class="koboSpan" id="kobo.1168.2">For more control over how you delete items, you could use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1169.1">-i</span></strong><span class="koboSpan" id="kobo.1170.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1171.1">-f</span></strong><span class="koboSpan" id="kobo.1172.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1173.1">-</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1174.1">r</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1175.1"> options:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1176.1">rm -i</span></strong><span class="koboSpan" id="kobo.1177.1">: This option enables</span><a id="_idIndexMarker243"/><span class="koboSpan" id="kobo.1178.1"> interactive mode by asking you for acceptance </span><span class="No-Break"><span class="koboSpan" id="kobo.1179.1">before deleting:</span></span></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer035">
<span class="koboSpan" id="kobo.1180.1"><img alt="Figure 2.16 – Removing a file interactively" src="image/Figure_02.16_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1181.1">Figure 2.16 – Removing a file interactively</span></p>
<p><span class="koboSpan" id="kobo.1182.1">In the preceding</span><a id="_idIndexMarker244"/><span class="koboSpan" id="kobo.1183.1"> example, we deleted </span><strong class="source-inline"><span class="koboSpan" id="kobo.1184.1">art-file</span></strong><span class="koboSpan" id="kobo.1185.1"> by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1186.1">-i</span></strong><span class="koboSpan" id="kobo.1187.1"> option. </span><span class="koboSpan" id="kobo.1187.2">When asked to interact, you have two options. </span><span class="koboSpan" id="kobo.1187.3">You can approve the action by typing </span><strong class="source-inline"><span class="koboSpan" id="kobo.1188.1">y</span></strong><span class="koboSpan" id="kobo.1189.1"> (yes), or </span><strong class="source-inline"><span class="koboSpan" id="kobo.1190.1">n</span></strong><span class="koboSpan" id="kobo.1191.1"> (no) to cancel </span><span class="No-Break"><span class="koboSpan" id="kobo.1192.1">the action.</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1193.1">rm -f</span></strong><span class="koboSpan" id="kobo.1194.1"> : The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1195.1">-f</span></strong><span class="koboSpan" id="kobo.1196.1"> option deletes the file by force, without </span><a id="_idIndexMarker245"/><span class="koboSpan" id="kobo.1197.1">any interaction from </span><span class="No-Break"><span class="koboSpan" id="kobo.1198.1">the user:</span></span></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer036">
<span class="koboSpan" id="kobo.1199.1"><img alt="Figure 2.17 – Force remove a file" src="image/Figure_02.17_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1200.1">Figure 2.17 – Force remove a file</span></p>
<p><span class="koboSpan" id="kobo.1201.1">We deleted the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1202.1">new-report-link</span></strong><span class="koboSpan" id="kobo.1203.1"> file created earlier by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1204.1">rm -f</span></strong><span class="koboSpan" id="kobo.1205.1"> command. </span><span class="koboSpan" id="kobo.1205.2">It did not ask for our approval and deleted the </span><span class="No-Break"><span class="koboSpan" id="kobo.1206.1">file directly.</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1207.1">rm -r</span></strong><span class="koboSpan" id="kobo.1208.1">: This option deletes the files in recursive mode, and it is used to delete multiple files and directories. </span><span class="koboSpan" id="kobo.1208.2">For example, we will try to delete the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1209.1">new-files</span></strong><span class="koboSpan" id="kobo.1210.1"> directory. </span><span class="koboSpan" id="kobo.1210.2">When using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1211.1">rm</span></strong><span class="koboSpan" id="kobo.1212.1"> command in its simplest way, the output will show an error saying that it cannot delete a directory. </span><span class="koboSpan" id="kobo.1212.2">But when used with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1213.1">-r</span></strong><span class="koboSpan" id="kobo.1214.1"> option, the directory is deleted </span><span class="No-Break"><span class="koboSpan" id="kobo.1215.1">right away:</span></span></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer037">
<span class="koboSpan" id="kobo.1216.1"><img alt="Figure 2.18 – Remove a directory recursively" src="image/Figure_02.18_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1217.1">Figure 2.18 – Remove a directory recursively</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.1218.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.1219.1">We advise </span><em class="italic"><span class="koboSpan" id="kobo.1220.1">extra caution</span></em><span class="koboSpan" id="kobo.1221.1"> when using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1222.1">rm</span></strong><span class="koboSpan" id="kobo.1223.1"> command. </span><span class="koboSpan" id="kobo.1223.2">The most destructive mode is to use </span><strong class="source-inline"><span class="koboSpan" id="kobo.1224.1">rm -rf</span></strong><span class="koboSpan" id="kobo.1225.1">. </span><span class="koboSpan" id="kobo.1225.2">This will delete files, directories, and anything without warning. </span><span class="koboSpan" id="kobo.1225.3">Pay attention as there is no going back from this. </span><span class="koboSpan" id="kobo.1225.4">Once used, the damage will </span><span class="No-Break"><span class="koboSpan" id="kobo.1226.1">be done.</span></span></p>
<p><span class="koboSpan" id="kobo.1227.1">Most of the time, removing</span><a id="_idIndexMarker246"/><span class="koboSpan" id="kobo.1228.1"> files is a one-way street, with no turning back. </span><span class="koboSpan" id="kobo.1228.2">This makes the process of deleting files a very important one, and a backup before a deletion could save you a lot of </span><span class="No-Break"><span class="koboSpan" id="kobo.1229.1">unnecessary stress.</span></span></p>
<h3><span class="koboSpan" id="kobo.1230.1">Creating directories</span></h3>
<p><span class="koboSpan" id="kobo.1231.1">In Linux, you can</span><a id="_idIndexMarker247"/><span class="koboSpan" id="kobo.1232.1"> create a new directory with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1233.1">mkdir</span></strong><span class="koboSpan" id="kobo.1234.1"> command. </span><span class="koboSpan" id="kobo.1234.2">In the following example, we will create a new directory </span><span class="No-Break"><span class="koboSpan" id="kobo.1235.1">called </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1236.1">development</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1237.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1238.1">
mkdir development</span></pre> <p><span class="koboSpan" id="kobo.1239.1">If you want to create more directories and sub-directories at once, you will need to use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1240.1">-p</span></strong><span class="koboSpan" id="kobo.1241.1"> option (</span><strong class="source-inline"><span class="koboSpan" id="kobo.1242.1">p</span></strong><span class="koboSpan" id="kobo.1243.1"> from the parent), as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1244.1">following figure:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer038">
<span class="koboSpan" id="kobo.1245.1"><img alt="Figure 2.19 – Creating parent directories" src="image/Figure_02.19_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1246.1">Figure 2.19 – Creating parent directories</span></p>
<p><span class="koboSpan" id="kobo.1247.1">Directories are files too in Linux, only that they have special attributes. </span><span class="koboSpan" id="kobo.1247.2">They are essential to organizing your filesystem. </span><span class="koboSpan" id="kobo.1247.3">For more options with this useful tool, feel free to visit the </span><span class="No-Break"><span class="koboSpan" id="kobo.1248.1">manual pages.</span></span></p>
<h3><span class="koboSpan" id="kobo.1249.1">Deleting directories</span></h3>
<p><span class="koboSpan" id="kobo.1250.1">The Linux command for</span><a id="_idIndexMarker248"/><span class="koboSpan" id="kobo.1251.1"> removing directories is called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1252.1">rmdir</span></strong><span class="koboSpan" id="kobo.1253.1">. </span><span class="koboSpan" id="kobo.1253.2">It is designed to default by deleting only empty directories. </span><span class="koboSpan" id="kobo.1253.3">Let’s see what happens if we try to delete a directory that is </span><span class="No-Break"><span class="koboSpan" id="kobo.1254.1">not empty:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer039">
<span class="koboSpan" id="kobo.1255.1"><img alt="Figure 2.20 – Using the rmdir command" src="image/Figure_02.20_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1256.1">Figure 2.20 – Using the rmdir command</span></p>
<p><span class="koboSpan" id="kobo.1257.1">This is a precautionary measure from the shell, as deleting a directory that is not empty could have disastrous consequences, as we’ve seen when using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1258.1">rm</span></strong><span class="koboSpan" id="kobo.1259.1"> command. </span><span class="koboSpan" id="kobo.1259.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1260.1">rmdir</span></strong><span class="koboSpan" id="kobo.1261.1"> command does not have a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1262.1">-i</span></strong><span class="koboSpan" id="kobo.1263.1"> option such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.1264.1">rm</span></strong><span class="koboSpan" id="kobo.1265.1">. </span><span class="koboSpan" id="kobo.1265.2">The only way to delete the directory using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1266.1">rmdir</span></strong><span class="koboSpan" id="kobo.1267.1"> command is to delete files inside it first manually. </span><span class="koboSpan" id="kobo.1267.2">However, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1268.1">rm -r</span></strong><span class="koboSpan" id="kobo.1269.1"> command shown earlier is still useful and more versatile when </span><span class="No-Break"><span class="koboSpan" id="kobo.1270.1">deleting directories.</span></span></p>
<p><span class="koboSpan" id="kobo.1271.1">Now that you know how to work with directories in Linux, we will proceed to show you commands for </span><span class="No-Break"><span class="koboSpan" id="kobo.1272.1">file viewing.</span></span></p>
<h2 id="_idParaDest-52"><a id="_idTextAnchor067"/><span class="koboSpan" id="kobo.1273.1">Commands for file viewing</span></h2>
<p><span class="koboSpan" id="kobo.1274.1">As everything in Linux is a file, being able to view and work with file contents is an essential asset for any </span><a id="_idIndexMarker249"/><span class="koboSpan" id="kobo.1275.1">system administrator. </span><span class="koboSpan" id="kobo.1275.2">In this section, we will learn commands for file viewing, as almost all files contain text that, at some point, should </span><span class="No-Break"><span class="koboSpan" id="kobo.1276.1">be readable.</span></span></p>
<h3><span class="koboSpan" id="kobo.1277.1">The cat command</span></h3>
<p><span class="koboSpan" id="kobo.1278.1">This command was used in</span><a id="_idIndexMarker250"/><span class="koboSpan" id="kobo.1279.1"> some of our previous examples</span><a id="_idIndexMarker251"/><span class="koboSpan" id="kobo.1280.1"> in this chapter. </span><span class="koboSpan" id="kobo.1280.2">It is short for </span><em class="italic"><span class="koboSpan" id="kobo.1281.1">concatenate</span></em><span class="koboSpan" id="kobo.1282.1"> and is used to print the contents of the file to the screen. </span><span class="koboSpan" id="kobo.1282.2">We have used </span><strong class="source-inline"><span class="koboSpan" id="kobo.1283.1">cat</span></strong><span class="koboSpan" id="kobo.1284.1"> several times during this chapter, but here is yet another example. </span><span class="koboSpan" id="kobo.1284.2">We have two existing files, one called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1285.1">new-report</span></strong><span class="koboSpan" id="kobo.1286.1"> and the other called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1287.1">users</span></strong><span class="koboSpan" id="kobo.1288.1">. </span><span class="koboSpan" id="kobo.1288.2">Let us show you how to use </span><strong class="source-inline"><span class="koboSpan" id="kobo.1289.1">cat</span></strong><span class="koboSpan" id="kobo.1290.1"> in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1291.1">following image:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer040">
<span class="koboSpan" id="kobo.1292.1"><img alt="Figure 2.21 – Example of using the cat command" src="image/Figure_02.21_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1293.1">Figure 2.21 – Example of using the cat command</span></p>
<p><span class="koboSpan" id="kobo.1294.1">In this example, we first used the command to show the contents of only one file, the one called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1295.1">new-report</span></strong><span class="koboSpan" id="kobo.1296.1">. </span><span class="koboSpan" id="kobo.1296.2">The second command was used to show the contents </span><a id="_idIndexMarker252"/><span class="koboSpan" id="kobo.1297.1">of two files at once, both </span><strong class="source-inline"><span class="koboSpan" id="kobo.1298.1">new-report</span></strong><span class="koboSpan" id="kobo.1299.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1300.1">users</span></strong><span class="koboSpan" id="kobo.1301.1">. </span><span class="koboSpan" id="kobo.1301.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1302.1">cat</span></strong><span class="koboSpan" id="kobo.1303.1"> command is showing the contents of both on the screen. </span><span class="koboSpan" id="kobo.1303.2">Both files are located in the same directory, which is also the user’s working directory. </span><span class="koboSpan" id="kobo.1303.3">If you would like to concatenate the contents of files that are not inside your present working directory, you would need to use their </span><span class="No-Break"><span class="koboSpan" id="kobo.1304.1">absolute path.</span></span></p>
<p><span class="koboSpan" id="kobo.1305.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1306.1">cat</span></strong><span class="koboSpan" id="kobo.1307.1"> command has </span><a id="_idIndexMarker253"/><span class="koboSpan" id="kobo.1308.1">several options available, which we will not cover here, as most of the time, its purest form will be the most used. </span><span class="koboSpan" id="kobo.1308.2">For more details, see the </span><span class="No-Break"><span class="koboSpan" id="kobo.1309.1">manual pages.</span></span></p>
<h3><span class="koboSpan" id="kobo.1310.1">The less command</span></h3>
<p><span class="koboSpan" id="kobo.1311.1">There are times when a file has</span><a id="_idIndexMarker254"/><span class="koboSpan" id="kobo.1312.1"> so much text that it will cover many screens, and it will be difficult to view on your terminal using just </span><strong class="source-inline"><span class="koboSpan" id="kobo.1313.1">cat</span></strong><span class="koboSpan" id="kobo.1314.1">. </span><span class="koboSpan" id="kobo.1314.2">This is where the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1315.1">less</span></strong><span class="koboSpan" id="kobo.1316.1"> command is handy. </span><span class="koboSpan" id="kobo.1316.2">It shows </span><a id="_idIndexMarker255"/><span class="koboSpan" id="kobo.1317.1">one screen at a time. </span><span class="koboSpan" id="kobo.1317.2">How much a screen means, it all depends on the size of your terminal window. </span><span class="koboSpan" id="kobo.1317.3">Let’s take, for example, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1318.1">/etc/passwd</span></strong><span class="koboSpan" id="kobo.1319.1"> file. </span><span class="koboSpan" id="kobo.1319.2">It could have multiple lines that you would not be able to fit in just one screen. </span><span class="koboSpan" id="kobo.1319.3">You could use the </span><span class="No-Break"><span class="koboSpan" id="kobo.1320.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1321.1">
$ less /etc/passwd</span></pre> <p><span class="koboSpan" id="kobo.1322.1">When you press </span><em class="italic"><span class="koboSpan" id="kobo.1323.1">Enter</span></em><span class="koboSpan" id="kobo.1324.1">, the contents of the file will be shown on your screen. </span><span class="koboSpan" id="kobo.1324.2">To navigate through it, you could use the </span><span class="No-Break"><span class="koboSpan" id="kobo.1325.1">following keys:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.1326.1">Space bar: Move forward </span><span class="No-Break"><span class="koboSpan" id="kobo.1327.1">one screen</span></span></li>
<li><em class="italic"><span class="koboSpan" id="kobo.1328.1">Enter</span></em><span class="koboSpan" id="kobo.1329.1">: Move forward </span><span class="No-Break"><span class="koboSpan" id="kobo.1330.1">one line</span></span></li>
<li><em class="italic"><span class="koboSpan" id="kobo.1331.1">b</span></em><span class="koboSpan" id="kobo.1332.1">: Move backward </span><span class="No-Break"><span class="koboSpan" id="kobo.1333.1">one screen</span></span></li>
<li><em class="italic"><span class="koboSpan" id="kobo.1334.1">/</span></em><span class="koboSpan" id="kobo.1335.1">: Enter search mode; this searches forward in </span><span class="No-Break"><span class="koboSpan" id="kobo.1336.1">your file</span></span></li>
<li><em class="italic"><span class="koboSpan" id="kobo.1337.1">?</span></em><span class="koboSpan" id="kobo.1338.1">: Search mode; this searches backward in </span><span class="No-Break"><span class="koboSpan" id="kobo.1339.1">your file</span></span></li>
<li><em class="italic"><span class="koboSpan" id="kobo.1340.1">v</span></em><span class="koboSpan" id="kobo.1341.1">: Edit your file with the </span><span class="No-Break"><span class="koboSpan" id="kobo.1342.1">default editor</span></span></li>
<li><em class="italic"><span class="koboSpan" id="kobo.1343.1">g</span></em><span class="koboSpan" id="kobo.1344.1">: Jump to the beginning of </span><span class="No-Break"><span class="koboSpan" id="kobo.1345.1">the file</span></span></li>
<li><em class="italic"><span class="koboSpan" id="kobo.1346.1">Shift</span></em><span class="koboSpan" id="kobo.1347.1"> + </span><em class="italic"><span class="koboSpan" id="kobo.1348.1">g</span></em><span class="koboSpan" id="kobo.1349.1">: Jump to the end of </span><span class="No-Break"><span class="koboSpan" id="kobo.1350.1">the file</span></span></li>
<li><em class="italic"><span class="koboSpan" id="kobo.1351.1">q</span></em><span class="koboSpan" id="kobo.1352.1">: Exit </span><span class="No-Break"><span class="koboSpan" id="kobo.1353.1">the output.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.1354.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1355.1">less</span></strong><span class="koboSpan" id="kobo.1356.1"> command </span><a id="_idIndexMarker256"/><span class="koboSpan" id="kobo.1357.1">has a multitude of options that could be</span><a id="_idIndexMarker257"/><span class="koboSpan" id="kobo.1358.1"> used. </span><span class="koboSpan" id="kobo.1358.2">We advise you to consult the manual pages to find out more information about </span><span class="No-Break"><span class="koboSpan" id="kobo.1359.1">this command.</span></span></p>
<h3><span class="koboSpan" id="kobo.1360.1">The head command</span></h3>
<p><span class="koboSpan" id="kobo.1361.1">This command is handy when you only want to print to the screen the beginning (the head) of a text file. </span><span class="koboSpan" id="kobo.1361.2">By </span><a id="_idIndexMarker258"/><span class="koboSpan" id="kobo.1362.1">default, it will print only the first 10 lines </span><a id="_idIndexMarker259"/><span class="koboSpan" id="kobo.1363.1">of the file. </span><span class="koboSpan" id="kobo.1363.2">You can use the same </span><strong class="source-inline"><span class="koboSpan" id="kobo.1364.1">/etc/passwd</span></strong><span class="koboSpan" id="kobo.1365.1"> file for the head exercise and execute the following command. </span><span class="koboSpan" id="kobo.1365.2">Watch what happens. </span><span class="koboSpan" id="kobo.1365.3">It prints the first 10 lines and then exits the command, taking you back to the </span><span class="No-Break"><span class="koboSpan" id="kobo.1366.1">shell prompt:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1367.1">
head /etc/passwd</span></pre> <p><span class="koboSpan" id="kobo.1368.1">One useful option of this command is to print more or less than 10 lines of the file. </span><span class="koboSpan" id="kobo.1368.2">For this, you can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1369.1">-n</span></strong><span class="koboSpan" id="kobo.1370.1"> argument or simply just </span><strong class="source-inline"><span class="koboSpan" id="kobo.1371.1">–</span></strong><span class="koboSpan" id="kobo.1372.1"> with the number of lines you want to print. </span><span class="koboSpan" id="kobo.1372.2">For the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1373.1">/etc/passwd</span></strong><span class="koboSpan" id="kobo.1374.1"> file, we will first use the head command without any options, and then we will use it with the number of lines argument, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1375.1">following figure:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer041">
<span class="koboSpan" id="kobo.1376.1"><img alt="Figure 2.22 – Using the head command" src="image/Figure_02.22_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1377.1">Figure 2.22 – Using the head command</span></p>
<p><span class="koboSpan" id="kobo.1378.1">Many other</span><a id="_idIndexMarker260"/><span class="koboSpan" id="kobo.1379.1"> options that this command provides can prove </span><a id="_idIndexMarker261"/><span class="koboSpan" id="kobo.1380.1">useful for your work as a system administrator, but we will not cover them here. </span><span class="koboSpan" id="kobo.1380.2">Feel free to explore </span><span class="No-Break"><span class="koboSpan" id="kobo.1381.1">them yourself.</span></span></p>
<h3><span class="koboSpan" id="kobo.1382.1">The tail command</span></h3>
<p><span class="koboSpan" id="kobo.1383.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1384.1">tail</span></strong><span class="koboSpan" id="kobo.1385.1"> command is similar to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1386.1">head</span></strong><span class="koboSpan" id="kobo.1387.1"> command, only it prints the last 10 lines of a file, by default. </span><span class="koboSpan" id="kobo.1387.2">You can</span><a id="_idIndexMarker262"/><span class="koboSpan" id="kobo.1388.1"> use the same </span><strong class="source-inline"><span class="koboSpan" id="kobo.1389.1">-n</span></strong><span class="koboSpan" id="kobo.1390.1"> argument as for the head </span><a id="_idIndexMarker263"/><span class="koboSpan" id="kobo.1391.1">command, to see a specific number of lines from the end of a file. </span><span class="koboSpan" id="kobo.1391.2">However, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1392.1">tail</span></strong><span class="koboSpan" id="kobo.1393.1"> command is commonly used for actively watching log files that are constantly changing. </span><span class="koboSpan" id="kobo.1393.2">It can print the last lines of the file as other applications are writing to it. </span><span class="koboSpan" id="kobo.1393.3">Take, for example, the </span><span class="No-Break"><span class="koboSpan" id="kobo.1394.1">following line:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1395.1">
tail -f /var/log/syslog</span></pre> <p><span class="koboSpan" id="kobo.1396.1">Using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1397.1">-f</span></strong><span class="koboSpan" id="kobo.1398.1"> option will make the command watch the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1399.1">/var/log/syslog</span></strong><span class="koboSpan" id="kobo.1400.1"> file as it is being written. </span><span class="koboSpan" id="kobo.1400.2">It will show you</span><a id="_idIndexMarker264"/><span class="koboSpan" id="kobo.1401.1"> the contents of the file on the screen effectively. </span><span class="koboSpan" id="kobo.1401.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1402.1">-f</span></strong><span class="koboSpan" id="kobo.1403.1"> option will cause the tail command to stop during a log rotation, and in this case, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1404.1">-F</span></strong><span class="koboSpan" id="kobo.1405.1"> option should be used instead. </span><span class="koboSpan" id="kobo.1405.2">When using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1406.1">-F</span></strong><span class="koboSpan" id="kobo.1407.1"> option, the command will continue to show the output even during a log rotation. </span><span class="koboSpan" id="kobo.1407.2">To exit that screen, you will need to press </span><em class="italic"><span class="koboSpan" id="kobo.1408.1">Ctrl</span></em><span class="koboSpan" id="kobo.1409.1"> + </span><em class="italic"><span class="koboSpan" id="kobo.1410.1">C</span></em><span class="koboSpan" id="kobo.1411.1"> to go back to the shell</span><a id="_idIndexMarker265"/><span class="koboSpan" id="kobo.1412.1"> prompt. </span><span class="koboSpan" id="kobo.1412.2">The following is an example of the output of the </span><span class="No-Break"><span class="koboSpan" id="kobo.1413.1">previous command:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer042">
<span class="koboSpan" id="kobo.1414.1"><img alt="Figure 2.23 – The use of tail command for real-time log  file observation" src="image/Figure_02.23_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1415.1">Figure 2.23 – The use of tail command for real-time log file observation</span></p>
<p><span class="koboSpan" id="kobo.1416.1">Next, let us learn how</span><a id="_idIndexMarker266"/><span class="koboSpan" id="kobo.1417.1"> to view file properties </span><span class="No-Break"><span class="koboSpan" id="kobo.1418.1">in Linux.</span></span></p>
<h2 id="_idParaDest-53"><a id="_idTextAnchor068"/><span class="koboSpan" id="kobo.1419.1">Commands for file properties</span></h2>
<p><span class="koboSpan" id="kobo.1420.1">There could be times when just viewing the contents of a file is not enough, and you need extra information</span><a id="_idIndexMarker267"/><span class="koboSpan" id="kobo.1421.1"> about that file. </span><span class="koboSpan" id="kobo.1421.2">There are other handy commands that you could use, and we describe them in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1422.1">following sections.</span></span></p>
<h3><span class="koboSpan" id="kobo.1423.1">The stat command</span></h3>
<p><span class="koboSpan" id="kobo.1424.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1425.1">stat</span></strong><span class="koboSpan" id="kobo.1426.1"> command gives you more information than the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1427.1">ls</span></strong><span class="koboSpan" id="kobo.1428.1"> command does. </span><span class="koboSpan" id="kobo.1428.2">The example in the following</span><a id="_idIndexMarker268"/><span class="koboSpan" id="kobo.1429.1"> figure shows a comparison </span><a id="_idIndexMarker269"/><span class="koboSpan" id="kobo.1430.1">between the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1431.1">ls</span></strong><span class="koboSpan" id="kobo.1432.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1433.1">stat</span></strong><span class="koboSpan" id="kobo.1434.1"> outputs for the </span><span class="No-Break"><span class="koboSpan" id="kobo.1435.1">same file:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer043">
<span class="koboSpan" id="kobo.1436.1"><img alt="Figure 2.24 – Using the stat command" src="image/Figure_02.24_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1437.1">Figure 2.24 – Using the stat command</span></p>
<p><span class="koboSpan" id="kobo.1438.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1439.1">stat</span></strong><span class="koboSpan" id="kobo.1440.1"> command gives you more information about the name, size, number of blocks, type of file, inode, number of links, permissions, UID and GID, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1441.1">atime</span></strong><span class="koboSpan" id="kobo.1442.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1443.1">mtime</span></strong><span class="koboSpan" id="kobo.1444.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1445.1">ctime</span></strong><span class="koboSpan" id="kobo.1446.1">. </span><span class="koboSpan" id="kobo.1446.2">To find out more information about it, please refer to the Linux </span><span class="No-Break"><span class="koboSpan" id="kobo.1447.1">manual pages.</span></span></p>
<h3><span class="koboSpan" id="kobo.1448.1">The file command</span></h3>
<p><span class="koboSpan" id="kobo.1449.1">This command simply </span><a id="_idIndexMarker270"/><span class="koboSpan" id="kobo.1450.1">reports on the type of file. </span><span class="koboSpan" id="kobo.1450.2">Here is</span><a id="_idIndexMarker271"/><span class="koboSpan" id="kobo.1451.1"> an example of a text file and a </span><span class="No-Break"><span class="koboSpan" id="kobo.1452.1">command file:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer044">
<span class="koboSpan" id="kobo.1453.1"><img alt="Figure 2.25 – Using the file command" src="image/Figure_02.25_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1454.1">Figure 2.25 – Using the file command</span></p>
<p><span class="koboSpan" id="kobo.1455.1">Linux does not</span><a id="_idIndexMarker272"/><span class="koboSpan" id="kobo.1456.1"> rely on file extensions and types as some other operating systems do. </span><span class="koboSpan" id="kobo.1456.2">In this respect, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1457.1">file</span></strong><span class="koboSpan" id="kobo.1458.1"> command determines the</span><a id="_idIndexMarker273"/><span class="koboSpan" id="kobo.1459.1"> file type more by its contents than </span><span class="No-Break"><span class="koboSpan" id="kobo.1460.1">anything else.</span></span></p>
<h3><span class="koboSpan" id="kobo.1461.1">Commands for configuring file ownership and permissions</span></h3>
<p><span class="koboSpan" id="kobo.1462.1">In Linux, </span><strong class="bold"><span class="koboSpan" id="kobo.1463.1">file security</span></strong><span class="koboSpan" id="kobo.1464.1"> is set by ownership and </span><a id="_idIndexMarker274"/><span class="koboSpan" id="kobo.1465.1">permissions. </span><strong class="bold"><span class="koboSpan" id="kobo.1466.1">File ownership</span></strong><span class="koboSpan" id="kobo.1467.1"> is determined by the file’s owner and the owner’s group. </span><span class="koboSpan" id="kobo.1467.2">Judging by the owner, a file may have one of three types of ownership assigned to it: </span><em class="italic"><span class="koboSpan" id="kobo.1468.1">user</span></em><span class="koboSpan" id="kobo.1469.1">, </span><em class="italic"><span class="koboSpan" id="kobo.1470.1">group</span></em><span class="koboSpan" id="kobo.1471.1">, and </span><em class="italic"><span class="koboSpan" id="kobo.1472.1">other</span></em><span class="koboSpan" id="kobo.1473.1">. </span><span class="koboSpan" id="kobo.1473.2">The user is, most of the time, the owner of a file. </span><span class="koboSpan" id="kobo.1473.3">Whoever created the file is its owner. </span><span class="koboSpan" id="kobo.1473.4">The owner can be changed using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1474.1">chown</span></strong><span class="koboSpan" id="kobo.1475.1"> command. </span><span class="koboSpan" id="kobo.1475.2">When setting up group ownership, you determine the permissions for everyone in that group. </span><span class="koboSpan" id="kobo.1475.3">This is set up using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1476.1">chgrp</span></strong><span class="koboSpan" id="kobo.1477.1"> command. </span><span class="koboSpan" id="kobo.1477.2">When it comes to other users, the reference is to everyone else on that system, someone who did not create the file, so it is not the owner, and who does not belong to the owner’s group. </span><span class="koboSpan" id="kobo.1477.3">Other is also known as, or referred to as </span><span class="No-Break"><span class="koboSpan" id="kobo.1478.1">the world.</span></span></p>
<p><span class="koboSpan" id="kobo.1479.1">Besides setting user ownership, the system must know how to determine user behavior, and it does that through the </span><a id="_idIndexMarker275"/><span class="koboSpan" id="kobo.1480.1">use of </span><strong class="bold"><span class="koboSpan" id="kobo.1481.1">permissions</span></strong><span class="koboSpan" id="kobo.1482.1">. </span><span class="koboSpan" id="kobo.1482.2">We will do a quick review of a file’s properties by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1483.1">ls -</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1484.1">l</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1485.1"> command:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer045">
<span class="koboSpan" id="kobo.1486.1"><img alt="Figure 2.26 – Long listing output" src="image/Figure_02.26_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1487.1">Figure 2.26 – Long listing output</span></p>
<p><span class="koboSpan" id="kobo.1488.1">In the preceding examples, you see two different types of permissions for the files inside our home directory. </span><span class="koboSpan" id="kobo.1488.2">Each</span><a id="_idIndexMarker276"/><span class="koboSpan" id="kobo.1489.1"> line has 12 characters reserved for special attributes and permissions. </span><span class="koboSpan" id="kobo.1489.2">Out of those 12, only 10 are used in the preceding examples. </span><span class="koboSpan" id="kobo.1489.3">Nine of them represent the </span><a id="_idIndexMarker277"/><span class="koboSpan" id="kobo.1490.1">permissions, and the first one is the file type. </span><span class="koboSpan" id="kobo.1490.2">There are three easy-to-remember abbreviations </span><span class="No-Break"><span class="koboSpan" id="kobo.1491.1">for permissions:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1492.1">r</span></strong><span class="koboSpan" id="kobo.1493.1"> is for </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1494.1">read</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1495.1"> permission</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1496.1">w</span></strong><span class="koboSpan" id="kobo.1497.1"> is for </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1498.1">write</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1499.1"> permission</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1500.1">x</span></strong><span class="koboSpan" id="kobo.1501.1"> is for </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1502.1">execute</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1503.1"> permission</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1504.1">-</span></strong><span class="koboSpan" id="kobo.1505.1"> is for </span><span class="No-Break"><span class="koboSpan" id="kobo.1506.1">no permission</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.1507.1">The nine characters are divided into three regions, each consisting of three characters. </span><span class="koboSpan" id="kobo.1507.2">The first three characters are reserved for user permissions, the following three characters are reserved for group permissions, and the last three characters represent other, or </span><span class="No-Break"><span class="koboSpan" id="kobo.1508.1">global permissions.</span></span></p>
<p><span class="koboSpan" id="kobo.1509.1">File types also have their codes, </span><span class="No-Break"><span class="koboSpan" id="kobo.1510.1">as follows:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1511.1">d</span></strong><span class="koboSpan" id="kobo.1512.1">: The letter </span><strong class="source-inline"><span class="koboSpan" id="kobo.1513.1">d</span></strong><span class="koboSpan" id="kobo.1514.1"> shows that it is </span><span class="No-Break"><span class="koboSpan" id="kobo.1515.1">a directory</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1516.1">-</span></strong><span class="koboSpan" id="kobo.1517.1">: The hyphen shows that it is </span><span class="No-Break"><span class="koboSpan" id="kobo.1518.1">a file</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1519.1">l</span></strong><span class="koboSpan" id="kobo.1520.1">: The letter </span><strong class="source-inline"><span class="koboSpan" id="kobo.1521.1">l</span></strong><span class="koboSpan" id="kobo.1522.1"> shows that it is a </span><span class="No-Break"><span class="koboSpan" id="kobo.1523.1">symbolic link</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1524.1">p</span></strong><span class="koboSpan" id="kobo.1525.1">: The letter </span><strong class="source-inline"><span class="koboSpan" id="kobo.1526.1">p</span></strong><span class="koboSpan" id="kobo.1527.1"> shows that it is a named pipe; a special file that facilitates the communication </span><span class="No-Break"><span class="koboSpan" id="kobo.1528.1">between programs</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1529.1">s</span></strong><span class="koboSpan" id="kobo.1530.1">: The letter </span><strong class="source-inline"><span class="koboSpan" id="kobo.1531.1">s</span></strong><span class="koboSpan" id="kobo.1532.1"> shows that it is a socket, similar to the pipe but with bi-directional and </span><span class="No-Break"><span class="koboSpan" id="kobo.1533.1">network communications</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1534.1">b</span></strong><span class="koboSpan" id="kobo.1535.1">: The letter </span><strong class="source-inline"><span class="koboSpan" id="kobo.1536.1">b</span></strong><span class="koboSpan" id="kobo.1537.1"> shows that it is a block device; a file that corresponds to a </span><span class="No-Break"><span class="koboSpan" id="kobo.1538.1">hardware device</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1539.1">c</span></strong><span class="koboSpan" id="kobo.1540.1">: The letter </span><strong class="source-inline"><span class="koboSpan" id="kobo.1541.1">c</span></strong><span class="koboSpan" id="kobo.1542.1"> shows that it is a character device; similar to a </span><span class="No-Break"><span class="koboSpan" id="kobo.1543.1">block device</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.1544.1">The permission string is a</span><a id="_idIndexMarker278"/><span class="koboSpan" id="kobo.1545.1"> 10-bit string. </span><span class="koboSpan" id="kobo.1545.2">The first bit is reserved for the file type. </span><span class="koboSpan" id="kobo.1545.3">The next nine bits determine the permissions by dividing them into 3-bit packets. </span><span class="koboSpan" id="kobo.1545.4">Each packet is expressed by</span><a id="_idIndexMarker279"/><span class="koboSpan" id="kobo.1546.1"> an </span><strong class="bold"><span class="koboSpan" id="kobo.1547.1">octal number</span></strong><span class="koboSpan" id="kobo.1548.1"> (because an octal number has three bytes). </span><span class="koboSpan" id="kobo.1548.2">Thus, permissions are represented using a power </span><span class="No-Break"><span class="koboSpan" id="kobo.1549.1">of two:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1550.1">read</span></strong><span class="koboSpan" id="kobo.1551.1"> is 2 ^ 2 (two to the power of two), which </span><span class="No-Break"><span class="koboSpan" id="kobo.1552.1">equals 4</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1553.1">write</span></strong><span class="koboSpan" id="kobo.1554.1"> is 2 ^ 1 (two to the power of one), which </span><span class="No-Break"><span class="koboSpan" id="kobo.1555.1">equals 2</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1556.1">execute</span></strong><span class="koboSpan" id="kobo.1557.1"> is 2 ^ 0 (two to the power of zero), which </span><span class="No-Break"><span class="koboSpan" id="kobo.1558.1">equals 1</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.1559.1">In this respect, file permissions should be represented according to the </span><span class="No-Break"><span class="koboSpan" id="kobo.1560.1">following diagram:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer046">
<span class="koboSpan" id="kobo.1561.1"><img alt="Figure 2.27 – File permissions explained" src="image/Figure_02.27_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1562.1">Figure 2.27 – File permissions explained</span></p>
<p><span class="koboSpan" id="kobo.1563.1">In the preceding diagram, you have the permissions shown as a string of nine characters, just like you would see them in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1564.1">ls -la</span></strong><span class="koboSpan" id="kobo.1565.1"> output. </span><span class="koboSpan" id="kobo.1565.2">The row is divided into three different sections, one for owner/user, one for group, and one for other/world. </span><span class="koboSpan" id="kobo.1565.3">These are shown in the first two rows. </span><span class="koboSpan" id="kobo.1565.4">The other two rows show you the types of permissions (</span><strong class="source-inline"><span class="koboSpan" id="kobo.1566.1">read</span></strong><span class="koboSpan" id="kobo.1567.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1568.1">write</span></strong><span class="koboSpan" id="kobo.1569.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1570.1">execute</span></strong><span class="koboSpan" id="kobo.1571.1">) and the octal numbers in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1572.1">following paragraph.</span></span></p>
<p><span class="koboSpan" id="kobo.1573.1">This is useful as it relates the octal representations to the character representations of permissions. </span><span class="koboSpan" id="kobo.1573.2">Thus, if you were to translate a permission shown as </span><strong class="source-inline"><span class="koboSpan" id="kobo.1574.1">rwx r-x</span></strong><span class="koboSpan" id="kobo.1575.1"> into octal, based on the preceding diagram, you could easily say it is </span><strong class="source-inline"><span class="koboSpan" id="kobo.1576.1">755</span></strong><span class="koboSpan" id="kobo.1577.1">. </span><span class="koboSpan" id="kobo.1577.2">This is because, for the first group, the owner, you have all of them active (</span><strong class="source-inline"><span class="koboSpan" id="kobo.1578.1">rwx</span></strong><span class="koboSpan" id="kobo.1579.1">), which translates into </span><em class="italic"><span class="koboSpan" id="kobo.1580.1">4+2+1=7</span></em><span class="koboSpan" id="kobo.1581.1">. </span><span class="koboSpan" id="kobo.1581.2">For the second </span><a id="_idIndexMarker280"/><span class="koboSpan" id="kobo.1582.1">group, you have only two permissions active, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1583.1">r</span></strong><span class="koboSpan" id="kobo.1584.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1585.1">x</span></strong><span class="koboSpan" id="kobo.1586.1">, which translates into </span><em class="italic"><span class="koboSpan" id="kobo.1587.1">4+1=5</span></em><span class="koboSpan" id="kobo.1588.1">. </span><span class="koboSpan" id="kobo.1588.2">Finally, for the last group, you have also two permissions active, similar to the second group (</span><strong class="source-inline"><span class="koboSpan" id="kobo.1589.1">r</span></strong><span class="koboSpan" id="kobo.1590.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1591.1">x</span></strong><span class="koboSpan" id="kobo.1592.1">), which translates to </span><em class="italic"><span class="koboSpan" id="kobo.1593.1">4+1=5</span></em><span class="koboSpan" id="kobo.1594.1">. </span><span class="koboSpan" id="kobo.1594.2">Now you know that the permission in the octal </span><span class="No-Break"><span class="koboSpan" id="kobo.1595.1">is </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1596.1">755</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1597.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1598.1">As an exercise, you should try to translate into octal the </span><span class="No-Break"><span class="koboSpan" id="kobo.1599.1">following permissions:</span></span></p>
<ul>
<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1600.1">rwx rwx</span></strong></span></li>
<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1601.1">rwx r-x</span></strong></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1602.1">rwx r-x - - -</span></strong></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1603.1">rwx - - - - - -</span></strong></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1604.1">rw- </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1605.1">rw- rw-</span></strong></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1606.1">rw- rw- r - -</span></strong></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1607.1">rw- rw- - - -</span></strong></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1608.1">rw- r- - </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1609.1">r- -</span></strong></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1610.1">rw- r- - - - -</span></strong></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1611.1">rw- - - - - - -</span></strong></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1612.1">r - - - - - - - -</span></strong></li>
</ul>
<p class="callout-heading"><span class="koboSpan" id="kobo.1613.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.1614.1">There are some other vital commands such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.1615.1">umask</span></strong><span class="koboSpan" id="kobo.1616.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1617.1">chown</span></strong><span class="koboSpan" id="kobo.1618.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1619.1">chmod</span></strong><span class="koboSpan" id="kobo.1620.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1621.1">chgrp</span></strong><span class="koboSpan" id="kobo.1622.1">, which are used to change or set the default creation mode, owner, mode (access permissions), and group, respectively. </span><span class="koboSpan" id="kobo.1622.2">They will be briefly introduced here as they involve setting the file’s properties, but for a more detailed description, please refer to </span><a href="B19682_04.xhtml#_idTextAnchor090"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1623.1">Chapter 4</span></em></span></a><span class="koboSpan" id="kobo.1624.1">, </span><em class="italic"><span class="koboSpan" id="kobo.1625.1">Managing Users </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1626.1">and Groups</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1627.1">.</span></span></p>
<h3><span class="koboSpan" id="kobo.1628.1">Commands for file compression, uncompression, and archiving</span></h3>
<p><span class="koboSpan" id="kobo.1629.1">In Linux, the standard </span><a id="_idIndexMarker281"/><span class="koboSpan" id="kobo.1630.1">tool for archiving is called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1631.1">tar</span></strong><span class="koboSpan" id="kobo.1632.1">, from tape archive. </span><span class="koboSpan" id="kobo.1632.2">It </span><a id="_idIndexMarker282"/><span class="koboSpan" id="kobo.1633.1">was initially used in Unix to write files to external tape devices for archiving. </span><span class="koboSpan" id="kobo.1633.2">Nowadays, in Linux, it is</span><a id="_idIndexMarker283"/><span class="koboSpan" id="kobo.1634.1"> also used to write to a file in a compressed format. </span><span class="koboSpan" id="kobo.1634.2">Other popular formats, apart from </span><strong class="source-inline"><span class="koboSpan" id="kobo.1635.1">tar</span></strong><span class="koboSpan" id="kobo.1636.1"> archives, are </span><strong class="source-inline"><span class="koboSpan" id="kobo.1637.1">gzip</span></strong><span class="koboSpan" id="kobo.1638.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1639.1">bzip</span></strong><span class="koboSpan" id="kobo.1640.1"> for compressed archives, together with the popular </span><strong class="source-inline"><span class="koboSpan" id="kobo.1641.1">zip</span></strong><span class="koboSpan" id="kobo.1642.1"> from Windows. </span><span class="koboSpan" id="kobo.1642.2">Now let’s look at the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1643.1">tar</span></strong><span class="koboSpan" id="kobo.1644.1"> command </span><span class="No-Break"><span class="koboSpan" id="kobo.1645.1">in detail.</span></span></p>
<h4><span class="koboSpan" id="kobo.1646.1">The tar command for compressing and un-compressing</span></h4>
<p><span class="koboSpan" id="kobo.1647.1">This command is used with options and does</span><a id="_idIndexMarker284"/><span class="koboSpan" id="kobo.1648.1"> not offer compression by default. </span><span class="koboSpan" id="kobo.1648.2">To use compression, we would </span><a id="_idIndexMarker285"/><span class="koboSpan" id="kobo.1649.1">need to use specific options. </span><span class="koboSpan" id="kobo.1649.2">Here are some of the most useful arguments available </span><span class="No-Break"><span class="koboSpan" id="kobo.1650.1">for </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1651.1">tar</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1652.1">:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1653.1">tar -c</span></strong><span class="koboSpan" id="kobo.1654.1">: Creates </span><span class="No-Break"><span class="koboSpan" id="kobo.1655.1">an archive</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1656.1">tar -r</span></strong><span class="koboSpan" id="kobo.1657.1">: Appends files to an already </span><span class="No-Break"><span class="koboSpan" id="kobo.1658.1">existing archive</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1659.1">tar -u</span></strong><span class="koboSpan" id="kobo.1660.1">: Appends only changed files to an </span><span class="No-Break"><span class="koboSpan" id="kobo.1661.1">existing archive</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1662.1">tar -A</span></strong><span class="koboSpan" id="kobo.1663.1">: Appends an archive to the end of </span><span class="No-Break"><span class="koboSpan" id="kobo.1664.1">another archive</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1665.1">tar -t</span></strong><span class="koboSpan" id="kobo.1666.1">: Lists the contents of </span><span class="No-Break"><span class="koboSpan" id="kobo.1667.1">the archive</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1668.1">tar -x</span></strong><span class="koboSpan" id="kobo.1669.1">: Extracts the </span><span class="No-Break"><span class="koboSpan" id="kobo.1670.1">archive contents</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1671.1">tar -z</span></strong><span class="koboSpan" id="kobo.1672.1">: Uses </span><strong class="source-inline"><span class="koboSpan" id="kobo.1673.1">gzip</span></strong><span class="koboSpan" id="kobo.1674.1"> compression for </span><span class="No-Break"><span class="koboSpan" id="kobo.1675.1">the archive</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1676.1">tar -j</span></strong><span class="koboSpan" id="kobo.1677.1">: Uses </span><strong class="source-inline"><span class="koboSpan" id="kobo.1678.1">bzip2</span></strong><span class="koboSpan" id="kobo.1679.1"> compression for </span><span class="No-Break"><span class="koboSpan" id="kobo.1680.1">the archive</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1681.1">tar -v</span></strong><span class="koboSpan" id="kobo.1682.1">: Uses verbose mode by printing extra information on </span><span class="No-Break"><span class="koboSpan" id="kobo.1683.1">the screen</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1684.1">tar -p</span></strong><span class="koboSpan" id="kobo.1685.1">: Restores original permission and ownership for the </span><span class="No-Break"><span class="koboSpan" id="kobo.1686.1">extracted files</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1687.1">tar -f</span></strong><span class="koboSpan" id="kobo.1688.1">: Specifies the name of the </span><span class="No-Break"><span class="koboSpan" id="kobo.1689.1">output file</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.1690.1">There is a chance that in your daily tasks, you will have to use these arguments in combination with </span><span class="No-Break"><span class="koboSpan" id="kobo.1691.1">each other.</span></span></p>
<p><span class="koboSpan" id="kobo.1692.1">For example, to create an archive of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1693.1">files</span></strong><span class="koboSpan" id="kobo.1694.1"> directory, we used the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1695.1">-cvf</span></strong><span class="koboSpan" id="kobo.1696.1"> arguments combined, as </span><a id="_idIndexMarker286"/><span class="No-Break"><span class="koboSpan" id="kobo.1697.1">shown here:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer047">
<span class="koboSpan" id="kobo.1698.1"><img alt="Figure 2.28 – Using the tar command" src="image/Figure_02.28_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1699.1">Figure 2.28 – Using the tar command</span></p>
<p><span class="koboSpan" id="kobo.1700.1">The archive created is not compressed. </span><span class="koboSpan" id="kobo.1700.2">To use compression, we would need to add the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1701.1">-z</span></strong><span class="koboSpan" id="kobo.1702.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.1703.1">-j</span></strong><span class="koboSpan" id="kobo.1704.1"> arguments. </span><span class="koboSpan" id="kobo.1704.2">Next, we will use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1705.1">-z</span></strong><span class="koboSpan" id="kobo.1706.1"> option for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1707.1">gzip</span></strong><span class="koboSpan" id="kobo.1708.1"> compression algorithm. </span><span class="koboSpan" id="kobo.1708.2">See the following </span><a id="_idIndexMarker287"/><span class="koboSpan" id="kobo.1709.1">example and compare the size of the two archive files. </span><span class="koboSpan" id="kobo.1709.2">As a general rule, it is advised to use an extension for </span><span class="No-Break"><span class="koboSpan" id="kobo.1710.1">such files:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer048">
<span class="koboSpan" id="kobo.1711.1"><img alt="Figure 2.29 – Compressing a tar archive using gzip" src="image/Figure_02.29_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1712.1">Figure 2.29 – Compressing a tar archive using gzip</span></p>
<p><span class="koboSpan" id="kobo.1713.1">To uncompress a tar archive, you can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1714.1">-x</span></strong><span class="koboSpan" id="kobo.1715.1"> option (shown at the beginning of this subsection). </span><span class="koboSpan" id="kobo.1715.2">For example, let us uncompress the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1716.1">files-archive.tar</span></strong><span class="koboSpan" id="kobo.1717.1"> file that we created earlier in this subsection, and also add a target directory for the uncompressed files to be added to by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1718.1">-C</span></strong><span class="koboSpan" id="kobo.1719.1"> option. </span><span class="koboSpan" id="kobo.1719.2">The target directory needs to be created beforehand. </span><span class="koboSpan" id="kobo.1719.3">To do this, we</span><a id="_idIndexMarker288"/><span class="koboSpan" id="kobo.1720.1"> will use the </span><span class="No-Break"><span class="koboSpan" id="kobo.1721.1">following commands:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1722.1">
mkdir uncompressed-directory
tar -xvf files-archive.tar -C uncompressed-directory</span></pre> <p><span class="koboSpan" id="kobo.1723.1">This will extract the files from the </span><a id="_idIndexMarker289"/><span class="koboSpan" id="kobo.1724.1">archive and add them to the uncompressed-directory directory. </span><span class="koboSpan" id="kobo.1724.2">To uncompress a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1725.1">gzip</span></strong><span class="koboSpan" id="kobo.1726.1">-compressed archive, for example, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1727.1">files-archive-gzipped.tar.gz</span></strong><span class="koboSpan" id="kobo.1728.1">, we will add the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1729.1">-z</span></strong><span class="koboSpan" id="kobo.1730.1"> option to the ones already used in the previous command, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1731.1">following snippet:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1732.1">
tar -xvzf files-archive-gzipped.tar.gz -C uncompressed-directory</span></pre> <p><span class="koboSpan" id="kobo.1733.1">There you go, now you know how to archive and unarchive files in Linux. </span><span class="koboSpan" id="kobo.1733.2">There are other useful archiving tools in Linux, but </span><strong class="source-inline"><span class="koboSpan" id="kobo.1734.1">tar</span></strong><span class="koboSpan" id="kobo.1735.1"> is still the most commonly used one. </span><span class="koboSpan" id="kobo.1735.2">Feel free to explore the others or other useful options </span><span class="No-Break"><span class="koboSpan" id="kobo.1736.1">for </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1737.1">tar</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1738.1">.</span></span></p>
<h3><span class="koboSpan" id="kobo.1739.1">Commands for locating files</span></h3>
<p><span class="koboSpan" id="kobo.1740.1">Locating files in</span><a id="_idIndexMarker290"/><span class="koboSpan" id="kobo.1741.1"> Linux is an essential task for any system administrator. </span><span class="koboSpan" id="kobo.1741.2">As Linux systems contain vast numbers of files, finding files might be an intimidating task. </span><span class="koboSpan" id="kobo.1741.3">Nevertheless, you have handy tools at your disposal, and knowing how to use them will be one of your greatest assets. </span><span class="koboSpan" id="kobo.1741.4">Among these commands, we will discuss </span><strong class="source-inline"><span class="koboSpan" id="kobo.1742.1">locate</span></strong><span class="koboSpan" id="kobo.1743.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1744.1">which</span></strong><span class="koboSpan" id="kobo.1745.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1746.1">whereis</span></strong><span class="koboSpan" id="kobo.1747.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1748.1">find</span></strong><span class="koboSpan" id="kobo.1749.1"> in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1750.1">following sections.</span></span></p>
<h4><span class="koboSpan" id="kobo.1751.1">The locate command</span></h4>
<p><span class="koboSpan" id="kobo.1752.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1753.1">locate</span></strong><span class="koboSpan" id="kobo.1754.1"> command is </span><a id="_idIndexMarker291"/><span class="koboSpan" id="kobo.1755.1">not installed by default on Ubuntu. </span><span class="koboSpan" id="kobo.1755.2">To install it, use the following command to create an index of all the file locations on </span><span class="No-Break"><span class="koboSpan" id="kobo.1756.1">your system:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1757.1">
sudo apt install mlocate</span></pre> <p><span class="koboSpan" id="kobo.1758.1">Thus, when you execute the</span><a id="_idIndexMarker292"/><span class="koboSpan" id="kobo.1759.1"> command, it searches for your file inside the database. </span><span class="koboSpan" id="kobo.1759.2">It uses the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1760.1">updatedb</span></strong><span class="koboSpan" id="kobo.1761.1"> command as </span><span class="No-Break"><span class="koboSpan" id="kobo.1762.1">its partner.</span></span></p>
<p><span class="koboSpan" id="kobo.1763.1">Before starting to use the locate command, you should execute </span><strong class="source-inline"><span class="koboSpan" id="kobo.1764.1">updatedb</span></strong><span class="koboSpan" id="kobo.1765.1"> to update the location database. </span><span class="koboSpan" id="kobo.1765.2">After you do that, you can start locating files. </span><span class="koboSpan" id="kobo.1765.3">In the following example, we will locate any file that has </span><strong class="source-inline"><span class="koboSpan" id="kobo.1766.1">new-report</span></strong><span class="koboSpan" id="kobo.1767.1"> in </span><span class="No-Break"><span class="koboSpan" id="kobo.1768.1">its name:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer049">
<span class="koboSpan" id="kobo.1769.1"><img alt="Figure 2.30 – Using the locate command" src="image/Figure_02.30_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1770.1">Figure 2.30 – Using the locate command</span></p>
<p><span class="koboSpan" id="kobo.1771.1">If we were to search</span><a id="_idIndexMarker293"/><span class="koboSpan" id="kobo.1772.1"> for a file with a more generic name, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.1773.1">presentation</span></strong><span class="koboSpan" id="kobo.1774.1">, the output would be too long </span><a id="_idIndexMarker294"/><span class="koboSpan" id="kobo.1775.1">and irrelevant. </span><span class="koboSpan" id="kobo.1775.2">Here is an example where we used output redirection to a file and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1776.1">wc</span></strong><span class="koboSpan" id="kobo.1777.1"> (word count) command to show only the number of lines, words, and bytes of the file to the </span><span class="No-Break"><span class="koboSpan" id="kobo.1778.1">standard output:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer050">
<span class="koboSpan" id="kobo.1779.1"><img alt="Figure 2.31 – Using the locate command with output redirection and the wc command" src="image/Figure_02.31_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1780.1">Figure 2.31 – Using the locate command with output redirection and the wc command</span></p>
<p><span class="koboSpan" id="kobo.1781.1">In the preceding output, the resulting file has eight lines. </span><span class="koboSpan" id="kobo.1781.2">This means that there were eight files located that have the string </span><strong class="source-inline"><span class="koboSpan" id="kobo.1782.1">presentation</span></strong><span class="koboSpan" id="kobo.1783.1"> in their name. </span><span class="koboSpan" id="kobo.1783.2">The exact number is used for the words inside the file, as there are no spaces between the paths, so every line is detected as a single word. </span><span class="koboSpan" id="kobo.1783.3">Also, the resulting file has 663 bytes. </span><span class="koboSpan" id="kobo.1783.4">Feel free to experiment with other strings. </span><span class="koboSpan" id="kobo.1783.5">For more options for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1784.1">locate</span></strong><span class="koboSpan" id="kobo.1785.1"> command, please refer to the Linux </span><span class="No-Break"><span class="koboSpan" id="kobo.1786.1">manual pages.</span></span></p>
<h4><span class="koboSpan" id="kobo.1787.1">The which command</span></h4>
<p><span class="koboSpan" id="kobo.1788.1">This command locates an executable file (program</span><a id="_idIndexMarker295"/><span class="koboSpan" id="kobo.1789.1"> or command) in the shell’s </span><a id="_idIndexMarker296"/><span class="koboSpan" id="kobo.1790.1">search path. </span><span class="koboSpan" id="kobo.1790.2">For example, to locate the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1791.1">ls</span></strong><span class="koboSpan" id="kobo.1792.1"> command, type </span><span class="No-Break"><span class="koboSpan" id="kobo.1793.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1794.1">
packt@neptune:~$ which ls
/usr/bin/ls</span></pre> <p><span class="koboSpan" id="kobo.1795.1">You see that the output is the path of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1796.1">ls</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.1797.1">command: </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1798.1">/usr/bin/ls</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1799.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1800.1">Now try it with the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1801.1">cd</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1802.1"> command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1803.1">
which cd</span></pre> <p><span class="koboSpan" id="kobo.1804.1">You will see that there is no output. </span><span class="koboSpan" id="kobo.1804.2">This is because the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1805.1">cd</span></strong><span class="koboSpan" id="kobo.1806.1"> command is built inside the shell and has no other location for the command </span><span class="No-Break"><span class="koboSpan" id="kobo.1807.1">to show.</span></span></p>
<h4><span class="koboSpan" id="kobo.1808.1">The whereis command</span></h4>
<p><span class="koboSpan" id="kobo.1809.1">This command finds </span><em class="italic"><span class="koboSpan" id="kobo.1810.1">only</span></em><span class="koboSpan" id="kobo.1811.1"> executable</span><a id="_idIndexMarker297"/><span class="koboSpan" id="kobo.1812.1"> files, documentation</span><a id="_idIndexMarker298"/><span class="koboSpan" id="kobo.1813.1"> files, and source code files. </span><span class="koboSpan" id="kobo.1813.2">Therefore, it might not find what you want, so use it </span><span class="No-Break"><span class="koboSpan" id="kobo.1814.1">with caution:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer051">
<span class="koboSpan" id="kobo.1815.1"><img alt="Figure 2.32 – Using the whereis command" src="image/Figure_02.32_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1816.1">Figure 2.32 – Using the whereis command</span></p>
<p><span class="koboSpan" id="kobo.1817.1">Once again, the output for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1818.1">cd</span></strong><span class="koboSpan" id="kobo.1819.1"> command shows nothing relevant, as it is a built-in shell command. </span><span class="koboSpan" id="kobo.1819.2">As for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1820.1">ls</span></strong><span class="koboSpan" id="kobo.1821.1"> command, the output shows the location of the command itself and the location of the </span><span class="No-Break"><span class="koboSpan" id="kobo.1822.1">manual pages.</span></span></p>
<h4><span class="koboSpan" id="kobo.1823.1">The find command</span></h4>
<p><span class="koboSpan" id="kobo.1824.1">This command is one of </span><a id="_idIndexMarker299"/><span class="koboSpan" id="kobo.1825.1">the most powerful commands in Linux. </span><span class="koboSpan" id="kobo.1825.2">It </span><a id="_idIndexMarker300"/><span class="koboSpan" id="kobo.1826.1">can search for files in directories and subdirectories based on certain criteria. </span><span class="koboSpan" id="kobo.1826.2">It has more than 50 options. </span><span class="koboSpan" id="kobo.1826.3">Its main drawback is the syntax, as it is somehow different from other Linux commands. </span><span class="koboSpan" id="kobo.1826.4">The best way to learn how the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1827.1">find</span></strong><span class="koboSpan" id="kobo.1828.1"> command works is by example. </span><span class="koboSpan" id="kobo.1828.2">This is why we will show you a large number of examples using this command, hoping that you will become proficient in using it. </span><span class="koboSpan" id="kobo.1828.3">To see its powerful options, please refer to the </span><span class="No-Break"><span class="koboSpan" id="kobo.1829.1">manual pages.</span></span></p>
<p><span class="koboSpan" id="kobo.1830.1">The following is a series </span><a id="_idIndexMarker301"/><span class="koboSpan" id="kobo.1831.1">of exercises using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1832.1">find</span></strong><span class="koboSpan" id="kobo.1833.1"> command, that we thought would be useful for you to know. </span><span class="koboSpan" id="kobo.1833.2">We will provide the commands to </span><a id="_idIndexMarker302"/><span class="koboSpan" id="kobo.1834.1">use, but we will not provide you with all the resulting outputs, as some can be </span><span class="No-Break"><span class="koboSpan" id="kobo.1835.1">fairly long.</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.1836.1">Find, inside the root directory, all the files that have the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1837.1">e100</span></strong><span class="koboSpan" id="kobo.1838.1"> string in the name and print them to the </span><span class="No-Break"><span class="koboSpan" id="kobo.1839.1">standard output:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1840.1">
sudo find / -name e100 -print</span></pre></li> <li><span class="koboSpan" id="kobo.1841.1">Find, inside the root directory, all the files that have the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1842.1">file</span></strong><span class="koboSpan" id="kobo.1843.1"> string in their name and are of type </span><strong class="source-inline"><span class="koboSpan" id="kobo.1844.1">file</span></strong><span class="koboSpan" id="kobo.1845.1">, and print the results to the </span><span class="No-Break"><span class="koboSpan" id="kobo.1846.1">standard output:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1847.1">
sudo find / -name file -type f -print</span></pre></li> <li><span class="koboSpan" id="kobo.1848.1">Find all the files that have the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1849.1">print</span></strong><span class="koboSpan" id="kobo.1850.1"> string in their name, by looking only inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1851.1">/opt</span></strong><span class="koboSpan" id="kobo.1852.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1853.1">/usr</span></strong><span class="koboSpan" id="kobo.1854.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1855.1">/</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1856.1">var</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1857.1"> directories:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1858.1">
sudo find /opt /usr /var -name print -type f -print</span></pre></li> <li><span class="koboSpan" id="kobo.1859.1">Find all the files in the root directory that have the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1860.1">.</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1861.1">conf</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1862.1"> extension:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1863.1">
sudo find / type f -name "*.conf"</span></pre></li> <li><span class="koboSpan" id="kobo.1864.1">Find all the files in the root directory that have the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1865.1">file</span></strong><span class="koboSpan" id="kobo.1866.1"> string in their name and </span><span class="No-Break"><span class="koboSpan" id="kobo.1867.1">no extension:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1868.1">
sudo find / -type f -name "file*.*"</span></pre></li> <li><span class="koboSpan" id="kobo.1869.1">Find, in the root directory, all the</span><a id="_idIndexMarker303"/><span class="koboSpan" id="kobo.1870.1"> files with the following extensions: </span><strong class="source-inline"><span class="koboSpan" id="kobo.1871.1">.c</span></strong><span class="koboSpan" id="kobo.1872.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1873.1">.sh</span></strong><span class="koboSpan" id="kobo.1874.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1875.1">.py</span></strong><span class="koboSpan" id="kobo.1876.1">, and add the list to a file </span><span class="No-Break"><span class="koboSpan" id="kobo.1877.1">named </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1878.1">findfile</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1879.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1880.1">
sudo find / -type f \( -name "*.c" -o -name "*.sh" -o -name "*.py" \) &gt; findfile</span></pre></li> <li><span class="koboSpan" id="kobo.1881.1">Find, in the root directory, all the files with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1882.1">.c</span></strong><span class="koboSpan" id="kobo.1883.1"> extension, sort them, and add them to </span><span class="No-Break"><span class="koboSpan" id="kobo.1884.1">a file:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1885.1">
sudo find / -type f -name "*.c" -print | sort &gt; findfile2</span></pre></li> <li><span class="koboSpan" id="kobo.1886.1">Find all the files</span><a id="_idIndexMarker304"/><span class="koboSpan" id="kobo.1887.1"> in the root directory, with the permission set </span><span class="No-Break"><span class="koboSpan" id="kobo.1888.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1889.1">0664</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1890.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1891.1">
sudo find / -type f -perm 0664</span></pre></li> <li><span class="koboSpan" id="kobo.1892.1">Find all the files in the root directory that are read-only (have read-only permission) for </span><span class="No-Break"><span class="koboSpan" id="kobo.1893.1">their owner:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1894.1">
sudo find / -type f -perm /u=r</span></pre></li> <li><span class="koboSpan" id="kobo.1895.1">Find all the files in the root directory that </span><span class="No-Break"><span class="koboSpan" id="kobo.1896.1">are executable:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1897.1">
sudo find / -type f -perm /a=x</span></pre></li> <li><span class="koboSpan" id="kobo.1898.1">Find all the files</span><a id="_idIndexMarker305"/><span class="koboSpan" id="kobo.1899.1"> inside the root directory that were modified two </span><span class="No-Break"><span class="koboSpan" id="kobo.1900.1">days ago:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1901.1">
sudo find / -type f -mtime 2</span></pre></li> <li><span class="koboSpan" id="kobo.1902.1">Find all the files in the root directory that have been accessed in the last </span><span class="No-Break"><span class="koboSpan" id="kobo.1903.1">two days:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1904.1">
sudo find / -type f -atime 2</span></pre></li> <li><span class="koboSpan" id="kobo.1905.1">Find all the files that have been modified in the last two to </span><span class="No-Break"><span class="koboSpan" id="kobo.1906.1">five days:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1907.1">
sudo find / -type f -mtime +2 -mtime -5</span></pre></li> <li><span class="koboSpan" id="kobo.1908.1">Find all the files that have been modified in the last </span><span class="No-Break"><span class="koboSpan" id="kobo.1909.1">10 minutes:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1910.1">
sudo find / -type f -mmin -10</span></pre></li> <li><span class="koboSpan" id="kobo.1911.1">Find all the files that</span><a id="_idIndexMarker306"/><span class="koboSpan" id="kobo.1912.1"> have been created in the last </span><span class="No-Break"><span class="koboSpan" id="kobo.1913.1">10 minutes:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1914.1">
sudo find / -type f -cmin -10</span></pre></li> <li><span class="koboSpan" id="kobo.1915.1">Find all the files that have been accessed in the last </span><span class="No-Break"><span class="koboSpan" id="kobo.1916.1">10 minutes:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1917.1">
sudo find / -type f -amin -10</span></pre></li> <li><span class="koboSpan" id="kobo.1918.1">Find all the files that are 5 MB </span><span class="No-Break"><span class="koboSpan" id="kobo.1919.1">in size:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1920.1">
sudo find / -type f -size 5M</span></pre></li> <li><span class="koboSpan" id="kobo.1921.1">Find all the files that have a size between 5 and </span><span class="No-Break"><span class="koboSpan" id="kobo.1922.1">10 MB:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1923.1">
sudo find / -type f -size +5M -size -10M</span></pre></li> <li><span class="koboSpan" id="kobo.1924.1">Find all the empty</span><a id="_idIndexMarker307"/><span class="koboSpan" id="kobo.1925.1"> files and </span><span class="No-Break"><span class="koboSpan" id="kobo.1926.1">empty directories:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1927.1">
sudo find / -type f -empty
sudo find / -type d -empty</span></pre></li> <li><span class="koboSpan" id="kobo.1928.1">Find all the largest</span><a id="_idIndexMarker308"/><span class="koboSpan" id="kobo.1929.1"> files in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1930.1">/etc</span></strong><span class="koboSpan" id="kobo.1931.1"> directory and print to the standard output the first five. </span><span class="koboSpan" id="kobo.1931.2">Please take into account that this command could be very resource heavy. </span><span class="koboSpan" id="kobo.1931.3">Do not try to do this for your entire root directory, as you might run out of </span><span class="No-Break"><span class="koboSpan" id="kobo.1932.1">system memory:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1933.1">
sudo find /etc -type f -exec ls -l {} \; | sort -n -r | head -5</span></pre></li> <li><span class="koboSpan" id="kobo.1934.1">Find the smallest first five files in </span><strong class="source-inline"><span class="koboSpan" id="kobo.1935.1">/</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1936.1">etc</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1937.1"> directory:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1938.1">
sudo find /etc -type f -exec ls -s {} \; | sort -n | head -5</span></pre></li> </ul>
<p><span class="koboSpan" id="kobo.1939.1">Feel free to experiment with as many types of find options as you want. </span><span class="koboSpan" id="kobo.1939.2">The command is very permissive and powerful. </span><span class="koboSpan" id="kobo.1939.3">Use it </span><span class="No-Break"><span class="koboSpan" id="kobo.1940.1">with caution.</span></span></p>
<h3><span class="koboSpan" id="kobo.1941.1">Commands for text manipulation</span></h3>
<p><strong class="bold"><span class="koboSpan" id="kobo.1942.1">Text manipulation</span></strong><span class="koboSpan" id="kobo.1943.1"> is probably the best</span><a id="_idIndexMarker309"/><span class="koboSpan" id="kobo.1944.1"> asset of Linux. </span><span class="koboSpan" id="kobo.1944.2">It gives you a plethora</span><a id="_idIndexMarker310"/><span class="koboSpan" id="kobo.1945.1"> of tools to work with text at the command line. </span><span class="koboSpan" id="kobo.1945.2">Some of the more important and widely used ones are </span><strong class="source-inline"><span class="koboSpan" id="kobo.1946.1">grep</span></strong><span class="koboSpan" id="kobo.1947.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1948.1">tee</span></strong><span class="koboSpan" id="kobo.1949.1">, and the more powerful ones such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.1950.1">sed</span></strong><span class="koboSpan" id="kobo.1951.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1952.1">awk</span></strong><span class="koboSpan" id="kobo.1953.1">. </span><span class="koboSpan" id="kobo.1953.2">However, we will come back to those commands in </span><a href="B19682_08.xhtml#_idTextAnchor164"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1954.1">Chapter 8</span></em></span></a><span class="koboSpan" id="kobo.1955.1">, when we will show you how to create and use scripts. </span><span class="koboSpan" id="kobo.1955.2">In this section, we will only give you a hint on how to use them on the </span><span class="No-Break"><span class="koboSpan" id="kobo.1956.1">command line.</span></span></p>
<h4><span class="koboSpan" id="kobo.1957.1">The grep command</span></h4>
<p><span class="koboSpan" id="kobo.1958.1">This is one of the most powerful commands in Linux. </span><span class="koboSpan" id="kobo.1958.2">It is also an extremely useful one. </span><span class="koboSpan" id="kobo.1958.3">It has the power to search for strings inside</span><a id="_idIndexMarker311"/><span class="koboSpan" id="kobo.1959.1"> text files. </span><span class="koboSpan" id="kobo.1959.2">It has many </span><a id="_idIndexMarker312"/><span class="koboSpan" id="kobo.1960.1">powerful </span><span class="No-Break"><span class="koboSpan" id="kobo.1961.1">options too:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1962.1">grep -v</span></strong><span class="koboSpan" id="kobo.1963.1">: Show the lines that are not according to the </span><span class="No-Break"><span class="koboSpan" id="kobo.1964.1">search criteria</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1965.1">grep -l</span></strong><span class="koboSpan" id="kobo.1966.1">: Show only the filenames that match </span><span class="No-Break"><span class="koboSpan" id="kobo.1967.1">the criteria</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1968.1">grep -L</span></strong><span class="koboSpan" id="kobo.1969.1">: Show only the lines that do </span><em class="italic"><span class="koboSpan" id="kobo.1970.1">not</span></em><span class="koboSpan" id="kobo.1971.1"> comply with </span><span class="No-Break"><span class="koboSpan" id="kobo.1972.1">the criteria</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1973.1">grep -c</span></strong><span class="koboSpan" id="kobo.1974.1">: A counter that shows the number of lines matching </span><span class="No-Break"><span class="koboSpan" id="kobo.1975.1">the criteria</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1976.1">grep -n</span></strong><span class="koboSpan" id="kobo.1977.1">: Show the line number where the string </span><span class="No-Break"><span class="koboSpan" id="kobo.1978.1">was found</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1979.1">grep -i</span></strong><span class="koboSpan" id="kobo.1980.1">: Searches are </span><span class="No-Break"><span class="koboSpan" id="kobo.1981.1">case insensitive</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1982.1">grep -r</span></strong><span class="koboSpan" id="kobo.1983.1">: Search recursively inside a </span><span class="No-Break"><span class="koboSpan" id="kobo.1984.1">directory structure</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1985.1">grep -R</span></strong><span class="koboSpan" id="kobo.1986.1">: Search recursively inside a directory structure </span><em class="italic"><span class="koboSpan" id="kobo.1987.1">AND</span></em><span class="koboSpan" id="kobo.1988.1"> follow all </span><span class="No-Break"><span class="koboSpan" id="kobo.1989.1">symbolic links</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1990.1">grep -E</span></strong><span class="koboSpan" id="kobo.1991.1">: Use extended </span><span class="No-Break"><span class="koboSpan" id="kobo.1992.1">regular expressions</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1993.1">grep -F</span></strong><span class="koboSpan" id="kobo.1994.1">: Use a strict list of strings instead of </span><span class="No-Break"><span class="koboSpan" id="kobo.1995.1">regular expressions</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.1996.1">Here are some examples of how to use the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1997.1">grep</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1998.1"> command:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.1999.1">Find out the last time the </span><strong class="source-inline"><span class="koboSpan" id="kobo.2000.1">sudo</span></strong><span class="koboSpan" id="kobo.2001.1"> command </span><span class="No-Break"><span class="koboSpan" id="kobo.2002.1">was used:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.2003.1">
sudo grep sudo /var/log/auth.log</span></pre></li> <li><span class="koboSpan" id="kobo.2004.1">Search for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.2005.1">packt</span></strong><span class="koboSpan" id="kobo.2006.1"> string inside text files from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.2007.1">/</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.2008.1">etc</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.2009.1"> directory:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.2010.1">
grep -R packt /etc</span></pre></li> <li><span class="koboSpan" id="kobo.2011.1">Show the exact line where the match </span><span class="No-Break"><span class="koboSpan" id="kobo.2012.1">was found:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.2013.1">
grep -Rn packt /etc</span></pre></li> <li><span class="koboSpan" id="kobo.2014.1">If you don’t want to see the filename of each file where the match was found, use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.2015.1">-h</span></strong><span class="koboSpan" id="kobo.2016.1"> option. </span><span class="koboSpan" id="kobo.2016.2">Then, </span><strong class="source-inline"><span class="koboSpan" id="kobo.2017.1">grep</span></strong><span class="koboSpan" id="kobo.2018.1"> will </span><a id="_idIndexMarker313"/><span class="koboSpan" id="kobo.2019.1">only show you the lines where the match </span><span class="No-Break"><span class="koboSpan" id="kobo.2020.1">was found:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.2021.1">
grep -Rh packt /etc</span></pre></li> <li><span class="koboSpan" id="kobo.2022.1">To show only the </span><a id="_idIndexMarker314"/><span class="koboSpan" id="kobo.2023.1">name of the file where the match was found, </span><span class="No-Break"><span class="koboSpan" id="kobo.2024.1">use </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.2025.1">-l</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.2026.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.2027.1">
grep -Rl packt /etc</span></pre></li> </ul>
<p><span class="koboSpan" id="kobo.2028.1">Most likely, </span><strong class="source-inline"><span class="koboSpan" id="kobo.2029.1">grep</span></strong><span class="koboSpan" id="kobo.2030.1"> will be used in combination with shell pipes. </span><span class="koboSpan" id="kobo.2030.2">Here are </span><span class="No-Break"><span class="koboSpan" id="kobo.2031.1">some examples:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.2032.1">If you want to see only the directories from your current working directory, you could pipe the </span><strong class="source-inline"><span class="koboSpan" id="kobo.2033.1">ls</span></strong><span class="koboSpan" id="kobo.2034.1"> command output to </span><strong class="source-inline"><span class="koboSpan" id="kobo.2035.1">grep</span></strong><span class="koboSpan" id="kobo.2036.1">. </span><span class="koboSpan" id="kobo.2036.2">In the following example, we listed only the lines that start with the letter </span><strong class="source-inline"><span class="koboSpan" id="kobo.2037.1">d</span></strong><span class="koboSpan" id="kobo.2038.1">, which </span><span class="No-Break"><span class="koboSpan" id="kobo.2039.1">represent directories:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.2040.1">
ls -la | grep '^d'</span></pre></li> <li><span class="koboSpan" id="kobo.2041.1">If you want to display the model of your CPU, you could use the </span><span class="No-Break"><span class="koboSpan" id="kobo.2042.1">following command:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.2043.1">
cat /proc/cpuinfo | grep -i 'Model'</span></pre></li> </ul>
<p><span class="koboSpan" id="kobo.2044.1">You will find </span><strong class="source-inline"><span class="koboSpan" id="kobo.2045.1">grep</span></strong><span class="koboSpan" id="kobo.2046.1"> to be one of your closest friends as a Linux system administrator, so don’t be afraid to dig deeper into its options and </span><span class="No-Break"><span class="koboSpan" id="kobo.2047.1">hidden gems.</span></span></p>
<h4><span class="koboSpan" id="kobo.2048.1">The tee command</span></h4>
<p><span class="koboSpan" id="kobo.2049.1">This command is very</span><a id="_idIndexMarker315"/><span class="koboSpan" id="kobo.2050.1"> similar to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.2051.1">cat</span></strong><span class="koboSpan" id="kobo.2052.1"> command. </span><span class="koboSpan" id="kobo.2052.2">Basically, it does</span><a id="_idIndexMarker316"/><span class="koboSpan" id="kobo.2053.1"> the same thing, by copying the standard input to standard output with no alteration, but it also copies that into one or </span><span class="No-Break"><span class="koboSpan" id="kobo.2054.1">more files.</span></span></p>
<p><span class="koboSpan" id="kobo.2055.1">In the following example, we use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.2056.1">wc</span></strong><span class="koboSpan" id="kobo.2057.1"> command to count the number of lines inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.2058.1">/etc/passwd/</span></strong><span class="koboSpan" id="kobo.2059.1"> file. </span><span class="koboSpan" id="kobo.2059.2">We pipe the output to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.2060.1">tee</span></strong><span class="koboSpan" id="kobo.2061.1"> command using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.2062.1">-a</span></strong><span class="koboSpan" id="kobo.2063.1"> option (append if the file already exists), which writes it to a new file called </span><strong class="source-inline"><span class="koboSpan" id="kobo.2064.1">no-users</span></strong><span class="koboSpan" id="kobo.2065.1"> and prints it to the standard output at the same time. </span><span class="koboSpan" id="kobo.2065.2">We then use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.2066.1">cat</span></strong><span class="koboSpan" id="kobo.2067.1"> command to double-check the </span><a id="_idIndexMarker317"/><span class="koboSpan" id="kobo.2068.1">contents of the </span><span class="No-Break"><span class="koboSpan" id="kobo.2069.1">new file:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer052">
<span class="koboSpan" id="kobo.2070.1"><img alt="Figure 2.33 – Using the tee command" src="image/Figure_02.33_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.2071.1">Figure 2.33 – Using the tee command</span></p>
<p><span class="koboSpan" id="kobo.2072.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.2073.1">tee</span></strong><span class="koboSpan" id="kobo.2074.1"> command is more of an underdog of file-manipulating commands. </span><span class="koboSpan" id="kobo.2074.2">While it is quite powerful, its use can easily be </span><a id="_idIndexMarker318"/><span class="koboSpan" id="kobo.2075.1">overlooked. </span><span class="koboSpan" id="kobo.2075.2">Nevertheless, we encourage you to use its powers as often as </span><span class="No-Break"><span class="koboSpan" id="kobo.2076.1">you can.</span></span></p>
<p><span class="koboSpan" id="kobo.2077.1">In the following section, we will show you how to use text editors from the command line </span><span class="No-Break"><span class="koboSpan" id="kobo.2078.1">in Linux.</span></span></p>
<h1 id="_idParaDest-54"><a id="_idTextAnchor069"/><span class="koboSpan" id="kobo.2079.1">Using text editors to create and edit files</span></h1>
<p><span class="koboSpan" id="kobo.2080.1">Linux has several</span><a id="_idIndexMarker319"/><span class="koboSpan" id="kobo.2081.1"> command-line text editors that you can use. </span><span class="koboSpan" id="kobo.2081.2">There are </span><strong class="bold"><span class="koboSpan" id="kobo.2082.1">nano</span></strong><span class="koboSpan" id="kobo.2083.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.2084.1">Emacs</span></strong><span class="koboSpan" id="kobo.2085.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.2086.1">Vim</span></strong><span class="koboSpan" id="kobo.2087.1">, among</span><a id="_idIndexMarker320"/><span class="koboSpan" id="kobo.2088.1"> others. </span><span class="koboSpan" id="kobo.2088.2">Those </span><a id="_idIndexMarker321"/><span class="koboSpan" id="kobo.2089.1">are the most used ones. </span><span class="koboSpan" id="kobo.2089.2">There are also </span><strong class="bold"><span class="koboSpan" id="kobo.2090.1">Pico</span></strong><span class="koboSpan" id="kobo.2091.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.2092.1">JOE</span></strong><span class="koboSpan" id="kobo.2093.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.2094.1">ed</span></strong><span class="koboSpan" id="kobo.2095.1"> as text editors that are less </span><a id="_idIndexMarker322"/><span class="koboSpan" id="kobo.2096.1">frequently used than the aforementioned ones. </span><span class="koboSpan" id="kobo.2096.2">We will cover Vim, as there is a very good chance that you will find it on any Linux system that you work with. </span><span class="koboSpan" id="kobo.2096.3">Nevertheless, the current trend is to replace Vim with nano as the default text editor. </span><span class="koboSpan" id="kobo.2096.4">Ubuntu, for example, does not have Vim installed by default, but CentOS does. </span><span class="koboSpan" id="kobo.2096.5">Fedora is currently looking to make nano the default text editor. </span><span class="koboSpan" id="kobo.2096.6">Therefore, you might want to learn nano, but for legacy purposes, Vim is a very useful tool </span><span class="No-Break"><span class="koboSpan" id="kobo.2097.1">to know.</span></span></p>
<h2 id="_idParaDest-55"><a id="_idTextAnchor070"/><span class="koboSpan" id="kobo.2098.1">Using Vim to edit text files</span></h2>
<p><strong class="bold"><span class="koboSpan" id="kobo.2099.1">Vim</span></strong><span class="koboSpan" id="kobo.2100.1"> is the improved version of </span><strong class="bold"><span class="koboSpan" id="kobo.2101.1">vi</span></strong><span class="koboSpan" id="kobo.2102.1">, the default text editor from Unix. </span><span class="koboSpan" id="kobo.2102.2">It is a very powerful editing tool. </span><span class="koboSpan" id="kobo.2102.3">This power </span><a id="_idIndexMarker323"/><span class="koboSpan" id="kobo.2103.1">comes with many options that can be used to ease your work, and this can be overwhelming. </span><span class="koboSpan" id="kobo.2103.2">In this sub-section, we will introduce you to the basic commands of the text editor, just enough to help you be comfortable </span><span class="No-Break"><span class="koboSpan" id="kobo.2104.1">using it.</span></span></p>
<p><span class="koboSpan" id="kobo.2105.1">Vim is a mode-based editor, as its operation is organized around different modes. </span><span class="koboSpan" id="kobo.2105.2">In a nutshell, those modes are </span><span class="No-Break"><span class="koboSpan" id="kobo.2106.1">as follows:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.2107.1">command</span></strong><span class="koboSpan" id="kobo.2108.1"> mode is the default mode, waiting for </span><span class="No-Break"><span class="koboSpan" id="kobo.2109.1">a command</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.2110.1">insert</span></strong><span class="koboSpan" id="kobo.2111.1"> mode is the text </span><span class="No-Break"><span class="koboSpan" id="kobo.2112.1">insert mode</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.2113.1">replace</span></strong><span class="koboSpan" id="kobo.2114.1"> mode is the text </span><span class="No-Break"><span class="koboSpan" id="kobo.2115.1">replace mode</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.2116.1">search</span></strong><span class="koboSpan" id="kobo.2117.1"> mode is the special mode for searching </span><span class="No-Break"><span class="koboSpan" id="kobo.2118.1">a document</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.2119.1">Let’s see how we can switch between </span><span class="No-Break"><span class="koboSpan" id="kobo.2120.1">these modes.</span></span></p>
<h3><span class="koboSpan" id="kobo.2121.1">Switching between modes</span></h3>
<p><span class="koboSpan" id="kobo.2122.1">When you first open Vim, you will be introduced to an empty editor that only shows information about the </span><a id="_idIndexMarker324"/><span class="koboSpan" id="kobo.2123.1">version used and a few help commands. </span><span class="koboSpan" id="kobo.2123.2">You are in </span><strong class="source-inline"><span class="koboSpan" id="kobo.2124.1">command</span></strong><span class="koboSpan" id="kobo.2125.1"> mode. </span><span class="koboSpan" id="kobo.2125.2">This means that Vim is waiting for a command </span><span class="No-Break"><span class="koboSpan" id="kobo.2126.1">to operate.</span></span></p>
<p><span class="koboSpan" id="kobo.2127.1">To activate </span><strong class="source-inline"><span class="koboSpan" id="kobo.2128.1">insert</span></strong><span class="koboSpan" id="kobo.2129.1"> mode, press </span><em class="italic"><span class="koboSpan" id="kobo.2130.1">I</span></em><span class="koboSpan" id="kobo.2131.1"> on your keyboard. </span><span class="koboSpan" id="kobo.2131.2">You will be able to start inserting text at the current position of your cursor. </span><span class="koboSpan" id="kobo.2131.3">You can also press </span><em class="italic"><span class="koboSpan" id="kobo.2132.1">A</span></em><span class="koboSpan" id="kobo.2133.1"> (for append) to start editing to the right of your cursor’s position. </span><span class="koboSpan" id="kobo.2133.2">Both </span><em class="italic"><span class="koboSpan" id="kobo.2134.1">I</span></em><span class="koboSpan" id="kobo.2135.1"> and </span><em class="italic"><span class="koboSpan" id="kobo.2136.1">A</span></em><span class="koboSpan" id="kobo.2137.1"> will activate </span><strong class="source-inline"><span class="koboSpan" id="kobo.2138.1">insert</span></strong><span class="koboSpan" id="kobo.2139.1"> mode. </span><span class="koboSpan" id="kobo.2139.2">To exit the current mode, press the </span><em class="italic"><span class="koboSpan" id="kobo.2140.1">Esc</span></em><span class="koboSpan" id="kobo.2141.1"> key. </span><span class="koboSpan" id="kobo.2141.2">It will get you back to </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.2142.1">command</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.2143.1"> mode.</span></span></p>
<p><span class="koboSpan" id="kobo.2144.1">If you open a file that</span><a id="_idIndexMarker325"/><span class="koboSpan" id="kobo.2145.1"> already has text in it, while in </span><strong class="source-inline"><span class="koboSpan" id="kobo.2146.1">command</span></strong><span class="koboSpan" id="kobo.2147.1"> mode, you can navigate the file using your arrow keys. </span><span class="koboSpan" id="kobo.2147.2">As Vim inherited the vi workflow, you can also use </span><em class="italic"><span class="koboSpan" id="kobo.2148.1">H</span></em><span class="koboSpan" id="kobo.2149.1"> (to move left), </span><em class="italic"><span class="koboSpan" id="kobo.2150.1">J</span></em><span class="koboSpan" id="kobo.2151.1"> (to move down), </span><em class="italic"><span class="koboSpan" id="kobo.2152.1">K</span></em><span class="koboSpan" id="kobo.2153.1"> (to move up), and </span><em class="italic"><span class="koboSpan" id="kobo.2154.1">L</span></em><span class="koboSpan" id="kobo.2155.1"> (to move right). </span><span class="koboSpan" id="kobo.2155.2">Those are legacy keys from a time when terminal keyboards did not have separate </span><span class="No-Break"><span class="koboSpan" id="kobo.2156.1">arrow keys.</span></span></p>
<p><span class="koboSpan" id="kobo.2157.1">While still in </span><strong class="source-inline"><span class="koboSpan" id="kobo.2158.1">command</span></strong><span class="koboSpan" id="kobo.2159.1"> mode (the default mode), you can activate </span><strong class="source-inline"><span class="koboSpan" id="kobo.2160.1">replace</span></strong><span class="koboSpan" id="kobo.2161.1"> mode by pressing </span><em class="italic"><span class="koboSpan" id="kobo.2162.1">R</span></em><span class="koboSpan" id="kobo.2163.1"> on your keyboard. </span><span class="koboSpan" id="kobo.2163.2">You can replace the character that is right at the position of </span><span class="No-Break"><span class="koboSpan" id="kobo.2164.1">your cursor.</span></span></p>
<p><span class="koboSpan" id="kobo.2165.1">While in </span><strong class="source-inline"><span class="koboSpan" id="kobo.2166.1">command</span></strong><span class="koboSpan" id="kobo.2167.1"> mode, </span><strong class="source-inline"><span class="koboSpan" id="kobo.2168.1">search</span></strong><span class="koboSpan" id="kobo.2169.1"> mode is activated by pressing the </span><em class="italic"><span class="koboSpan" id="kobo.2170.1">/</span></em><span class="koboSpan" id="kobo.2171.1"> key. </span><span class="koboSpan" id="kobo.2171.2">Once in your mode, you can start typing a search string and then </span><span class="No-Break"><span class="koboSpan" id="kobo.2172.1">press </span></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.2173.1">Enter</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.2174.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.2175.1">There is also </span><strong class="source-inline"><span class="koboSpan" id="kobo.2176.1">last line</span></strong><span class="koboSpan" id="kobo.2177.1"> mode, or </span><strong class="source-inline"><span class="koboSpan" id="kobo.2178.1">ex command</span></strong><span class="koboSpan" id="kobo.2179.1"> mode. </span><span class="koboSpan" id="kobo.2179.2">This mode is activated by pressing </span><em class="italic"><span class="koboSpan" id="kobo.2180.1">:</span></em><span class="koboSpan" id="kobo.2181.1">. </span><span class="koboSpan" id="kobo.2181.2">This is an extended mode where commands such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.2182.1">w</span></strong><span class="koboSpan" id="kobo.2183.1"> for saving the file, </span><strong class="source-inline"><span class="koboSpan" id="kobo.2184.1">q</span></strong><span class="koboSpan" id="kobo.2185.1"> for quitting, or </span><strong class="source-inline"><span class="koboSpan" id="kobo.2186.1">wq</span></strong><span class="koboSpan" id="kobo.2187.1"> for saving and quitting at the </span><span class="No-Break"><span class="koboSpan" id="kobo.2188.1">same time.</span></span></p>
<h3><span class="koboSpan" id="kobo.2189.1">Basic Vim commands</span></h3>
<p><span class="koboSpan" id="kobo.2190.1">Working with Vim implies that </span><a id="_idIndexMarker326"/><span class="koboSpan" id="kobo.2191.1">you are comfortable with using keyboard shortcuts for using basic commands. </span><span class="koboSpan" id="kobo.2191.2">We will guide you to the Vim documentation page (</span><a href="https://vimdoc.sourceforge.net/"><span class="koboSpan" id="kobo.2192.1">https://vimdoc.sourceforge.net/</span></a><span class="koboSpan" id="kobo.2193.1">) for all the commands available, and we will give you a quick glimpse of the most useful ones in the </span><span class="No-Break"><span class="koboSpan" id="kobo.2194.1">following image:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer053">
<span class="koboSpan" id="kobo.2195.1"><img alt="Figure 2.34 – Basic Vim commands" src="image/Figure_02.34_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.2196.1">Figure 2.34 – Basic Vim commands</span></p>
<p><span class="koboSpan" id="kobo.2197.1">Vim can be quite</span><a id="_idIndexMarker327"/><span class="koboSpan" id="kobo.2198.1"> intimidating for newcomers to Linux. </span><span class="koboSpan" id="kobo.2198.2">There is no shame if you prefer other editors, as there are plenty to choose from. </span><span class="koboSpan" id="kobo.2198.3">Now, we will show you a glimpse </span><span class="No-Break"><span class="koboSpan" id="kobo.2199.1">of nano.</span></span></p>
<h2 id="_idParaDest-56"><a id="_idTextAnchor071"/><span class="koboSpan" id="kobo.2200.1">The nano text editor</span></h2>
<p><span class="koboSpan" id="kobo.2201.1">Vim is a powerful text editor </span><a id="_idIndexMarker328"/><span class="koboSpan" id="kobo.2202.1">and knowing how to use it is an important thing for any system administrator. </span><span class="koboSpan" id="kobo.2202.2">Nevertheless, other text editors are equally powerful and even easier </span><span class="No-Break"><span class="koboSpan" id="kobo.2203.1">to use.</span></span></p>
<p><span class="koboSpan" id="kobo.2204.1">This is the case with </span><strong class="bold"><span class="koboSpan" id="kobo.2205.1">nano</span></strong><span class="koboSpan" id="kobo.2206.1">, which is installed by default in Ubuntu and Rocky Linux and can be used right out of the box in both Linux distributions. </span><span class="koboSpan" id="kobo.2206.2">The default editor is not set up in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.2207.1">.bashrc</span></strong><span class="koboSpan" id="kobo.2208.1"> file by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.2209.1">$EDITOR</span></strong><span class="koboSpan" id="kobo.2210.1"> variable. </span><span class="koboSpan" id="kobo.2210.2">However, in Ubuntu, you can check the default editor on your system by using the </span><span class="No-Break"><span class="koboSpan" id="kobo.2211.1">following command:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer054">
<span class="koboSpan" id="kobo.2212.1"><img alt="Figure 2.35 – Checking the default text editor on Ubuntu" src="image/Figure_02.35_B19682.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.2213.1">Figure 2.35 – Checking the default text editor on Ubuntu</span></p>
<p><span class="koboSpan" id="kobo.2214.1">You can invoke the </span><a id="_idIndexMarker329"/><span class="koboSpan" id="kobo.2215.1">nano editor by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.2216.1">nano</span></strong><span class="koboSpan" id="kobo.2217.1"> command on Ubuntu/Debian and Fedora/Rocky Linux or openSUSE. </span><span class="koboSpan" id="kobo.2217.2">When you type the command, the nano editor will open, with a very straightforward interface that can be easier to use than Vim or Emacs for example. </span><span class="koboSpan" id="kobo.2217.3">Feel free to use your preferred </span><span class="No-Break"><span class="koboSpan" id="kobo.2218.1">text editor.</span></span></p>
<h1 id="_idParaDest-57"><a id="_idTextAnchor072"/><span class="koboSpan" id="kobo.2219.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.2220.1">In this chapter, you learned how to work with the most commonly used commands in Linux. </span><span class="koboSpan" id="kobo.2220.2">You now know how to manage (create, delete, copy, and move) files, how the filesystem is organized, how to work with directories, and how to view file contents. </span><span class="koboSpan" id="kobo.2220.3">You now understand the shell and basic permissions. </span><span class="koboSpan" id="kobo.2220.4">The skills you have learned will help you manage files in any Linux distribution and edit text files. </span><span class="koboSpan" id="kobo.2220.5">You have learned how to work with Vim, one of the most widely used command-line text editors in Linux. </span><span class="koboSpan" id="kobo.2220.6">Those skills will help you to learn how to use other text editors such as nano and Emacs. </span><span class="koboSpan" id="kobo.2220.7">You will use these skills in almost every chapter of this book, as well as in your everyday job as a </span><span class="No-Break"><span class="koboSpan" id="kobo.2221.1">system administrator.</span></span></p>
<p><span class="koboSpan" id="kobo.2222.1">In the next chapter, you will learn how to manage packages, including how to install, remove, and query packages in both Debian and Red Hat-based distributions. </span><span class="koboSpan" id="kobo.2222.2">This skill is important for any administrator and must be part of any </span><span class="No-Break"><span class="koboSpan" id="kobo.2223.1">basic training.</span></span></p>
<h1 id="_idParaDest-58"><a id="_idTextAnchor073"/><span class="koboSpan" id="kobo.2224.1">Questions</span></h1>
<p><span class="koboSpan" id="kobo.2225.1">In our second chapter, we covered the Linux filesystem and the basic commands that will serve as the foundation for the entire book. </span><span class="koboSpan" id="kobo.2225.2">Here are some questions for you to test your knowledge and for </span><span class="No-Break"><span class="koboSpan" id="kobo.2226.1">further practice:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.2227.1">What is the command that creates a compressed archive with all the files inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.2228.1">/etc</span></strong><span class="koboSpan" id="kobo.2229.1"> directory that use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.2230.1">.</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.2231.1">conf</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.2232.1"> extension?</span></span></li>
</ol>
<p><strong class="bold"><span class="koboSpan" id="kobo.2233.1">Hint</span></strong><span class="koboSpan" id="kobo.2234.1">: Use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.2235.1">tar</span></strong><span class="koboSpan" id="kobo.2236.1"> command just as shown in </span><span class="No-Break"><span class="koboSpan" id="kobo.2237.1">this chapter.</span></span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.2238.1">What is the command that lists the first five files inside </span><strong class="source-inline"><span class="koboSpan" id="kobo.2239.1">/etc</span></strong><span class="koboSpan" id="kobo.2240.1"> and sorts them by dimension in </span><span class="No-Break"><span class="koboSpan" id="kobo.2241.1">descending order?</span></span></li>
</ol>
<p><strong class="bold"><span class="koboSpan" id="kobo.2242.1">Hint</span></strong><span class="koboSpan" id="kobo.2243.1">: Use </span><strong class="source-inline"><span class="koboSpan" id="kobo.2244.1">find</span></strong><span class="koboSpan" id="kobo.2245.1"> combined with </span><strong class="source-inline"><span class="koboSpan" id="kobo.2246.1">sort</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.2247.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.2248.1">head</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.2249.1">.</span></span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.2250.1">What command creates a hierarchical </span><span class="No-Break"><span class="koboSpan" id="kobo.2251.1">directory structure?</span></span></li>
</ol>
<p><strong class="bold"><span class="koboSpan" id="kobo.2252.1">Hint</span></strong><span class="koboSpan" id="kobo.2253.1">: Use </span><strong class="source-inline"><span class="koboSpan" id="kobo.2254.1">mkdir</span></strong><span class="koboSpan" id="kobo.2255.1"> just as shown in </span><span class="No-Break"><span class="koboSpan" id="kobo.2256.1">this chapter.</span></span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.2257.1">What is the command that searches for files with three different extensions inside </span><span class="No-Break"><span class="koboSpan" id="kobo.2258.1">the root?</span></span></li>
</ol>
<p><strong class="bold"><span class="koboSpan" id="kobo.2259.1">Hint</span></strong><span class="koboSpan" id="kobo.2260.1">: Use the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.2261.1">find</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.2262.1"> command.</span></span></p>
<ol>
<li value="5"><span class="koboSpan" id="kobo.2263.1">Find out which commands inside Linux have the </span><strong class="bold"><span class="koboSpan" id="kobo.2264.1">Set owner User ID</span></strong><span class="koboSpan" id="kobo.2265.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.2266.1">SUID</span></strong><span class="koboSpan" id="kobo.2267.1">) </span><span class="No-Break"><span class="koboSpan" id="kobo.2268.1">set up.</span></span></li>
</ol>
<p><strong class="bold"><span class="koboSpan" id="kobo.2269.1">Hint</span></strong><span class="koboSpan" id="kobo.2270.1">: Use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.2271.1">find</span></strong><span class="koboSpan" id="kobo.2272.1"> command with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.2273.1">-</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.2274.1">perm</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.2275.1"> parameter.</span></span></p>
<ol>
<li value="6"><span class="koboSpan" id="kobo.2276.1">Which command is used to create a file with 1,000 lines of randomly generated words (one word </span><span class="No-Break"><span class="koboSpan" id="kobo.2277.1">per line)?</span></span></li>
</ol>
<p><strong class="bold"><span class="koboSpan" id="kobo.2278.1">Hint</span></strong><span class="koboSpan" id="kobo.2279.1">: Use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.2280.1">shuf</span></strong><span class="koboSpan" id="kobo.2281.1"> command (not shown in </span><span class="No-Break"><span class="koboSpan" id="kobo.2282.1">this chapter).</span></span></p>
<ol>
<li value="7"><span class="koboSpan" id="kobo.2283.1">Perform the same exercise as before, but this time generate a file with 1,000 randomly </span><span class="No-Break"><span class="koboSpan" id="kobo.2284.1">generated numbers.</span></span></li>
</ol>
<p><strong class="bold"><span class="koboSpan" id="kobo.2285.1">Hint</span></strong><span class="koboSpan" id="kobo.2286.1">: Use a </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.2287.1">for</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.2288.1"> loop.</span></span></p>
<ol>
<li value="8"><span class="koboSpan" id="kobo.2289.1">How do you find out when </span><strong class="source-inline"><span class="koboSpan" id="kobo.2290.1">sudo</span></strong><span class="koboSpan" id="kobo.2291.1"> was last used and which commands were executed </span><span class="No-Break"><span class="koboSpan" id="kobo.2292.1">by it?</span></span></li>
</ol>
<p><strong class="bold"><span class="koboSpan" id="kobo.2293.1">Hint</span></strong><span class="koboSpan" id="kobo.2294.1">: Use the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.2295.1">grep</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.2296.1"> command.</span></span></p>
<h1 id="_idParaDest-59"><a id="_idTextAnchor074"/><span class="koboSpan" id="kobo.2297.1">Further reading</span></h1>
<p><span class="koboSpan" id="kobo.2298.1">For more information about what was covered in this chapter, please refer to the following </span><span class="No-Break"><span class="koboSpan" id="kobo.2299.1">Packt titles:</span></span></p>
<ul>
<li><em class="italic"><span class="koboSpan" id="kobo.2300.1">Fundamentals of Linux</span></em><span class="koboSpan" id="kobo.2301.1">, by </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.2302.1">Oliver Pelz</span></em></span></li>
<li><em class="italic"><span class="koboSpan" id="kobo.2303.1">Mastering Ubuntu Server – Fourth Edition</span></em><span class="koboSpan" id="kobo.2304.1">, by </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.2305.1">Jay LaCroix</span></em></span></li>
</ul>
</div>
</body></html>