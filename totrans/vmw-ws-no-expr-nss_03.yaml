- en: Chapter 3. Working with Virtual Machines
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第3章：虚拟机操作
- en: In many ways, working with virtual machines is like working with physical machines.
    In some aspects, there are important differences. In this chapter, you'll learn
    about these differences that can sometimes make working with virtual machines
    a bit of a challenge. In this chapter, you'll also learn how to deal with the
    various particularities of working in a virtual environment.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在很多方面，操作虚拟机就像操作物理机一样。某些方面也有重要的差异。在本章中，你将了解这些差异，这些差异有时会让操作虚拟机变得有些挑战性。在本章中，你还将学习如何应对在虚拟环境中工作时遇到的各种特殊情况。
- en: Performing common tasks
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 执行常见任务
- en: 'Even the most common tasks can be different in a virtual machine. It starts
    with the virtual machine window itself. Once you''re on it, the mouse cursor is
    captured. That means you''ll need to apply a special trick to get back to the
    host operating system. The common way to do this is by pressing *Ctrl* + *Alt*
    at the same time. But what if in the virtual operating system, the *Ctrl* + *Alt*
    keys sequence has a specific meaning? If that''s the case, you''ll need to define
    the hot keys that are used in your virtual environment. To do this, apply the
    following procedure:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 即使是最常见的任务，在虚拟机中也可能会有所不同。首先是虚拟机窗口本身。一旦进入该窗口，鼠标光标将被捕获。这意味着你需要使用一个特殊技巧才能返回宿主操作系统。常见的方法是同时按下*Ctrl*
    + *Alt*。但是如果在虚拟操作系统中，*Ctrl* + *Alt* 键序列有特定含义呢？如果是这种情况，你需要定义适用于虚拟环境的快捷键。为此，请按照以下步骤操作：
- en: From the **Edit** menu, select the **Preferences** option.
  id: totrans-4
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**编辑**菜单中，选择**偏好设置**选项。
- en: In the bar on the left of the screen, select **Hot Keys**.
  id: totrans-5
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在屏幕左侧的栏中，选择**快捷键**。
- en: You'll now see the interface that is shown in the following screenshot. By default,
    the *Ctrl* + *Alt* keys are used as the virtual machine hotkeys, and specific
    manipulations are assigned to these hotkeys.
  id: totrans-6
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你现在将看到以下截图中显示的界面。默认情况下，*Ctrl* + *Alt* 键被用作虚拟机快捷键，并且将这些快捷键分配给特定的操作。
- en: Click on the hotkeys that you want to be redefined. For instance, if you want
    to use *Shift* + **Win** as the default hotkeys, click on these buttons:![Performing
    common tasks](img/9182EN_03_01.jpg)
  id: totrans-7
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击你想重新定义的快捷键。例如，如果你想将*Shift* + **Win** 设置为默认快捷键，点击这些按钮：![执行常见任务](img/9182EN_03_01.jpg)
- en: Assigning the hotkeys that you want to use
  id: totrans-8
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 分配你想使用的快捷键
- en: Note
  id: totrans-9
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Don't forget to deselect the hotkeys that you don't want to use anymore; you
    probably don't want to use key sequences such as *Ctrl* + *Shift* + *Alt* + **Win**
    all at the same time!
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 别忘了取消选择你不再想使用的快捷键；你可能不想同时按下*Ctrl* + *Shift* + *Alt* + **Win** 这些键组合！
- en: 'Now that you have assigned the hotkeys that make sense to you, you can use
    them for some of the most common actions:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经分配了符合你需求的快捷键，你可以用它们来执行一些最常见的操作：
- en: Use the hotkeys to release control from the current machine
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用快捷键释放当前机器的控制权
- en: Use the hotkeys + *Enter* to enter or leave the fullscreen mode
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用快捷键 + *Enter* 进入或退出全屏模式
- en: Use hotkeys + left arrow or right arrow to switch to the previous or the next
    virtual machine
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用快捷键 + 左箭头或右箭头切换到上一个或下一个虚拟机
- en: Another common task is about **Updates**. You can access this feature from the
    **Preferences** menu as well. By default, VMware Workstation will check for updates
    on startup, and it will automatically update software components that you're using
    as well. That's just fine and there is no reason why you would want to change
    that.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个常见的任务是关于**更新**的内容。你也可以通过**偏好设置**菜单访问此功能。默认情况下，VMware Workstation 会在启动时检查更新，并自动更新你正在使用的软件组件。这是完全没问题的，也没有理由改变这一设置。
- en: A very useful update option that is not enabled by default is the update of
    VMware Tools. By default, the VMware Tools that are installed in a virtual machine
    are never updated. If you want the best possible performance for your virtual
    machine, it does make sense to update VMware Tools automatically as well. You
    should realize that using the latest version of VMware Tools ensures the best
    possible performance, especially on I/O-drivers. To do this select the **Updates**
    option from the **Preferences** tab and select **Automatically update VMware Tools
    on a virtual machine**.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 一个非常有用的更新选项是默认未启用的VMware工具更新。默认情况下，虚拟机中安装的VMware工具从不更新。如果你想让虚拟机的性能达到最佳，自动更新VMware工具是有意义的。你应该意识到，使用最新版本的VMware工具能够确保最佳的性能，尤其是在I/O驱动程序方面。为此，选择**Preferences**选项卡中的**Updates**，并勾选**自动更新虚拟机中的VMware工具**。
- en: Working with hardware
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用硬件
- en: Each virtual machine has hardware assigned. You have selected the hardware that
    you want to use while creating the virtual machine. On an installed virtual machine,
    you will frequently modify hardware settings as well. On some occasions, it will
    be necessary to assign a new virtual hardware but common tasks such as booting
    from a CD-ROM requires some specific action as well.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 每台虚拟机都有分配的硬件。在创建虚拟机时，你已经选择了要使用的硬件。在安装了操作系统的虚拟机上，你还需要经常修改硬件设置。在某些情况下，可能需要分配新的虚拟硬件，但像从CD-ROM启动这样的常见任务也需要执行一些特定操作。
- en: Booting your virtual machine from a CD-ROM
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 从CD-ROM启动虚拟机
- en: There are different ways to boot a virtual machine. You can either use a physical
    CD-ROM or a DVD disk or as an alternative, you can boot from an ISO file. Using
    ISO files is useful, as you don't have to make sure the physical disk is present
    for all operations you want to perform.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 有多种方式启动虚拟机。你可以使用物理CD-ROM或DVD光盘，或者作为替代方案，你可以从ISO文件启动。使用ISO文件非常有用，因为你无需确保物理光盘存在，便可以执行你想进行的所有操作。
- en: To tell your virtual machine where it needs to boot from, boot into **BIOS**
    to change the boot order. To enter the **BIOS** setup for the guest operating
    system, navigate to **VM** | **Power** | **Power On to BIOS**.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 要告诉虚拟机从哪里启动，请进入**BIOS**并更改启动顺序。要进入来宾操作系统的**BIOS**设置，请导航到**VM** | **Power** |
    **Power On to BIOS**。
- en: Note
  id: totrans-22
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: 'To make the boot delay a bit longer, you can add the following to the VMX file
    of your virtual machine: `bios.bootDelay = 1000`. This will give you 3 seconds
    of time to interfere with the boot process.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 为了延长启动延迟，你可以将以下内容添加到虚拟机的VMX文件中：`bios.bootDelay = 1000`。这将为你提供3秒钟的时间干扰启动过程。
- en: 'Booting a virtual machine from a CD-ROM can be a real challenge. This is because
    you''ll have a minimal amount of time to press the right key to boot from an optical
    disk while the virtual machine is booting, and also you need to make sure that
    you are connected to the right virtual CD-ROM. In the following procedure, you
    can read how it works:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 从CD-ROM启动虚拟机可能是一个真正的挑战。这是因为你只有很短的时间按下正确的键从光盘启动虚拟机，而且你还需要确保连接到正确的虚拟CD-ROM。在接下来的步骤中，你可以阅读如何操作：
- en: Restart your virtual machine.
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重启你的虚拟机。
- en: When you see the virtual machine **BIOS** loading, immediately click on the
    virtual machine window and press the *Esc* key. This will show the **BIOS** menu
    (see the following screenshot):![Booting your virtual machine from a CD-ROM](img/9182EN_03_02.jpg)
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当你看到虚拟机**BIOS**正在加载时，立即点击虚拟机窗口并按下*Esc*键。这将显示**BIOS**菜单（参见以下截图）：![从CD-ROM启动虚拟机](img/9182EN_03_02.jpg)
- en: The virtual machine's BIOS boot menu
  id: totrans-27
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 虚拟机的BIOS启动菜单
- en: Don't select CD-ROM from the virtual machine **BIOS** yet but open the **VM**
    menu, navigate to **Removable Devices** | **CD/DVD**, and click on **Settings**.
    This opens the virtual machine's hardware settings window with **CD/DVD** selected.
    Make sure that you've selected either the correct physical drive that contains
    the CD-ROM disk that you want to use or use an image file to select an ISO image
    file.![Booting your virtual machine from a CD-ROM](img/9182EN_03_03.jpg)
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 还不要在虚拟机**BIOS**中选择CD-ROM，而是打开**VM**菜单，导航到**Removable Devices** | **CD/DVD**，并点击**Settings**。这将打开虚拟机的硬件设置窗口，并选中**CD/DVD**。确保你已经选择了包含你想使用的CD-ROM光盘的正确物理驱动器，或者选择一个ISO镜像文件。![从CD-ROM启动虚拟机](img/9182EN_03_03.jpg)
- en: Selecting the CD-ROM disk you want to use
  id: totrans-29
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 选择你想要使用的CD-ROM光盘
- en: Click on **OK** to save the selected optical disk.
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**OK**以保存所选的光盘。
- en: Get back to **BIOS Boot Menu** of your virtual machine and select **CD-ROM Drive**.
    The virtual machine will now boot from the CD-ROM disk.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 返回到虚拟机的**BIOS引导菜单**并选择**CD-ROM驱动器**。虚拟机将从CD-ROM磁盘启动。
- en: Modifying virtual hardware
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 修改虚拟硬件
- en: When you created your virtual machine, you also selected the hardware that you
    want to use. One of the benefits of working with virtual machines is that it is
    easy to change the hardware settings later if needed. To access the current hardware
    settings, right-click on **virtual machine** and select the **Settings** option.
    From here, you can see all the hardware that is currently selected and change
    the hardware assignments as well. If VMware Tools are installed, some setting
    will even be applied directly to the virtual machine without the need to reboot
    it.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 当您创建虚拟机时，您也选择了要使用的硬件。使用虚拟机的一个好处是，之后如果需要，您可以轻松地更改硬件设置。要访问当前的硬件设置，右键点击**虚拟机**并选择**设置**选项。从这里，您可以查看当前选择的所有硬件，并更改硬件分配。如果安装了VMware工具，某些设置甚至可以直接应用到虚拟机中，无需重启。
- en: '![Modifying virtual hardware](img/9182EN_03_04.jpg)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![修改虚拟硬件](img/9182EN_03_04.jpg)'
- en: Changing the virtual machine's hardware settings
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 修改虚拟机的硬件设置
- en: While adding virtual hardware, in most cases, you can be very specific about
    the properties of the hardware that is added. In the following procedure, you'll
    read how to add a disk and configure some advanced disk properties. Especially
    when setting up test environments that need to mirror the production environment,
    it can be important to specify properties such as the SCSI ID or disk type.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 在添加虚拟硬件时，在大多数情况下，您可以非常具体地指定所添加硬件的属性。在以下操作中，您将了解如何添加磁盘并配置一些高级磁盘属性。特别是当设置需要镜像生产环境的测试环境时，指定如SCSI
    ID或磁盘类型等属性可能非常重要。
- en: Right-click on the virtual machine to which you want to add a new disk and open
    the **Settings** menu item. In this example, I'll add a disk to a Linux VM.
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击您想要添加新磁盘的虚拟机，然后打开**设置**菜单项。在这个示例中，我将向一台Linux虚拟机添加磁盘。
- en: Click on **Add** and from the **Hardware Type** window, select **Hard Disk**.
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加**，然后在**硬件类型**窗口中选择**硬盘**。
- en: Select **Create a new virtual disk** and click on **Next**.
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**创建新虚拟磁盘**并点击**下一步**。
- en: At this point, you can specify whether you want the disk to be an independent
    disk or not. This is an important choice with regard to snapshots; independent
    disks are not affected by snapshots (discussed in detail in [Chapter 8](ch08.html
    "Chapter 8. Cloning and Snapshots"), *Cloning and Snapshots*, of this book). When
    you make a snapshot of a disk, the disk needs to be stopped for a short moment.
    For some services (such as databases), you really don't want a disk to be stopped
    even if it is just for a short moment. In those cases, it makes sense to configure
    the disk as an independent disk, but be aware that you won't be able to create
    a snapshot of such a disk.
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此时，您可以指定是否希望磁盘为独立磁盘。这是一个与快照相关的重要选择；独立磁盘不受快照的影响（在本书的[第8章](ch08.html "第8章 克隆与快照")中详细讨论了*克隆与快照*）。当您对磁盘进行快照时，磁盘需要短暂停止。对于一些服务（如数据库），即便是短暂的停止也可能不希望发生。在这种情况下，将磁盘配置为独立磁盘是有意义的，但请注意，您将无法对该磁盘创建快照。
- en: When creating an independent disk, you need to specify how changes are handled.
    The default behavior is to write them directly to the disk. Another option is
    to make the changes nonpersistent, which means that you will lose them if you
    power off the virtual machine.
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建独立磁盘时，您需要指定如何处理更改。默认行为是直接将其写入磁盘。另一种选择是将更改设置为非持久性，这意味着如果您关闭虚拟机，这些更改将会丢失。
- en: After specifying which type of disk you want to use, you need to configure the
    disk capacity. An important part of the configuration is whether or not you want
    to allocate all disk space now. By default, thin provisioning is used, which means
    that the disk space is only allocated at the moment when it is actually needed.
    Thin provisioning means that the available disk space on the host operating system
    is used as efficiently as possible but there is a performance penalty. If the
    available disk space on the host is not important, and performance is, you had
    better select the **Allocate all disk space now** option. With this option, you
    will make sure that all disk space is reserved, which offers best performance
    for your VM. You also need to specify whether you want the disk to be created
    as a single file or as multiple files. Using multiple files makes it easier to
    move a virtual machine to another computer, especially if the `FAT32` file system
    is used on that computer, which has a limited maximal file size. On large disks,
    you will however pay a performance price when working with multiple files.
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在指定了要使用的磁盘类型后，您需要配置磁盘容量。配置中的一个重要部分是是否要现在就分配所有磁盘空间。默认情况下，使用精简配置，这意味着磁盘空间仅在实际需要时分配。精简配置意味着宿主操作系统上的可用磁盘空间被尽可能高效地使用，但会有性能损失。如果宿主计算机上的可用磁盘空间不重要，而性能更为重要，您最好选择**立即分配所有磁盘空间**选项。通过此选项，您可以确保所有磁盘空间都已保留，这将为您的虚拟机提供最佳性能。您还需要指定是否希望将磁盘创建为单个文件或多个文件。使用多个文件可以更容易地将虚拟机迁移到另一台计算机，特别是在该计算机上使用
    `FAT32` 文件系统时，因为它对单个文件的最大大小有限制。然而，在使用多个文件时，您在处理大磁盘时会付出性能代价。
- en: After specifying the name of the disk file, the file is created and written
    to the disk. After creating it, you can click on the **Advanced** button to specify
    some of its properties. In some cases, the order in which the disk is presented
    to the virtual machine can be important. You can specify this order by selecting
    the **SCSI** ID. If you want a disk to be presented as the first disk in the virtual
    operating system (which ensures that it is the bootable device), make sure to
    configure it as `SCSI 0:0` and click on **OK**.
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在指定磁盘文件的名称后，文件会被创建并写入磁盘。创建后，您可以点击**高级**按钮来指定其一些属性。在某些情况下，磁盘呈现给虚拟机的顺序可能非常重要。您可以通过选择**SCSI**
    ID 来指定此顺序。如果您希望磁盘作为虚拟操作系统中的第一个磁盘（确保它是可启动设备），请确保将其配置为`SCSI 0:0`并点击**确定**。
- en: Tip
  id: totrans-44
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: Changing the order in which disks are presented can have the result that the
    virtual machine won't boot anymore. Make sure that you know what you're doing
    before selecting this option.
  id: totrans-45
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 更改磁盘呈现顺序可能会导致虚拟机无法再启动。在选择此选项之前，请确保您知道自己在做什么。
- en: 'After clicking on **OK,** the new hardware settings are written to the virtual
    machine. This doesn''t activate the new hardware immediately though. On Linux,
    after adding a SCSI disk, you can tell Linux to reread its disks, which will make
    the new device available immediately. After adding the new disk as the user root,
    use the following command to make the new disk available without having to reboot
    the VM:'
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**确定**后，新的硬件设置将写入虚拟机。不过，这并不会立即激活新硬件。在 Linux 上，添加 SCSI 磁盘后，您可以指示 Linux 重新读取磁盘，这将使新设备立即可用。在以
    root 用户身份添加新磁盘后，使用以下命令使新磁盘在不重启虚拟机的情况下立即可用：
- en: '[PRE0]'
  id: totrans-47
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Working with shared folders
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用共享文件夹
- en: A very useful feature in VMware Workstation is shared folders. Using shared
    folders allows you to easily share files between the host operating system and
    VMware Workstation. Using shared folders allows you to get access to a shared
    folder on the host computer in the virtual machine.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: VMware Workstation 中一个非常有用的功能是共享文件夹。使用共享文件夹可以轻松地在宿主操作系统和 VMware Workstation
    之间共享文件。通过共享文件夹，您可以在虚拟机中访问宿主计算机上的共享文件夹。
- en: 'To work with shared folders, you need to enable them in the virtual machine.
    Once enabled, you can access them from the virtual machine''s operating system.
    In the following procedure, you can read how it works:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用共享文件夹，您需要在虚拟机中启用它们。启用后，您可以从虚拟机的操作系统中访问它们。在以下步骤中，您可以了解它是如何工作的：
- en: Working with shared folders starts on the virtual machine where you want to
    use it. So make sure that the virtual machine where you want to use it is started.
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用共享文件夹从虚拟机开始，确保您要使用它的虚拟机已经启动。
- en: Once the virtual machine is started, select **Settings** from the **VM** menu
    and click on the **Options** tab. From this tab, select the **Shared Folders**
    item.![Working with shared folders](img/9182EN_03_05.jpg)
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦虚拟机启动，从**虚拟机（VM）**菜单中选择**设置**，然后点击**选项**标签。在此选项卡中，选择**共享文件夹**项。![Working with
    shared folders](img/9182EN_03_05.jpg)
- en: Enabling shared folders on the virtual machine
  id: totrans-53
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 启用共享文件夹
- en: To enable shared folders, you can select **Always enabled** or **Enabled until
    next power off or suspend**. If you're just looking for an easy way to exchange
    files, the latter method works best. If you want the files on the shared folder
    to be always accessible, select **Always enabled**. If you're enabling shared
    folders for Windows guests, you can indicate that you want to see the shared folder
    as a network drive in Windows guests.
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要启用共享文件夹，您可以选择**始终启用**或**直到下次关机或挂起时启用**。如果您只是想轻松交换文件，后一种方法最为有效。如果您希望共享文件夹中的文件始终可访问，请选择**始终启用**。如果您为
    Windows 客户机启用了共享文件夹，您可以指示希望在 Windows 客户机中将共享文件夹显示为网络驱动器。
- en: After specifying how you want to use shared folders, click on **Add** to start
    the **Shared Folder** wizard. In the first step of this wizard, you'll need to
    select a path on the host computer. Use the **Browse** button to select the appropriate
    path and give it a name.
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在指定如何使用共享文件夹后，点击**添加**以启动**共享文件夹**向导。在向导的第一步中，您需要选择主机计算机上的路径。使用**浏览**按钮选择合适的路径并为其命名。
- en: Next, you'll specify how to share this folder. Click on **Enable this share**
    for access in full read/write mode, or **Read-only** if you just want to allow
    files to be read. Next click on **OK**. The shared folder will now be available
    in the virtual machine.
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，您需要指定如何共享此文件夹。点击**启用此共享**以获得完全的读/写权限，或者如果只想允许读取文件，可以选择**只读**。然后点击**确定**。共享文件夹现在将在虚拟机中可用。
- en: To access a shared folder from a Linux virtual machine, go to the `/mnt/hgfs`
    directory. The shared folder is mounted there by default. On a Windows virtual
    machine, you can map a network drive to access the shared folder.
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要从 Linux 虚拟机访问共享文件夹，请转到`/mnt/hgfs`目录。默认情况下，共享文件夹挂载在此处。在 Windows 虚拟机中，您可以映射网络驱动器来访问共享文件夹。
- en: Setting virtual machine options
  id: totrans-58
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置虚拟机选项
- en: You've just worked with the virtual machine options item to enable shared folders.
    There are some other settings that you can select from this tab. Some of the most
    interesting options are discussed in this section.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 您刚刚使用了虚拟机选项项来启用共享文件夹。您可以从此选项卡中选择其他一些设置。本节将讨论一些最有趣的选项。
- en: Automatic snapshots
  id: totrans-60
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 自动快照
- en: When working with a virtual machine, you can have a snapshot created automatically.
    A snapshot is like a picture of the current state of a virtual machine that allows
    you to go back to that specific state in an easy way. As an additional protection
    for virtual machines, you can have snapshots created automatically when powering
    off. However, using snapshots may be dangerous if you don't know what you're doing;
    they do use disk space and by using snapshots, you risk running out of available
    disk space. Also, performance will worsen if there are snapshots for your virtual
    machines.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 在使用虚拟机时，您可以自动创建快照。快照就像是虚拟机当前状态的照片，让您能够轻松回到该特定状态。作为虚拟机的额外保护，您可以在关机时自动创建快照。然而，如果您不知道自己在做什么，使用快照可能是危险的；它们会占用磁盘空间，使用快照可能导致可用磁盘空间不足。此外，如果虚拟机存在快照，性能也会下降。
- en: 'To enable the automatic snapshot feature, access the **Snapshots** menu option
    and select between the following when powering off the options:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 要启用自动快照功能，请访问**快照**菜单选项，并在关机时选择以下选项：
- en: '**Just power off**'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**仅关机**'
- en: '**Revert to snapshot**'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**恢复到快照**'
- en: '**Take a new snapshot**'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**拍摄新快照**'
- en: '**Ask me**'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**询问我**'
- en: Notice that the **Revert to snapshot** option is a potentially dangerous option;
    it will reset your virtual machine to the state it was in when the last snapshot
    was created, and you will lose all the changes that you've made since.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，**恢复到快照**选项是一个潜在的危险选项；它会将您的虚拟机重置为最后创建快照时的状态，您将丢失自那时以来所做的所有更改。
- en: The **AutoProtect** feature that you can also find in the virtual machine's
    **Options** menu is related to snapshots. You can use this feature to automatically
    create snapshots according to the parameters that you've specified. This is a
    useful feature that always allows you to get back to a reasonably recent state
    of the virtual machine.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 您在虚拟机的**选项**菜单中可以找到的**AutoProtect**功能与快照相关。您可以使用此功能根据指定的参数自动创建快照。这是一个实用的功能，可以让您始终恢复到虚拟机的最近状态。
- en: '![Automatic snapshots](img/9182EN_03_06.jpg)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![自动快照](img/9182EN_03_06.jpg)'
- en: When using AutoProtect, you're sure that you can always revert to a recent state
    of the virtual machine
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 使用AutoProtect时，您可以确保始终可以恢复到虚拟机的最近状态。
- en: Time synchronization
  id: totrans-71
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 时间同步
- en: In virtualized environments, time keeping may be a problem. This is because
    time is based on CPU ticks, and in a VMware Workstation virtual environment, virtual
    machines don't use CPU ticks the way normal computers do. Therefore, you might
    see huge time drifting if you don't take the appropriate measures. At the other
    end, time synchronization is essential because many services rely on the appropriate
    time.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 在虚拟化环境中，时间管理可能会成为问题。这是因为时间是基于CPU时钟周期的，而在VMware Workstation虚拟环境中，虚拟机并不像普通计算机那样使用CPU时钟周期。因此，如果不采取适当措施，您可能会看到巨大的时间漂移。另一方面，时间同步至关重要，因为许多服务依赖于准确的时间。
- en: On the VMware Tools menu option, you'll find an interesting option as well.
    This option specifies whether you want to use time synchronization or not. By
    default, the virtual machine doesn't synchronize time with the host. Because of
    virtual machine's inherent features, this may lead to a time that significantly
    differs from the real time. To avoid issues, it is a good idea to have the virtual
    machine synchronize time with the host and to configure NTP time synchronization
    on the host, which ensures that a reliable time is used on the host as well.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 在VMware Tools菜单中，您还会找到一个有趣的选项。该选项指定是否要使用时间同步。默认情况下，虚拟机不会与主机同步时间。由于虚拟机的固有特性，这可能导致虚拟机的时间与真实时间有显著差异。为了避免此类问题，最好让虚拟机与主机同步时间，并在主机上配置NTP时间同步，以确保主机使用可靠的时间。
- en: VNC connections
  id: totrans-74
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: VNC连接
- en: To access a virtual machine, you can configure remote access within the Virtual
    Machine itself. If, however, you're looking for a more standard method of enabling
    remote access which works for all virtual machines, no matter which operating
    system you're using, VNC connections is an interesting option. With VNC, you'll
    share access from the VMware Workstation host to the entire virtual machine screen.
    The benefit of this approach is that you can use it to access all virtual machines
    no matter what operating system is running inside. There is an inconvenience to
    using VNC though; data that is sent over a VNC connection is not encrypted by
    default. This means you should only use it to access virtual machines that are
    on a network connection which you trust completely.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 要访问虚拟机，您可以在虚拟机本身内配置远程访问。不过，如果您正在寻找一种适用于所有虚拟机的标准远程访问方法，无论使用的操作系统是什么，VNC连接是一个有趣的选择。使用VNC，您可以从VMware
    Workstation主机共享对整个虚拟机屏幕的访问权限。这种方法的好处是，您可以访问所有虚拟机，无论虚拟机内部运行的是哪种操作系统。然而，使用VNC也有一个不便之处：VNC连接中发送的数据默认不加密。这意味着您应该仅在完全信任的网络连接上的虚拟机中使用它。
- en: To enable a VNC access to virtual machines, you need to select the Enable VNC
    connections option on each virtual machine (VM) where you want to use it. Next,
    you'll need to specify a VNC Port. Every VNC connection will use its own port,
    so you might end up with one VNC process that is listening on several ports on
    your host and that is fine. It's also a very good idea to protect each VNC session
    with a password. If you don't use a password, anyone can just connect to the active
    sessions on the virtual machine and that is a huge threat to security!
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 要启用对虚拟机的VNC访问，您需要在每台虚拟机（VM）上选择启用VNC连接选项，然后为每个虚拟机指定一个VNC端口。每个VNC连接都会使用自己的端口，因此可能会有一个VNC进程在您的主机上监听多个端口，这种情况是正常的。为每个VNC会话设置密码也是一个很好的做法。如果不使用密码，任何人都可以直接连接到虚拟机上的活动会话，这对安全构成了巨大的威胁！
- en: After setting up VNC for virtual machines, you'll need to make sure that you
    have a VNC client on the remote computer. Different VNC clients are available
    for free, and you can find one on, for instance, [www.realvnc.com](http://www.realvnc.com).
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 在为虚拟机设置VNC后，你需要确保远程计算机上有VNC客户端。有许多免费的VNC客户端可供选择，你可以在[www.realvnc.com](http://www.realvnc.com)等网站上找到一个。
- en: Securing virtual machines
  id: totrans-78
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 保护虚拟机
- en: While using VNC means that you'll weaken security on the virtual machines, you
    can also choose to add some extra protection. You'll find related options on the
    **Options** tab of each virtual machine (navigate to **VM** | **Settings** | **Options**).
    The name of the related option is **Access Control**, and you can use it to set
    different kinds of protection.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 使用VNC意味着你将削弱虚拟机的安全性，但你也可以选择添加额外的保护。在每个虚拟机的**选项**标签下，你可以找到相关选项（导航到**VM** | **设置**
    | **选项**）。相关选项的名称是**访问控制**，你可以使用它来设置不同种类的保护。
- en: First, you can encrypt the virtual machine. This process is equivalent to the
    encryption of an entire hard disk and if you use it, the virtual machine's disk
    file won't be accessible without entering the appropriate password. Using this
    option is recommended if you want to make sure that you can trust the virtual
    machine in an environment where you cannot be sure whether you can trust the host
    on which it's running. To enable encryption on a virtual machine, you must first
    shut down the virtual machine before starting the encryption process. Be aware
    that it may take a long time for the encryption process to complete, depending
    on the size of the hard disk where you're applying it to.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，你可以对虚拟机进行加密。这个过程相当于对整个硬盘进行加密，如果使用此选项，虚拟机的磁盘文件在没有输入正确密码的情况下将无法访问。如果你希望确保在无法确定是否可以信任运行虚拟机的主机环境中仍能信任虚拟机，建议使用此选项。要启用虚拟机加密，必须首先关闭虚拟机，然后才能开始加密过程。请注意，具体的加密过程可能会根据你应用的硬盘大小而需要较长时间才能完成。
- en: After encrypting a virtual machine, you can either remove the encryption or
    change the encryption password. To do this, first make sure that the virtual machine
    is powered off; you'll now see the **Change Password** option and the **Remove
    Encryption** option under **Access Control**.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 在加密虚拟机后，你可以选择移除加密或更改加密密码。要执行此操作，首先确保虚拟机已经关闭；现在，在**访问控制**下，你将看到**更改密码**选项和**移除加密**选项。
- en: '![Securing virtual machines](img/9182EN_03_07.jpg)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![保护虚拟机](img/9182EN_03_07.jpg)'
- en: Use encryption if you want to prevent unauthorized access to the virtual machine
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想防止未经授权的访问虚拟机，请使用加密。
- en: On using **Encryption**, just the contents of the virtual machine are encrypted.
    Users will still be allowed to change the virtual machine's configuration. If
    you want to prevent this, you should use restrictions as well. After selecting
    **Enable restrictions**, each user who wants to change the configuration of a
    virtual machine must first enter **Restrictions password**.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 使用**加密**时，仅虚拟机的内容会被加密。用户仍然可以更改虚拟机的配置。如果你想阻止这种操作，应同时使用限制功能。在选择**启用限制**后，每个想更改虚拟机配置的用户都必须先输入**限制密码**。
- en: As related options, you can also enforce that the encryption password must be
    used after moving it. This is a good approach to ensure the security of the passwords
    that you're using; a password loses its strength if it's used on multiple locations.
    Also from the **Access Control** tab, you can find an option to disallow USB keys
    to connect to the virtual machine. By applying all of these options, you'll be
    able to add a reasonable level of security to your virtual machines.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 作为相关选项，你还可以强制要求在移动虚拟机后必须使用加密密码。这是一种确保密码安全的好方法；如果密码在多个位置使用，它的强度就会减弱。同样，在**访问控制**选项卡中，你可以找到一个选项，禁止USB钥匙连接到虚拟机。通过应用这些选项，你将能够为虚拟机增加合理的安全性。
- en: Summary
  id: totrans-86
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, you've learned how to work with virtual machines. Different
    tasks have been discussed, from connecting virtual hardware to changing settings
    that relate to the security and remote access of virtual machines. In the next
    chapter, you'll learn what's going on behind the scenes, and the configuration
    of virtual machines as it exists on the host operating system is discussed in
    more detail.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你已经学习了如何使用虚拟机。我们讨论了不同的任务，从连接虚拟硬件到更改与虚拟机安全性和远程访问相关的设置。在下一章中，你将了解幕后发生了什么，并将更详细地讨论虚拟机在主机操作系统中的配置。
