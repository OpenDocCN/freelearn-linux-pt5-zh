["```\nroot@solaris11-1:~# format\nSearching for disks...done\n\nAVAILABLE DISK SELECTIONS:\n       0\\. c8t0d0 <VBOX-HARDDISK-1.0-80.00GB>\n          /pci@0,0/pci1000,8000@14/sd@0,0\n       1\\. c8t1d0 <VBOX-HARDDISK-1.0-16.00GB>\n          /pci@0,0/pci1000,8000@14/sd@1,0\n       2\\. c8t2d0 <VBOX-HARDDISK-1.0-4.00GB>\n          /pci@0,0/pci1000,8000@14/sd@2,0\n       3\\. c8t3d0 <VBOX-HARDDISK-1.0 cyl 2046 alt 2 hd 128 sec 32>\n          /pci@0,0/pci1000,8000@14/sd@3,0\n       4\\. c8t4d0 <VBOX-HARDDISK-1.0 cyl 2046 alt 2 hd 128 sec 32>\n          /pci@0,0/pci1000,8000@14/sd@4,0\n       5\\. c8t5d0 <VBOX-HARDDISK-1.0 cyl 2046 alt 2 hd 128 sec 32>\n          /pci@0,0/pci1000,8000@14/sd@5,0\n       6\\. c8t6d0 <VBOX-HARDDISK-1.0 cyl 2046 alt 2 hd 128 sec 32>\n          /pci@0,0/pci1000,8000@14/sd@6,0\n       7\\. c8t8d0 <VBOX-HARDDISK-1.0 cyl 2046 alt 2 hd 128 sec 32>\n          /pci@0,0/pci1000,8000@14/sd@8,0\n       8\\. c8t9d0 <VBOX-HARDDISK-1.0 cyl 2046 alt 2 hd 128 sec 32>\n          /pci@0,0/pci1000,8000@14/sd@9,0\n       9\\. c8t10d0 <VBOX-HARDDISK-1.0 cyl 2046 alt 2 hd 128 sec 32>\n          /pci@0,0/pci1000,8000@14/sd@a,0\n      10\\. c8t11d0 <VBOX-HARDDISK-1.0 cyl 2046 alt 2 hd 128 sec 32>\n          /pci@0,0/pci1000,8000@14/sd@b,0\nSpecify disk (enter its number):\n```", "```\nroot@solaris11-1:~# zpool create oracle_stripe_1 c8t3d0 c8t4d0\n'oracle_stripe_1' successfully created, but with no redundancy; failure of one device will cause loss of the pool\n```", "```\nroot@solaris11-1:~# zpool list oracle_stripe_1\nNAME              SIZE   ALLOC  FREE   CAP  DEDUP  HEALTH  ALTROOT\noracle_stripe_1   7.94G  122K   7.94G  0%   1.00x  ONLINE  -\n```", "```\nroot@solaris11-1:~# zpool status oracle_stripe_1\n  pool: oracle_stripe_1\n state: ONLINE\n  scan: none requested\nconfig:\n\n  NAME             STATE     READ WRITE CKSUM\n  oracle_stripe_1  ONLINE       0     0     0\n  c8t3d0           ONLINE       0     0     0\n  c8t4d0           ONLINE       0     0     0\n\nerrors: No known data errors\n```", "```\nroot@solaris11-1:~# zpool iostat -v oracle_stripe_1\n                  capacity       operations    bandwidth\npool              alloc   free   read  write   read  write\n----------------  -----  -----  -----  -----  -----  -----\noracle_stripe_1   128K    7.94G    0      0    794     56\n  c8t3d0          53K     3.97G    0      0    391     24\n  c8t4d0          74.5K   3.97G    0      0    402     32\n----------------  -----  -----  -----  -----  -----  -----\n```", "```\nroot@solaris11-1:~# zpool create oracle_mirror_1 mirror c8t5d0 c8t6d0\nroot@solaris11-1:~# zpool list oracle_mirror_1\nNAME              SIZE   ALLOC  FREE   CAP  DEDUP  HEALTH  ALTROOT\noracle_mirror_1   3.97G  85K    3.97G  0%   1.00x  ONLINE  -\nroot@solaris11-1:~# zpool status oracle_mirror_1\n  pool: oracle_mirror_1\n state: ONLINE\n  scan: none requested\nconfig:\n  NAME             STATE      READ  WRITE  CKSUM\n  oracle_mirror_1  ONLINE       0     0      0\n  mirror-0         ONLINE       0     0      0\n  c8t5d0           ONLINE       0     0      0\n  c8t6d0           ONLINE       0     0      0\n\nerrors: No known data errors\nroot@solaris11-1:~# zpool create oracle_raidz_1 raidz c8t8d0 c8t9d0 c8t10d0\nroot@solaris11-1:~# zpool list oracle_raidz_1\nNAME             SIZE  ALLOC   FREE  CAP  DEDUP  HEALTH  ALTROOT\noracle_raidz_1  11.9G   176K  11.9G   0%  1.00x  ONLINE  -\nroot@solaris11-1:~# zpool status oracle_raidz_1\npool: oracle_raidz_1\n state: ONLINE\n  scan: none requested\nconfig:\n\n  NAME            STATE     READ WRITE CKSUM\n  oracle_raidz_1  ONLINE       0     0     0\n  raidz1-0        ONLINE       0     0     0\n  c8t8d0          ONLINE       0     0     0\n  c8t9d0          ONLINE       0     0     0\n  c8t10d0         ONLINE       0     0     0\n\nerrors: No known data errors\n```", "```\nroot@solaris11-1:~# zfs create oracle_stripe_1/zfs_stripe_1\n\n```", "```\nroot@solaris11-1:~# zfs create oracle_mirror_1/zfs_mirror_1\nroot@solaris11-1:~# zfs create oracle_raidz_1/zfs_raidz_1\n\n```", "```\nroot@solaris11-1:~# zfs list\nNAME                            USED   AVAIL  REFER  MOUNTPOINT\n(truncated output)\noracle_mirror_1                 124K   3.91G  32K    /oracle_mirror_1\noracle_mirror_1/zfs_mirror_1    31K    3.91G  31K  /oracle_mirror_1/zfs_mirror_1\noracle_raidz_1                  165K   7.83G  36.0K  /oracle_raidz_1\noracle_raidz_1/zfs_raidz_1      34.6K  7.83G  34.6K  /oracle_raidz_1/zfs_raidz_1\noracle_stripe_1                 128K   7.81G  32K    /oracle_stripe_1\noracle_stripe_1/zfs_stripe_1    31K    7.81G  31K  /oracle_stripe_1/zfs_stripe_1\n(truncated output)\nroot@solaris11-1:~# zfs list oracle_stripe_1 oracle_mirror_1 oracle_raidz_1\nNAME             USED  AVAIL  REFER  MOUNTPOINT\noracle_mirror_1  124K  3.91G    32K  /oracle_mirror_1\noracle_raidz_1   165K  7.83G  36.0K  /oracle_raidz_1\noracle_stripe_1  128K  7.81G    32K  /oracle_stripe_1\n```", "```\nroot@solaris11-1:~# zfs mount\nrpool/ROOT/solaris              /\nrpool/ROOT/solaris/var          /var\nrpool/VARSHARE                  /var/share\nrpool/export                    /export\nrpool/export/home               /export/home\noracle_mirror_1                 /oracle_mirror_1\noracle_mirror_1/zfs_mirror_1    /oracle_mirror_1/zfs_mirror_1\noracle_stripe_1                 /oracle_stripe_1\noracle_stripe_1/zfs_stripe_1    /oracle_stripe_1/zfs_stripe_1\nrpool                           /rpool\noracle_raidz_1                  /oracle_raidz_1\noracle_raidz_1/zfs_raidz_1      /oracle_raidz_1/zfs_raidz_1\n```", "```\nroot@solaris11-1:~# zpool get all oracle_mirror_1\nNAME                PROPERTY       VALUE               SOURCE\n(truncated output)\noracle_mirror_1     bootfs         -                   default\noracle_mirror_1     cachefile      -                   default\noracle_mirror_1     capacity       0%                  -\noracle_mirror_1     dedupditto     0                   default\noracle_mirror_1     dedupratio     1.00x               -\noracle_mirror_1     delegation     on                  default\noracle_mirror_1     failmode       wait                default\noracle_mirror_1     free           3.97G               -\noracle_mirror_1     guid           730796695846862911  -\n(truncated output)\n\n```", "```\nroot@solaris11-1:~# zpool status -x \nall pools are health\nroot@solaris11-1:~# zpool status -x oracle_mirror_1\npool 'oracle_mirror_1' is healthy\nroot@solaris11-1:~# zpool status oracle_mirror_1\n  pool: oracle_mirror_1\n state: ONLINE\n  scan: none requested\nconfig:\n\n    NAME             STATE     READ WRITE CKSUM\n    oracle_mirror_1  ONLINE       0     0     0\n    mirror-0         ONLINE       0     0     0\n    c8t5d0           ONLINE       0     0     0\n    c8t6d0           ONLINE       0     0     0\n```", "```\nroot@solaris11-1:~# zpool scrub oracle_mirror_1\nroot@solaris11-1:~# zpool status oracle_mirror_1\n  pool: oracle_mirror_1\n state: ONLINE\nscan: scrub in progress since Tue Jun 10 04:04:56 2014\n    2.53G scanned out of 3.91G at 24.0M/s, 0h1m to go\n    0 repaired, 64.71% done\nconfig:\n\n    NAME             STATE     READ WRITE CKSUM\n    oracle_mirror_1  ONLINE       0     0     0\n    mirror-0         ONLINE       0     0     0\n    c8t5d0           ONLINE       0     0     0\n    c8t6d0           ONLINE       0     0     0\n```", "```\nroot@solaris11-1:~# zpool status oracle_mirror_1\n  pool: oracle_mirror_1\n state: ONLINE\nscan: scrub repaired 0 in 0h4m with 0 errors on Tue Jun 10 04:09:48 2014\nconfig:\n\n    NAME             STATE     READ WRITE CKSUM\n    oracle_mirror_1  ONLINE    0     0     0\n        mirror-0  ONLINE       0     0     0\n          c8t5d0  ONLINE       0     0     0\n          c8t6d0  ONLINE       0     0     0\n```", "```\nroot@solaris11-1:~# zpool history oracle_mirror_1\nHistory for 'oracle_mirror_1':\n2013-11-27.19:14:15 zpool create oracle_mirror_1 mirror c8t5d0 c8t6d0\n2013-11-27.19:57:31 zfs create oracle_mirror_1/zfs_mirror_1\n(truncated output)\n\n```", "```\nroot@solaris11-1:~# fmadm faulty\n\n```", "```\nroot@solaris11-1:~# dmesg\n\n```", "```\nroot@solaris11-1:~# zfs list -r oracle_mirror_1\nNAME                          USED  AVAIL  REFER  MOUNTPOINT\noracle_mirror_1               124K  3.91G    32K  /oracle_mirror_1\noracle_mirror_1/zfs_mirror_1   31K  3.91G    31K  /oracle_mirror_1/zfs_mirror_1\nroot@solaris11-1:~# zfs get all oracle_mirror_1/zfs_mirror_1\nNAME                          PROPERTY          VALUE         SOURCE\noracle_mirror_1/zfs_mirror_1  aclinherit        restricted    default\noracle_mirror_1/zfs_mirror_1  aclmode           discard       default\noracle_mirror_1/zfs_mirror_1  atime             on            default\noracle_mirror_1/zfs_mirror_1  available         3.91G         -\noracle_mirror_1/zfs_mirror_1  canmount          on            default\noracle_mirror_1/zfs_mirror_1  casesensitivity   mixed         -\noracle_mirror_1/zfs_mirror_1  checksum          on            default\n(truncated output)\n\n```", "```\nroot@solaris11-1:~# zfs set mountpoint=/oracle_mirror_1/another_point oracle_mirror_1/zfs_mirror_1\nroot@solaris11-1:~# zfs list -r oracle_mirror_1\nNAME                          USED  AVAIL  REFER  MOUNTPOINT\noracle_mirror_1               134K  3.91G    32K  /oracle_mirror_1\noracle_mirror_1/zfs_mirror_1   31K  3.91G    31K  /oracle_mirror_1/another_point\n```", "```\nroot@solaris11-1:~# zfs rename oracle_stripe_1/zfs_stripe_1 oracle_stripe_1/zfs_test_1\nroot@solaris11-1:~# zfs list -r oracle_stripe_1\nNAME                         USED  AVAIL  REFER  MOUNTPOINT\noracle_stripe_1              128K  7.81G    32K  /oracle_stripe_1\noracle_stripe_1/zfs_test_1   31K   7.81G    31K  /oracle_stripe_1/zfs_test_1\nroot@solaris11-1:~# df -h /oracle_stripe_1/*\nFilesystem             Size   Used  Available Capacity  Mounted on\noracle_stripe_1/zfs_test_1\n                       7.8G    31K       7.8G     1%    /oracle_stripe_1/zfs_test_1\n```", "```\nroot@solaris11-1:~# cd /oracle_stripe_1/zfs_test_1\nroot@solaris11-1:~# zfs list -r oracle_stripe_1\nNAME                          USED  AVAIL  REFER  MOUNTPOINT\noracle_stripe_1               128K  7.81G    32K  /oracle_stripe_1\noracle_stripe_1/zfs_test_1  31.5K  7.81G  31.5K  /oracle_stripe_1/zfs_test_1\nroot@solaris11-1:~# zfs destroy oracle_stripe_1/zfs_test_1\ncannot unmount '/oracle_stripe_1/zfs_test_1': Device busy\n```", "```\nroot@solaris11-1:~# fuser -cu /oracle_stripe_1/zfs_test_1\n/oracle_stripe_1/zfs_test_1:     1977c(root)\nroot@solaris11-1:~# ps -ef | grep 1977\n    root  1977  1975   0 07:03:14 pts/1       0:00 bash\n```", "```\nroot@solaris11-1:~# kill -9 1977\n\n```", "```\nroot@solaris11-1:~# zfs destroy oracle_stripe_1/zfs_test_1\n\n```", "```\nroot@solaris11-1:~# zfs list -r oracle_stripe_1\nNAME              USED   AVAIL  REFER  MOUNTPOINT\noracle_stripe_1   89.5K  7.81G    31K  /oracle_stripe_1\n```", "```\nroot@solaris11-1:~# zfs list -r oracle_stripe_1\nNAME              USED  AVAIL  REFER  MOUNTPOINT\noracle_stripe_1  89.5K  7.81G    31K  /oracle_stripe_1\nroot@solaris11-1:~# zfs create oracle_stripe_1/fs_1\nroot@solaris11-1:~# cp /etc/[a-e]* /oracle_stripe_1/fs_1\nroot@solaris11-1:~# zfs list -r oracle_stripe_1     \nNAME                   USED  AVAIL  REFER  MOUNTPOINT\noracle_stripe_1       4.01M  7.81G    35K  /oracle_stripe_1\noracle_stripe_1/fs_1  82.5K  7.81G  82.5K  /oracle_stripe_1/fs_1\nroot@solaris11-1:~# zpool list oracle_stripe_1\nNAME              SIZE  ALLOC   FREE  CAP  DEDUP  HEALTH  ALTROOT\noracle_stripe_1  7.94G  4.01M  7.93G   0%  1.00x  ONLINE  -\nroot@solaris11-1:~# zpool destroy oracle_stripe_1\nroot@solaris11-1:~# zpool list\nNAME              SIZE  ALLOC   FREE  CAP  DEDUP  HEALTH  ALTROOT\niscsi_pool       3.97G  2.62M  3.97G   0%  1.00x  ONLINE  -\noracle_mirror_1  3.97G   134K  3.97G   0%  1.00x  ONLINE  -\noracle_raidz_1   11.9G   248K  11.9G   0%  1.00x  ONLINE  -\nrepo_pool        15.9G  7.64G  8.24G  48%  1.00x  ONLINE  -\nrpool            79.5G  31.8G\n```", "```\nroot@solaris11-1:~# zpool create pool_1 c8t3d0\nroot@solaris11-1:~# zfs create pool_1/fs_1\n\n```", "```\nroot@solaris11-1:~# cp -r mh* jo* /pool_1/fs_1/\nroot@solaris11-1:~# zfs list -r pool_1/fs_1 \nNAME          USED  AVAIL  REFER  MOUNTPOINT\npool_1/fs_1  63.1M  3.85G  63.1M  /pool_1/fs_1\n```", "```\nroot@solaris11-1:~# zfs snapshot pool_1/fs_1@snap1\n\n```", "```\nroot@solaris11-1:~# zfs list -r pool_1\nNAME          USED  AVAIL  REFER  MOUNTPOINT\npool_1       63.2M  3.85G    32K  /pool_1\npool_1/fs_1  63.1M  3.85G  63.1M  /pool_1/fs_1\n```", "```\nroot@solaris11-1:~# zpool get listsnapshots pool_1\nNAME    PROPERTY       VALUE  SOURCE\npool_1  listsnapshots  off    local\n```", "```\nroot@solaris11-1:~# zpool set listsnapshots=on pool_1\nroot@solaris11-1:~# zfs list -r pool_1\nNAME                USED  AVAIL  REFER  MOUNTPOINT\npool_1             63.2M  3.85G    32K  /pool_1\npool_1/fs_1        63.1M  3.85G  63.1M  /pool_1/fs_1\npool_1/fs_1@snap1      0      -  63.1M  -\n```", "```\nroot@solaris11-1:~# zfs list -t snapshot\nNAME                                         USED  AVAIL  REFER  MOUNTPOINT\npool_1/fs_1@snap1                               0      -  63.1M  -\nrpool/ROOT/solaris@install                   106M      -  3.52G  -\nrpool/ROOT/solaris@2013-10-10-22:27:20       219M      -  3.77G  -\nrpool/ROOT/solaris@2013-11-26-08:38:27      1.96G      -  24.2G  -\nrpool/ROOT/solaris/var@install              63.0M      -   189M  -\nrpool/ROOT/solaris/var@2013-10-10-22:27:20  66.5M      -   200M  -\nrpool/ROOT/solaris/var@2013-11-26-08:38:27   143M      -   291M  -\n```", "```\nroot@solaris11-1:~# zfs clone pool_1/fs_1@snap1 pool_1/clone_1 \nroot@solaris11-1:~# zfs list -r pool_1\nNAME                USED  AVAIL  REFER  MOUNTPOINT\npool_1             63.2M  3.85G    33K  /pool_1\npool_1/clone_1       25K  3.85G  63.1M  /pool_1/clone_1\npool_1/fs_1        63.1M  3.85G  63.1M  /pool_1/fs_1\npool_1/fs_1@snap1      0      -  63.1M  -\n```", "```\nroot@solaris11-1:~# zfs get origin pool_1/fs_1\nNAME         PROPERTY  VALUE  SOURCE\npool_1/fs_1  origin    -      -\nroot@solaris11-1:~# zfs get origin pool_1/fs_1@snap1\nNAME               PROPERTY  VALUE  SOURCE\npool_1/fs_1@snap1  origin    -      -\nroot@solaris11-1:~# zfs get origin pool_1/clone_1   \nNAME            PROPERTY  VALUE              SOURCE\npool_1/clone_1  origin    pool_1/fs_1@snap1  -\n```", "```\nroot@solaris11-1:~# zfs get type pool_1/fs_1@snap1\nNAME               PROPERTY  VALUE     SOURCE\npool_1/fs_1@snap1  type      snapshot  -\n```", "```\nroot@solaris11-1:~# zfs destroy pool_1/fs_1\ncannot destroy 'pool_1/fs_1': \nfilesystem has children\nuse '-r' to destroy the following datasets:\npool_1/fs_1@snap1\n```", "```\nroot@solaris11-1:~# zfs destroy pool_1/fs_1@snap1\ncannot destroy 'pool_1/fs_1@snap1': \nsnapshot has dependent clones\nuse '-R' to destroy the following datasets:\npool_1/clone_1\n```", "```\nroot@solaris11-1:~# zfs list -r pool_1\nNAME                USED  AVAIL  REFER  MOUNTPOINT\npool_1             63.2M  3.85G    33K  /pool_1\npool_1/clone_1       25K  3.85G  63.1M  /pool_1/clone_1\npool_1/fs_1        63.1M  3.85G  63.1M  /pool_1/fs_1\npool_1/fs_1@snap1      0      -  63.1M  -\nroot@solaris11-1:~# zfs destroy pool_1/clone_1\nroot@solaris11-1:~# zfs destroy pool_1/fs_1@snap1\nroot@solaris11-1:~# zfs destroy pool_1/fs_1\nroot@solaris11-1:~# zfs list -r pool_1 \nNAME     USED  AVAIL  REFER  MOUNTPOINT\npool_1  98.5K  3.91G    31K  /pool_1\n```", "```\nroot@solaris11-1:~# zfs destroy -R pool_1/fs_1\nroot@solaris11-1:~# zfs list -r pool_1\nNAME    USED  AVAIL  REFER  MOUNTPOINT\npool_1   91K  3.91G    31K  /pool_1\nroot@solaris11-1:~#\n```", "```\nroot@solaris11-1:~# zpool create backuptest_pool c8t5d0\nroot@solaris11-1:~# zfs create backuptest_pool/zfs1\nroot@solaris11-1:~# cp /etc/[a-p]* /backuptest_pool/zfs1\nroot@solaris11-1:/# ls -l /backuptest_pool/zfs1/\ntotal 399\n-rw-r--r--   1 root     root        1436 Dec 13 03:30 aliases\n-rw-r--r--   1 root     root         182 Dec 13 03:30 auto_home\n-rw-r--r--   1 root     root         220 Dec 13 03:30 auto_master\n-rw-r--r--   1 root     root        1931 Dec 13 03:30 dacf.conf\n(truncated output)\nroot@solaris11-1:/# zfs list backuptest_pool/zfs1 \nNAME                  USED  AVAIL  REFER  MOUNTPOINT\nbackuptest_pool/zfs1  214K  3.91G   214K  /backuptest_pool/zfs1\nroot@solaris11-1:/# zfs snapshot backuptest_pool/zfs1@backup1\nroot@solaris11-1:/# zpool listsnapshots=on backuptest_pool \nroot@solaris11-1:/# zfs list -r backuptest_pool\nNAME                          USED  AVAIL  REFER  MOUNTPOINT\nbackuptest_pool               312K  3.91G    32K  /backuptest_pool\nbackuptest_pool/zfs1          214K  3.91G   214K  /backuptest_pool/zfs1\nbackuptest_pool/zfs1@backup1     0      -   214K  -\n```", "```\nroot@solaris11-1:/# cd /backuptest_pool/zfs1/\nroot@solaris11-1:/backuptest_pool/zfs1# rm [a-k]*\nroot@solaris11-1:/backuptest_pool/zfs1# ls -l\ntotal 125\n-rw-r--r--   1 root     root        2986 Dec 13 03:30 name_to_major\n-rw-r--r--   1 root     root        3090 Dec 13 03:30 name_to_sysnum\n-rw-r--r--   1 root     root        7846 Dec 13 03:30 nanorc\n-rw-r--r--   1 root     root        1321 Dec 13 03:30 netconfig\n-rw-r--r--   1 root     root         487 Dec 13 03:30 netmasks\n-rw-r--r--   1 root     root         462 Dec 13 03:30 networks\n-rw-r--r--   1 root     root        1065 Dec 13 03:30 nfssec.conf\n……….\n(truncated output)\n\n```", "```\nroot@solaris11-1:~# cd /backuptest_pool/zfs1/.zfs\nroot@solaris11-1:/backuptest_pool/zfs1/.zfs# ls\nshares    snapshot\nroot@solaris11-1:/backuptest_pool/zfs1/.zfs# cd snapshot/\nroot@solaris11-1:/backuptest_pool/zfs1/.zfs/snapshot# ls\nbackup1\nroot@solaris11-1:/backuptest_pool/zfs1/.zfs/snapshot# cd backup1/\nroot@solaris11-1:/backuptest_pool/zfs1/.zfs/snapshot/backup1# ls -l\ntotal 399\n-rw-r--r--   1 root     root        1436 Dec 13 03:30 aliases\n-rw-r--r--   1 root     root         182 Dec 13 03:30 auto_home\n-rw-r--r--   1 root     root         220 Dec 13 03:30 auto_master\n-rw-r--r--   1 root     root        1931 Dec 13 03:30 dacf.conf\n-r--r--r--   1 root     root         516 Dec 13 03:30 datemsk\n-rw-r--r--   1 root     root        2670 Dec 13 03:30 devlink.tab\n-rw-r--r--   1 root     root       38237 Dec 13 03:30 driver_aliases\n………\n(truncated output)\n\nroot@solaris11-1:/backuptest_pool/zfs1/.zfs/snapshot/backup1# cd\n\n```", "```\nroot@solaris11-1:~# zfs rollback backuptest_pool/zfs1@backup1\nroot@solaris11-1:~# cd /backuptest_pool/zfs1/\nroot@solaris11-1:/backuptest_pool/zfs1# ls -l    \ntotal 399\n-rw-r--r--   1 root     root        1436 Dec 13 03:30 aliases\n-rw-r--r--   1 root     root         182 Dec 13 03:30 auto_home\n-rw-r--r--   1 root     root         220 Dec 13 03:30 auto_master\n-rw-r--r--   1 root     root        1931 Dec 13 03:30 dacf.conf\n-r--r--r--   1 root     root         516\n Dec 13 03:30 datemsk\n-rw-r--r--   1 root     root        2670 Dec 13 03:30 devlink.tab\n-rw-r--r--   1 root     root       38237 Dec 13 03:30 driver_aliases\n(truncated output)\n\n```", "```\nroot@solaris11-1:~# ssh solaris11-2\nPassword: \nLast login: Fri Dec 13 04:29:41 2013\nOracle Corporation      SunOS 5.11      11.1    September 2012\nroot@solaris11-2:~# zpool create away_backup c8t3d0\nroot@solaris11-2:~# zpool set readonly=on away_backup\nroot@solaris11-2:~# zfs list away_backup\nNAME         USED  AVAIL  REFER  MOUNTPOINT\naway_backup   85K  3.91G    31K  /away_backup\n```", "```\nroot@solaris11-1:~# zfs send backuptest_pool/zfs1@backup1 | ssh solaris11-2 zfs recv -F away_backup/saved_backup\nPassword:\n```", "```\nroot@solaris11-2:~# zfs list -r away_backup\nNAME                      USED  AVAIL  REFER  MOUNTPOINT\naway_backup               311K  3.91G    32K  /away_backup\naway_backup/saved_backup  214K  3.91G   214K  /away_backup/saved_backup\nroot@solaris11-2:~# ls -l /away_backup/saved_backup/\ntotal 399\n-rw-r--r--   1 root     root        1436 Dec 13 03:30 aliases\n-rw-r--r--   1 root     root         182 Dec 13 03:30 auto_home\n-rw-r--r--   1 root     root         220 Dec 13 03:30 auto_master\n-rw-r--r--   1 root     root        1931 Dec 13 03:30 dacf.conf\n-r--r--r--   1 root     root         516 Dec 13 03:30 datemsk\n-rw-r--r--   1 root     root        2670 Dec 13 03:30 devlink.tab\n-rw-r--r--   1 root     root       38237 Dec 13 03:30 driver_aliases\n-rw-r--r--   1 root     root         557 Dec 13 03:30 driver_classes\n-rwxr--r--   1 root     root        1661 Dec 13 03:30 dscfg_format\n……..\n(truncated output)\n\n```", "```\nroot@solaris11-1:~# cd /backuptest_pool/zfs1/\nroot@solaris11-1:/backuptest_pool/zfs1# rm *\nroot@solaris11-1:/backuptest_pool/zfs1# cd\nroot@solaris11-1:~# zfs destroy backuptest_pool/zfs1@backup1\nroot@solaris11-1:~# zfs list -r backuptest_pool/zfs1\nNAME                  USED  AVAIL  REFER  MOUNTPOINT\nbackuptest_pool/zfs1   31K  3.91G    31K  /backuptest_pool/zfs1\nroot@solaris11-1:~# \n```", "```\nroot@solaris11-2:~# zpool set listsnapshots=on away_backup\nroot@solaris11-2:~# zfs list -r away_backup\nNAME                              USED  AVAIL  REFER  MOUNTPOINT\naway_backup                       312K  3.91G    32K  /away_backup\naway_backup/saved_backup          214K  3.91G   214K  /away_backup/saved_backup\naway_backup/saved_backup@backup1     0      -   214K  -\n```", "```\nroot@solaris11-2:~# zfs send -Rv away_backup/saved_backup@backup1 | ssh solaris11-1 zfs recv -F backuptest_pool/zfs1\nsending from @ to away_backup/saved_backup@backup1\nPassword:\nroot@solaris11-2:~#\n```", "```\nroot@solaris11-1:~# zfs list -r backuptest_pool/zfs1\nNAME                          USED  AVAIL  REFER  MOUNTPOINT\nbackuptest_pool/zfs1          214K  3.91G   214K  /backuptest_pool/zfs1\nbackuptest_pool/zfs1@backup1     0      -   214K  -\nroot@solaris11-1:~# cd /backuptest_pool/zfs1/\nroot@solaris11-1:/backuptest_pool/zfs1# ls -al\ntotal 407\ndrwxr-xr-x   2 root     root          64 Dec 13 03:30 .\ndrwxr-xr-x   3 root     root           3 Dec 13 05:12 ..\n-rw-r--r--   1 root     root        1436 Dec 13 03:30 aliases\n-rw-r--r--   1 root     root         182 Dec 13 03:30 auto_home\n-rw-r--r--   1 root     root         220 Dec 13 03:30 auto_master\n-rw-r--r--   1 root     root        1931 Dec 13 03:30 dacf.conf\n………\n(truncated output)\n\n```", "```\nroot@solaris11-1:~# zpool create raid1_pool mirror c8t3d0 c8t4d0\n\n```", "```\nroot@solaris11-1:~# zpool add raid1_pool log mirror c8t5d0 c8t6d0\nroot@solaris11-1:~# zpool status raid1_pool\n  pool: raid1_pool\n state: ONLINE\n  scan: none requested\nconfig:\n\n  NAME        STATE     READ WRITE CKSUM\n  raid1_pool  ONLINE       0     0     0\n    mirror-0  ONLINE       0     0     0\n      c8t3d0  ONLINE       0     0     0\n      c8t4d0  ONLINE       0     0     0\n  logs\n    mirror-1  ONLINE       0     0     0\n      c8t5d0  ONLINE       0     0     0\n      c8t6d0  ONLINE       0     0     0\n\nerrors: No known data errors\n```", "```\nroot@solaris11-1:~# zpool detach raid1_pool c8t6d0\nroot@solaris11-1:~# zpool status raid1_pool\n  pool: raid1_pool\n state: ONLINE\n  scan: none requested\nconfig:\n\n    NAME        STATE     READ WRITE CKSUM\n  raid1_pool    ONLINE       0     0     0\n      mirror-0  ONLINE       0     0     0\n        c8t3d0  ONLINE       0     0     0\n        c8t4d0  ONLINE       0     0     0\n    logs\n      c8t5d0    ONLINE       0     0     0\n\nerrors: No known data errors\n```", "```\nroot@solaris11-1:~# zpool remove raid1_pool mirror-1\nroot@solaris11-1:~# zpool status raid1_pool\n  pool: raid1_pool\n state: ONLINE\n  scan: none requested\nconfig:\n\n    NAME        STATE     READ WRITE CKSUM\n  raid1_pool    ONLINE       0     0     0\n      mirror-0  ONLINE       0     0     0\n        c8t3d0  ONLINE       0     0     0\n        c8t4d0  ONLINE       0     0     0\n\nerrors: No known data errors\nroot@solaris11-1:~#\n```", "```\nroot@solaris11-1:~# zpool create mir_pool mirror c8t3d0 c8t4d0 log mirror c8t5d0 c8t6d0\nroot@solaris11-1:~# zpool status mir_pool\n  pool: mir_pool\n state: ONLINE\n  scan: none requested\nconfig:\n\n  NAME        STATE     READ WRITE CKSUM\n  mir_pool    ONLINE       0     0     0\n    mirror-0  ONLINE       0     0     0\n      c8t3d0  ONLINE       0     0     0\n      c8t4d0  ONLINE       0     0     0\n  logs\n    mirror-1  ONLINE       0     0     0\n      c8t5d0  ONLINE       0     0     0\n      c8t6d0  ONLINE       0     0     0\n\nerrors: No known data errors\nroot@solaris11-1:~#\n```", "```\nroot@solaris11-1:~# zpool create mircache_pool mirror c8t3d0 c8t4d0 cache c8t5d0 c8t6d0\nroot@solaris11-1:~# zpool status mircache_pool\n  pool: mircache_pool\n state: ONLINE\n  scan: none requested\nconfig:\n\n  NAME           STATE     READ WRITE CKSUM\n  mircache_pool  ONLINE       0     0     0\n       mirror-0  ONLINE       0     0     0\n         c8t3d0  ONLINE       0     0     0\n         c8t4d0  ONLINE       0     0     0\n  cache\n       c8t5d0    ONLINE       0     0     0\n       c8t6d0    ONLINE       0     0     0\nerrors: No known data errors\n```", "```\nroot@solaris11-1:~# zpool create mircache_pool mirror c8t3d0 c8t4d0 cache c8t5d0 c8t6d0\nroot@solaris11-1:~# zpool status mircache_pool\n  pool: mircache_pool\n state: ONLINE\n  scan: none requested\nconfig:\n\n     NAME        STATE     READ WRITE CKSUM\n  mircache_pool  ONLINE       0     0     0\n       mirror-0  ONLINE       0     0     0\n         c8t3d0  ONLINE       0     0     0\n         c8t4d0  ONLINE       0     0     0\n  cache\n       c8t5d0    ONLINE       0     0     0\n       c8t6d0    ONLINE       0     0     0\n\nerrors: No known data errors\n```", "```\nroot@solaris11-1:~# zpool remove mircache_pool c8t5d0\n\n```", "```\nroot@solaris11-1:~# zpool create mir_pool2 mirror c8t3d0 c8t4d0\nroot@solaris11-1:~# zpool status mir_pool2\n  pool: mir_pool2\n state: ONLINE\n  scan: none requested\nconfig:\n\n  NAME        STATE     READ WRITE CKSUM\n  mir_pool2   ONLINE       0     0     0\n    mirror-0  ONLINE       0     0     0\n      c8t3d0  ONLINE       0     0     0\n      c8t4d0  ONLINE       0     0     0\n\nerrors: No known data errors\n```", "```\nroot@solaris11-1:~# zpool add mir_pool2 c8t5d0\nvdev verification failed: use -f to override the following errors:\nmismatched replication level: pool uses mirror and new vdev is disk\nUnable to build pool from specified devices: invalid vdev configuration\n```", "```\nroot@solaris11-1:~# zpool add mir_pool2 c8t5d0 c8t6d0\nvdev verification failed: use -f to override the following errors:\nmismatched replication level: pool uses mirror and new vdev is disk\nUnable to build pool from specified devices: invalid vdev configuration\n```", "```\nroot@solaris11-1:~# zpool add mir_pool2 mirror c8t5d0 c8t6d0\nroot@solaris11-1:~# zpool status mir_pool2\n  pool: mir_pool2\n state: ONLINE\n  scan: none requested\nconfig:\n\n     NAME        STATE     READ WRITE CKSUM\n    mir_pool2   ONLINE       0     0     0\n      mirror-0  ONLINE       0     0     0\n        c8t3d0  ONLINE       0     0     0\n        c8t4d0  ONLINE       0     0     0\n      mirror-1  ONLINE       0     0     0\n        c8t5d0  ONLINE       0     0     0\n        c8t6d0  ONLINE       0     0     0\n\nerrors: No known data errors\n```", "```\nroot@solaris11-1:~# zpool detach mir_pool3 c8t6d0\n\n```", "```\nroot@solaris11-1:~# zpool remove mir_pool3 mirror-1\n\n```", "```\nroot@solaris11-1:~# zpool create mir_pool3  mirror c8t8d0 c8t9d0\nroot@solaris11-1:~# zfs create mir_pool3/zfs1\nroot@solaris11-1:~# cp -r mhvtl-* DTraceToolkit-0.99* dtbook_scripts* john* /mir_pool3/zfs1/\n\n```", "```\nroot@solaris11-1:~# zpool attach mir_pool3 c8t9d0 c8t10d0\n\n```", "```\nroot@solaris11-1:~# zpool status mir_pool3\n  pool: mir_pool3\n state: ONLINE\n  scan: resilvered 70.7M in 0h0m with 0 errors on Sat Dec 14 02:49:08 2013\nconfig:\n\n    NAME         STATE     READ WRITE CKSUM\n   mir_pool3    ONLINE       0     0     0\n     mirror-0   ONLINE       0     0     0\n       c8t8d0   ONLINE       0     0     0\n       c8t9d0   ONLINE       0     0     0\n       c8t10d0  ONLINE       0     0     0\n\nerrors: No known data errors\n```", "```\nroot@solaris11-1:~# zpool offline mir_pool3 c8t10d0\nroot@solaris11-1:~# zpool status mir_pool3\n  pool: mir_pool3\n state: DEGRADED\nstatus: One or more devices has been taken offline by the administrator.\n  Sufficient replicas exist for the pool to continue functioning in a\n  degraded state.\naction: Online the device using 'zpool online' or replace the device with 'zpool replace'.\n  scan: resilvered 70.7M in 0h0m with 0 errors on Sat Dec 14 02:49:08 2013\nconfig:\n\n   NAME         STATE     READ WRITE CKSUM\n  mir_pool3    DEGRADED     0     0     0\n    mirror-0   DEGRADED     0     0     0\n      c8t8d0   ONLINE       0     0     0\n      c8t9d0   ONLINE       0     0     0\n      c8t10d0  OFFLINE      0     0     0\n\nerrors: No known data errors\n```", "```\nroot@solaris11-1:~# zpool online mir_pool3 c8t10d0\nwarning: device 'c8t10d0' onlined, but remains in degraded state\nroot@solaris11-1:~# zpool status mir_pool3\n  pool: mir_pool3\n state: ONLINE\n  scan: resilvered 18K in 0h0m with 0 errors on Sat Dec 14 04:50:03 2013\nconfig:\n(truncated output)\n\n```", "```\nroot@solaris11-1:~# cp -r /root/SFHA601/ /mir_pool3/zfs1/\nroot@solaris11-1:~# zpool list mir_pool3\nNAME        SIZE  ALLOC   FREE  CAP  DEDUP  HEALTH  ALTROOT\nmir_pool3  3.97G  2.09G  1.88G  52%  1.00x  ONLINE  -\nroot@solaris11-1:~# shutdown –y –g0\n\n```", "```\nroot@solaris11-1:~# zpool status mir_pool3\n  pool: mir_pool3\n state: DEGRADED\nstatus: One or more devices are unavailable in response to persistent errors.\n  Sufficient replicas exist for the pool to continue functioning in a\n  degraded state.\naction: Determine if the device needs to be replaced, and clear the errors\n  using 'zpool clear' or 'fmadm repaired', or replace the device\n  with 'zpool replace'.\n  Run 'zpool status -v' to see device specific details.\n  scan: resilvered 18K in 0h0m with 0 errors on Sat Dec 14 04:50:03 2013\nconfig:\n\n   NAME         STATE     READ WRITE CKSUM\n   mir_pool3    DEGRADED     0     0     0\n     mirror-0   DEGRADED     0     0     0\n       c8t8d0   ONLINE       0     0     0\n       c8t9d0   ONLINE       0     0     0\n       c8t10d0  UNAVAIL      0     0     0\n\nerrors: No known data errors\nroot@solaris11-1:~#\n```", "```\nroot@solaris11-1:~# zpool replace mir_pool3 c8t10d0\nroot@solaris11-1:~# zpool status mir_pool3 \n  pool: mir_pool3\n state: DEGRADED\nstatus: One or more devices is currently being resilvered.  The pool will\n  scan: resilver in progress since Sat Dec 14 05:56:15 2013\n    139M scanned out of 2.09G at 3.98M/s, 0h8m to go\n    136M resilvered, 6.51% done\nconfig:\n\n   NAME               STATE     READ WRITE CKSUM\n   mir_pool3          DEGRADED     0     0     0\n     mirror-0         DEGRADED     0     0     0\n       c8t8d0         ONLINE       0     0     0\n       c8t9d0         ONLINE       0     0     0\n       replacing-2    DEGRADED     0     0     0\n         c8t10d0/old  UNAVAIL      0     0     0\n         c8t10d0      DEGRADED     0     0     0  (resilvering)\n\nerrors: No known data errors\nroot@solaris11-1:~#\n```", "```\nroot@solaris11-1:~# zpool replace mir_pool3 c8t9d0 c8t3d0\nroot@solaris11-1:~# zpool status mir_pool3\n  pool: mir_pool3\n state: DEGRADED\nstatus: One or more devices is currently being resilvered.  The pool will\n  continue to function in a degraded state.\n    576M scanned out of 2.09G at 4.36M/s, 0h5m to go\n    572M resilvered, 26.92% done\nconfig:\n\n   NAME             STATE     READ WRITE CKSUM\n   mir_pool3        DEGRADED     0     0     0\n     mirror-0       DEGRADED     0     0     0\n       c8t8d0       ONLINE       0     0     0\n       replacing-1  DEGRADED     0     0     0\n         c8t9d0     ONLINE       0     0     0\n         c8t3d0     DEGRADED     0     0     0  (resilvering)\n       c8t10d0      ONLINE       0     0     0\n```", "```\nroot@solaris11-1:~# zpool create mir_pool4 mirror c8t3d0 c8t4d0\n\n```", "```\nroot@solaris11-1:~# zpool add mir_pool4 spare c8t5d0 c8t6d0\nroot@solaris11-1:~# zpool status mir_pool4\n  pool: mir_pool4\n state: ONLINE\n  scan: none requested\nconfig:\n\n   NAME        STATE     READ WRITE CKSUM\n   mir_pool4   ONLINE       0     0     0\n     mirror-0  ONLINE       0     0     0\n       c8t3d0  ONLINE       0     0     0\n       c8t4d0  ONLINE       0     0     0\n   spares\n     c8t5d0    AVAIL   \n     c8t6d0    AVAIL   \n```", "```\nroot@solaris11-1:~# zpool status mir_pool4\n  pool: mir_pool4\n state: DEGRADED\nstatus: One or more devices are unavailable in response to persistent errors.\n  Sufficient replicas exist for the pool to continue functioning in a\n  degraded state.\naction: Determine if the device needs to be replaced, and clear the errors\n  using 'zpool clear' or 'fmadm repaired', or replace the device\n  with 'zpool replace'.\n  Run 'zpool status -v' to see device specific details.\n  scan: resilvered 94K in 0h0m with 0 errors on Sat Dec 14 18:00:26 2013\nconfig:\n\n   NAME          STATE     READ WRITE CKSUM\n   mir_pool4     DEGRADED     0     0     0\n     mirror-0    DEGRADED     0     0     0\n       spare-0   DEGRADED     0     0     0\n         c8t3d0  UNAVAIL      0     0     0\n         c8t5d0  ONLINE       0     0     0\n       c8t4d0    ONLINE       0     0     0\n   spares\n     c8t5d0      INUSE   \n     c8t6d0      AVAIL   \n\nerrors: No known data errors\n```", "```\nroot@solaris11-1:~# zpool status mir_pool4\n  pool: mir_pool4\n state: ONLINE\n  scan: resilvered 27K in 0h0m with 0 errors on Sat Dec 14 16:49:29 2013\nconfig:\n\n   NAME          STATE     READ WRITE CKSUM\n   mir_pool4     ONLINE       0     0     0\n     mirror-0    ONLINE       0     0     0\n       spare-0   ONLINE       0     0     0\n         c8t3d0  ONLINE       0     0     0\n         c8t5d0  ONLINE       0     0     0\n       c8t4d0    ONLINE       0     0     0\n   spares\n     c8t5d0      INUSE   \n     c8t6d0      AVAIL   \n\nerrors: No known data errors\n```", "```\nroot@solaris11-1:~# zpool online mir_pool4 c8t3d0\nroot@solaris11-1:~# zpool status mir_pool4\n  pool: mir_pool4\n state: ONLINE\n  scan: resilvered 27K in 0h0m with 0 errors on Sat Dec 14 16:49:29 2013\nconfig:\n\n   NAME        STATE     READ WRITE CKSUM\n   mir_pool4   ONLINE       0     0     0\n     mirror-0  ONLINE       0     0     0\n       c8t3d0  ONLINE       0     0     0\n       c8t4d0  ONLINE       0     0     0\n   spares\n     c8t5d0    AVAIL   \n     c8t6d0    AVAIL   \n\nerrors: No known data errors\n```", "```\nroot@solaris11-1:~# zpool remove mir_pool4 c8t5d0\nroot@solaris11-1:~# zpool status mir_pool4\n  pool: mir_pool4\n state: ONLINE\n  scan: resilvered 27K in 0h0m with 0 errors on Sat Dec 14 16:49:29 2013\nconfig:\n\n   NAME        STATE     READ WRITE CKSUM\n   mir_pool4   ONLINE       0     0     0\n     mirror-0  ONLINE       0     0     0\n       c8t3d0  ONLINE       0     0     0\n       c8t4d0  ONLINE       0     0     0\n   spares\n     c8t6d0    AVAIL   \n```", "```\nroot@solaris11-1:~# zpool create simple_pool_1 c8t3d0\nroot@solaris11-1:~# zfs create simple_pool_1/zfs1\nroot@solaris11-1:~# cp -r /root/mhvtl-* /root/john* /simple_pool_1/zfs1 \nroot@solaris11-1:~# zpool list simple_pool_1\nNAME            SIZE  ALLOC   FREE  CAP  DEDUP  HEALTH  ALTROOT\nsimple_pool_1  3.97G  63.1M  3.91G   1%  1.00x  ONLINE  -\n\nroot@solaris11-1:~# zfs snapshot simple_pool_1/zfs1@today\nroot@solaris11-1:~# zfs snapshot simple_pool_1/zfs1@today_2\nroot@solaris11-1:~# zpool set listsnapshots=on simple_pool_1\nroot@solaris11-1:~# zfs list -r simple_pool_1\nNAME                         USED  AVAIL  REFER  MOUNTPOINT\nsimple_pool_1               63.2M  3.85G    32K  /simple_pool_1\nsimple_pool_1/zfs1          63.1M  3.85G  63.1M  /simple_pool_1/zfs1\nsimple_pool_1/zfs1@today        0      -  63.1M  -\nsimple_pool_1/zfs1@today_2      0      -  63.1M  -\n```", "```\nroot@solaris11-1:~# zfs destroy simple_pool_1/zfs1@today_2\n\n```", "```\nroot@solaris11-1:~# zfs rename simple_pool_1/zfs1@today simple_pool_1/zfs1@today_2\n\n```", "```\nroot@solaris11-1:~# zfs list -r simple_pool_1\nNAME                         USED  AVAIL  REFER  MOUNTPOINT\nsimple_pool_1               63.1M  3.85G    32K  /simple_pool_1\nsimple_pool_1/zfs1          63.1M  3.85G  63.1M  /simple_pool_1/zfs1\nsimple_pool_1/zfs1@today_2      0      -  63.1M  -\nroot@solaris11-1:~# zfs hold keep simple_pool_1/zfs1@today_2\n\n```", "```\nroot@solaris11-1:~# zfs holds simple_pool_1/zfs1@today_2\nNAME                        TAG   TIMESTAMP                 \nsimple_pool_1/zfs1@today_2  keep  Sat Dec 14 21:51:26 2013  \nroot@solaris11-1:~# zfs destroy simple_pool_1/zfs1@today_2\ncannot destroy 'simple_pool_1/zfs1@today_2': snapshot is busy\nroot@solaris11-1:~#\n```", "```\nroot@solaris11-1:~# zfs hold –r keep simple_pool_1/zfs1@today_2\n\n```", "```\nroot@solaris11-1:~# zfs get userrefs simple_pool_1/zfs1@today_2\nNAME                        PROPERTY  VALUE  SOURCE\nsimple_pool_1/zfs1@today_2  userrefs  1   \nroot@solaris11-1:~# zfs release keep simple_pool_1/zfs1@today_2\nroot@solaris11-1:~# zfs get userrefs simple_pool_1/zfs1@today_2\nNAME                        PROPERTY  VALUE  SOURCE\nsimple_pool_1/zfs1@today_2  userrefs  0      -\nroot@solaris11-1:~# zfs destroy simple_pool_1/zfs1@today_2\nroot@solaris11-1:~# zfs list -r simple_pool_1             \nNAME                 USED  AVAIL  REFER  MOUNTPOINT\nsimple_pool_1       63.2M  3.85G    32K  /simple_pool_1\nsimple_pool_1/zfs1  63.1M  3.85G  63.1M  /simple_pool_1/zfs1\n```", "```\nroot@solaris11-1:~# zfs list -r simple_pool_1\nNAME                 USED  AVAIL  REFER  MOUNTPOINT\nsimple_pool_1       63.2M  3.85G    32K  /simple_pool_1\nsimple_pool_1/zfs1  63.1M  3.85G  63.1M  /simple_pool_1/zfs1\nroot@solaris11-1:~# zfs snapshot simple_pool_1/zfs1@snap1\nroot@solaris11-1:~# cp /etc/hosts /simple_pool_1/zfs1/\nroot@solaris11-1:~# zfs snapshot simple_pool_1/zfs1@snap2\nroot@solaris11-1:~# zfs list -r simple_pool_1\nNAME                       USED  AVAIL  REFER  MOUNTPOINT\nsimple_pool_1             63.4M  3.84G    32K  /simple_pool_1\nsimple_pool_1/zfs1        63.1M  3.84G  63.1M  /simple_pool_1/zfs1\nsimple_pool_1/zfs1@snap1    32K      -  63.1M  -\nsimple_pool_1/zfs1@snap2      0      -  63.1M  -\n```", "```\nroot@solaris11-1:~# zfs diff simple_pool_1/zfs1@snap1 simple_pool_1/zfs1@snap2\nM  /simple_pool_1/zfs1/\n+  /simple_pool_1/zfs1/hosts\nroot@solaris11-1:~#\n```", "```\nroot@solaris11-1:~# zfs snapshot simple_pool_1/zfs1@snap3\nroot@solaris11-1:~# zfs clone simple_pool_1/zfs1@snap3 simple_pool_1/zfs1_clone1\nroot@solaris11-1:~# zfs list -r simple_pool_1\nNAME                        USED  AVAIL  REFER  MOUNTPOINT\nsimple_pool_1              63.3M  3.84G    33K  /simple_pool_1\nsimple_pool_1/zfs1         63.1M  3.84G  63.1M  /simple_pool_1/zfs1\nsimple_pool_1/zfs1@snap1     32K      -  63.1M  -\nsimple_pool_1/zfs1@snap2       0      -  63.1M  -\nsimple_pool_1/zfs1@snap3       0      -  63.1M  -\nsimple_pool_1/zfs1_clone1    25K  3.84G  63.1M  /simple_pool_1/zfs1_clone1\n```", "```\nroot@solaris11-1:~# zfs get origin simple_pool_1/zfs1_clone1\nNAME                       PROPERTY  VALUE                     SOURCE\nsimple_pool_1/zfs1_clone1  origin    simple_pool_1/zfs1@snap3  -\n```", "```\nroot@solaris11-1:~# zfs promote simple_pool_1/zfs1_clone1\nroot@solaris11-1:~# zfs list -r simple_pool_1\nNAME                              USED  AVAIL  REFER  MOUNTPOINT\nsimple_pool_1                    63.3M  3.84G    33K  /simple_pool_1\nsimple_pool_1/zfs1                   0  3.84G  63.1M  /simple_pool_1/zfs1\nsimple_pool_1/zfs1_clone1        63.1M  3.84G  63.1M  /simple_pool_1/zfs1_clone1\nsimple_pool_1/zfs1_clone1@snap1    32K      -  63.1M  -\nsimple_pool_1/zfs1_clone1@snap2      0      -  63.1M  -\nsimple_pool_1/zfs1_clone1@snap3      0      -  63.1M  -\nroot@solaris11-1:~# zfs get origin simple_pool_1/zfs1_clone1\nNAME                       PROPERTY  VALUE  SOURCE\nsimple_pool_1/zfs1_clone1  origin    -      -\nroot@solaris11-1:~#\n```", "```\nroot@solaris11-1:~# format\nAVAILABLE DISK SELECTIONS:\n       0\\. c8t0d0 <VBOX-HARDDISK-1.0-80.00GB>\n          /pci@0,0/pci1000,8000@14/sd@0,0\n       1\\. c8t1d0 <VBOX-HARDDISK-1.0-16.00GB>\n          /pci@0,0/pci1000,8000@14/sd@1,0\n       2\\. c8t2d0 <VBOX-HARDDISK-1.0-4.00GB>\n          /pci@0,0/pci1000,8000@14/sd@2,0\n       3\\. c8t3d0 <VBOX-HARDDISK-1.0-4.00GB>\n          /pci@0,0/pci1000,8000@14/sd@3,0\n       4\\. c8t4d0 <VBOX-HARDDISK-1.0-4.00GB>\n          /pci@0,0/pci1000,8000@14/sd@4,0\n       5\\. c8t5d0 <VBOX-HARDDISK-1.0-4.00GB>\n          /pci@0,0/pci1000,8000@14/sd@5,0\n       6\\. c8t6d0 <VBOX-HARDDISK-1.0-4.00GB>\n          /pci@0,0/pci1000,8000@14/sd@6,0\n       7\\. c8t8d0 <VBOX-HARDDISK-1.0-4.00GB>\n          /pci@0,0/pci1000,8000@14/sd@8,0\n       8\\. c8t9d0 <VBOX-HARDDISK-1.0-4.00GB>\n          /pci@0,0/pci1000,8000@14/sd@9,0\n       9\\. c8t10d0 <VBOX-HARDDISK-1.0-4.00GB>\n          /pci@0,0/pci1000,8000@14/sd@a,0\n      10\\. c8t11d0 <VBOX-HARDDISK-1.0-4.00GB>\n          /pci@0,0/pci1000,8000@14/sd@b,0\n      11\\. c8t12d0 <VBOX-HARDDISK-1.0 cyl 2045 alt 2 hd 128 sec 32>\n          /pci@0,0/pci1000,8000@14/sd@c,0\n   root@solaris11-1:~# zpool status | grep d0\n    c8t2d0  ONLINE       0     0     0\n    c8t1d0  ONLINE       0     0     0\n    c8t0d0  ONLINE       0     0     0\n```", "```\nroot@solaris11-1:~# pkg search storage-server\nINDEX       ACTION VALUE                                PACKAGE\nincorporate depend pkg:/storage-server@0.1,5.11-0.133   pkg:/consolidation/osnet/osnet-incorporation@0.5.11-0.175.1.0.0.24.2\npkg.fmri    set    solaris/storage-server               pkg:/storage-server@0.1-0.133\npkg.fmri    set    solaris/storage/storage-server       pkg:/storage/storage-server@0.1-0.173.0.0.0.1.0\npkg.fmri    set    solaris/group/feature/storage-server pkg:/group/feature/storage-server@0.5.11-0.175.1.0.0.24.2\nroot@solaris11-1:~# pkg install storage-server\nroot@solaris11-1:~# pkg list storage-server\nNAME (PUBLISHER)                       VERSION                    IFO\ngroup/feature/storage-server           0.5.11-0.175.1.0.0.24.2    i—\nroot@solaris11-1:~# pkg info storage-server\n\n```", "```\nroot@solaris11-1:~# svcs -a | grep stmf\ndisabled        09:11:13 svc:/system/stmf:default\nroot@solaris11-1:~# svcadm enable svc:/system/stmf:default\nroot@solaris11-1:~# svcs -a | grep stmf\nonline          09:14:19 svc:/system/stmf:default\n```", "```\nroot@solaris11-1:~# zpool create mypool_iscsi c8t5d0\n\n```", "```\nroot@solaris11-1:~# zfs create -V 2Gb mypool_iscsi/myvolume\nroot@solaris11-1:~# zfs list mypool_iscsi/myvolume\nNAME                    USED  AVAIL  REFER  MOUNTPOINT\nmypool_iscsi/myvolume  2.06G  3.91G    16K  -\n```", "```\nroot@solaris11-1:~# stmfadm create-lu /dev/zvol/rdsk/mypool_iscsi/myvolume\nLogical unit created: 600144F0991C8E00000052ADD63B0001\n\nroot@solaris11-1:~# stmfadm list-lu\nLU Name: 600144F0991C8E00000052ADD63B0001\n```", "```\nroot@solaris11-1:~# stmfadm add-view 600144F0991C8E00000052ADD63B0001\nroot@solaris11-1:~# stmfadm list-view -l 600144F0991C8E00000052ADD63B0001\nView Entry: 0\n    Host group   : All\n    Target Group : All\n    LUN          : Auto\n```", "```\nroot@solaris11-1:~# svcs -a | grep target\ndisabled       16:48:34 svc:/system/fcoe_target:default\ndisabled       16:48:34 svc:/system/ibsrp/target:default\ndisabled       14:30:51 svc:/network/iscsi/target:default\nroot@solaris11-1:~# svcadm enable svc:/network/iscsi/target:default\nroot@solaris11-1:~# svcs svc:/network/iscsi/target:default\nSTATE          STIME    FMRI\nonline         14:31:47 svc:/network/iscsi/target:default\n```", "```\nroot@solaris11-1:~# svcs -l svc:/network/iscsi/target:default\nfmri         svc:/network/iscsi/target:default\nname         iscsi target\nenabled      true\nstate        online\nnext_state   none\nstate_time   Sun Dec 15 14:31:47 2013\nlogfile      /var/svc/log/network-iscsi-target:default.log\nrestarter    svc:/system/svc/restarter:default\nmanifest     /lib/svc/manifest/network/iscsi/iscsi-target.xml\ndependency   require_any/error svc:/milestone/network (online)\ndependency   require_all/none svc:/system/stmf:default (online)\n```", "```\nroot@solaris11-1:~# itadm create-target\nTarget iqn.1986-03.com.sun:02:51d113f3-39a0-cead-e602-ea9aafdaad3d successfully created\nroot@solaris11-1:~# itadm list-target -v\nTARGET NAME                                                  STATE    SESSIONS \niqn.1986-03.com.sun:02:51d113f3-39a0-cead-e602-ea9aafdaad3d  online   0        \n  alias:                -\n  auth:                 none (defaults)\n  targetchapuser:       -\n  targetchapsecret:     unset\n  tpg-tags:             default\n```", "```\nroot@solaris11-1:~# itadm list-defaults\niSCSI Target Default Properties:\nalias:           <none>\nauth:            <none>\nradiusserver:    <none>\nradiussecret:    unset\nisns:            disabled\nisnsserver:      <none>\n```", "```\nroot@solaris11-1:~# ssh solaris11-2\nPassword: \nLast login: Sun Dec 15 14:13:08 2013\nOracle Corporation      SunOS 5.11      11.1    September 2012\nroot@solaris11-2:~# svcs -a | grep initiator\nonline         12:10:22 svc:/system/fcoe_initiator:default\nonline         12:10:25 svc:/network/iscsi/initiator:default\nroot@solaris11-2:~# svcs -l svc:/network/iscsi/initiator:default\nfmri         svc:/network/iscsi/initiator:default\nname         iSCSI initiator daemon\nenabled      true\nstate        online\nnext_state   none\nstate_time   Sun Dec 15 12:10:25 2013\nlogfile      /var/svc/log/network-iscsi-initiator:default.log\nrestarter    svc:/system/svc/restarter:default\ncontract_id  89 \nmanifest     /lib/svc/manifest/network/iscsi/iscsi-initiator.xml\ndependency   require_any/error svc:/milestone/network (online)\ndependency   require_all/none svc:/network/service (online)\ndependency   require_any/error svc:/network/loopback (online)\n```", "```\nroot@solaris11-2:~# iscsiadm list initiator-node \nInitiator node name: iqn.1986-03.com.sun:01:e00000000000.5250ac8e\nInitiator node alias: solaris11\n        Login Parameters (Default/Configured):\n                Header Digest: NONE/-\n                Data Digest: NONE/-\n                Max Connections: 65535/-\n        Authentication Type: NONE\n        RADIUS Server: NONE\n        RADIUS Access: disabled\n        Tunable Parameters (Default/Configured):\n                Session Login Response Time: 60/-\n                Maximum Connection Retry Time: 180/-\n                Login Retry Time Interval: 60/-\n        Configured Sessions: 1\n```", "```\nroot@solaris11-2:~# iscsiadm list discovery\nDiscovery:\n        Static: disabled\n        Send Targets: disabled\n        iSNS: disabled\nroot@solaris11-2:~# iscsiadm modify discovery --sendtargets enable \nroot@solaris11-2:~# iscsiadm list discovery\nDiscovery:\n        Static: disabled\n        Send Targets: enabled\n        iSNS: disabled\n```", "```\nroot@solaris11-2:~# iscsiadm add discovery-address 192.168.1.106\nroot@solaris11-2:~# iscsiadm list discovery-address\nDiscovery Address: 192.168.1.106:3260\nroot@solaris11-2:~# iscsiadm list target\nTarget: iqn.1986-03.com.sun:02:51d113f3-39a0-cead-e602-ea9aafdaad3d\n  Alias: -\n  TPGT: 1\n  ISID: 4000002a0000\n  Connections: 1\n```", "```\nroot@solaris11-2:~# devfsadm\nroot@solaris11-2:~# format\nSearching for disks...done\n\nAVAILABLE DISK SELECTIONS:\n       0\\. c0t600144F0991C8E00000052ADD63B0001d0 <SUN-COMSTAR-1.0 cyl 1022 alt 2 hd 128 sec 32>\n          /scsi_vhci/disk@g600144f0991c8e00000052add63b0001\n       1\\. c8t0d0 <VBOX-HARDDISK-1.0-80.00GB>\n          /pci@0,0/pci1000,8000@14/sd@0,0\n\n(truncated output)\n\n```", "```\nroot@solaris11-2:~# zpool create new_iscsi c0t600144F0991C8E00000052ADD63B0001d0\nroot@solaris11-2:~# zfs create new_iscsi/fs_iscsi\nroot@solaris11-2:~# zfs list -r new_iscsi\nNAME                USED  AVAIL  REFER  MOUNTPOINT\nnew_iscsi           124K  1.95G    32K  /new_iscsi\nnew_iscsi/fs_iscsi   31K  1.95G    31K  /new_iscsi/fs_iscsi\nroot@solaris11-2:~# zpool status new_iscsi\n  pool: new_iscsi\n state: ONLINE\n  scan: none requested\nconfig:\n\n  NAME                                     STATE     READ WRITE CKSUM\n  new_iscsi                                ONLINE       0     0     0\n    c0t600144F0991C8E00000052ADD63B0001d0  ONLINE       0     0     0\n```", "```\nroot@solaris11-1:~# itadm list-target\nTARGET NAME                                                  STATE    SESSIONS \niqn.1986-03.com.sun:02:51d113f3-39a0-cead-e602-ea9aafdaad3d  online   1    \nroot@solaris11-1:~# itadm list-target iqn.1986-03.com.sun:02:51d113f3-39a0-cead-e602-ea9aafdaad3d –v\nTARGET NAME                                                  STATE    SESSIONS \niqn.1986-03.com.sun:02:51d113f3-39a0-cead-e602-ea9aafdaad3d  online   1        \n  alias:                -\n  auth:                 none (defaults)\n  targetchapuser:       -\n  targetchapsecret:     unset\n  tpg-tags:             default\n```", "```\nroot@solaris11-1:~# itadm modify-target -a chap iqn.1986-03.com.sun:02:51d113f3-39a0-cead-e602-ea9aafdaad3d\nTarget iqn.1986-03.com.sun:02:51d113f3-39a0-cead-e602-ea9aafdaad3d successfully modified\n```", "```\nroot@solaris11-1:~# itadm modify-target -s iqn.1986-03.com.sun:02:51d113f3-39a0-cead-e602-ea9aafdaad3d\nEnter CHAP secret: packt1234567\nRe-enter secret: packt1234567\nTarget iqn.1986-03.com.sun:02:51d113f3-39a0-cead-e602-ea9aafdaad3d successfully modified\n```", "```\nroot@solaris11-2:~# iscsiadm list initiator-node\nInitiator node name: iqn.1986-03.com.sun:01:e00000000000.5250ac8e\nInitiator node alias: solaris11\n        Login Parameters (Default/Configured):\n                Header Digest: NONE/-\n                Data Digest: NONE/-\n                Max Connections: 65535/-\n        Authentication Type: NONE\n        RADIUS Server: NONE\n        RADIUS Access: disabled\n        Tunable Parameters (Default/Configured):\n                Session Login Response Time: 60/-\n                Maximum Connection Retry Time: 180/-\n                Login Retry Time Interval: 60/-\n        Configured Sessions: 1\n```", "```\nroot@solaris11-2:~# iscsiadm list discovery\nDiscovery:\n  Static: disabled\n  Send Targets: enabled\n  iSNS: disabled\n```", "```\nroot@solaris11-2:~# iscsiadm modify initiator-node --CHAP-secret\nEnter secret: packt1234567\nRe-enter secret: packt1234567\nroot@solaris11-2:~# iscsiadm modify initiator-node --authentication CHAP\n\n```", "```\nroot@solaris11-2:~# iscsiadm list initiator-node\nInitiator node name: iqn.1986-03.com.sun:01:e00000000000.5250ac8e\nInitiator node alias: solaris11\n        Login Parameters (Default/Configured):\n                Header Digest: NONE/-\n                Data Digest: NONE/-\n                Max Connections: 65535/-\n        Authentication Type: CHAP\n                CHAP Name: iqn.1986-03.com.sun:01:e00000000000.5250ac8e\n        RADIUS Server: NONE\n        RADIUS Access: disabled\n        Tunable Parameters (Default/Configured):\n                Session Login Response Time: 60/-\n                Maximum Connection Retry Time: 180/-\n                Login Retry Time Interval: 60/-\n        Configured Sessions: 1\n\nroot@solaris11-2:~# iscsiadm list discovery-address\nDiscovery Address: 192.168.1.106:3260\nroot@solaris11-2:~# iscsiadm list target \nTarget: iqn.1986-03.com.sun:02:51d113f3-39a0-cead-e602-ea9aafdaad3d\n        Alias: -\n        TPGT: 1\n        ISID: 4000002a0000\n        Connections: 1\n```", "```\nroot@solaris11-2:~# devfsadm\nroot@solaris11-2:~# format\nSearching for disks...done\n\nAVAILABLE DISK SELECTIONS:\n       0\\. c0t600144F0991C8E00000052ADD63B0001d0 <SUN-COMSTAR-1.0-2.00GB>\n          /scsi_vhci/disk@g600144f0991c8e00000052add63b0001\n       1\\. c8t0d0 <VBOX-HARDDISK-1.0-80.00GB>\n          /pci@0,0/pci1000,8000@14/sd@0,0\n(truncated output)\n\n```", "```\nroot@solaris11-2:~# zpool create new_iscsi_chap c0t600144F0991C8E00000052ADD63B0001d0\nroot@solaris11-2:~# zfs create new_iscsi_chap/zfs1\nroot@solaris11-2:~# zfs list -r new_iscsi_chap \nNAME                 USED  AVAIL  REFER  MOUNTPOINT\nnew_iscsi_chap       124K  1.95G    32K  /new_iscsi_chap\nnew_iscsi_chap/zfs1   31K  1.95G    31K  /new_iscsi_chap/zfs1\nroot@solaris11-2:~# zpool list new_iscsi_chap\nNAME             SIZE  ALLOC   FREE  CAP  DEDUP  HEALTH  ALTROOT\nnew_iscsi_chap  1.98G   124K  1.98G   0%  1.00x  ONLINE  -\nroot@solaris11-2:~# zpool status new_iscsi_chap\n  pool: new_iscsi_chap\n state: ONLINE\n  scan: none requested\nconfig:\n\n  NAME                                   STATE     READ WRITE CKSUM\n  new_iscsi_chap                         ONLINE       0     0     0\n  c0t600144F0991C8E00000052ADD63B0001d0  ONLINE       0     0     0\n```", "```\nroot@solaris11-2:~# zpool destroy new_iscsi_chap\nroot@solaris11-2:~# iscsiadm list initiator-node\nInitiator node name: iqn.1986-03.com.sun:01:e00000000000.5250ac8e\nInitiator node alias: solaris11\n        Login Parameters (Default/Configured):\n                Header Digest: NONE/-\n                Data Digest: NONE/-\n                Max Connections: 65535/-\n        Authentication Type: CHAP\n                CHAP Name: iqn.1986-03.com.sun:01:e00000000000.5250ac8e\n        RADIUS Server: NONE\n        RADIUS Access: disabled\n        Tunable Parameters (Default/Configured):\n                Session Login Response Time: 60/-\n                Maximum Connection Retry Time: 180/-\n                Login Retry Time Interval: 60/-\n        Configured Sessions: 1\n\nroot@solaris11-2:~# iscsiadm remove discovery-address 192.168.1.106\nroot@solaris11-2:~# iscsiadm modify initiator-node --authentication none\nroot@solaris11-2:~# iscsiadm list initiator-node\nInitiator node name: iqn.1986-03.com.sun:01:e00000000000.5250ac8e\nInitiator node alias: solaris11\n        Login Parameters (Default/Configured):\n                Header Digest: NONE/-\n                Data Digest: NONE/-\n                Max Connections: 65535/-\n        Authentication Type: NONE\n        RADIUS Server: NONE\n        RADIUS Access: disabled\n        Tunable Parameters (Default/Configured):\n                Session Login Response Time: 60/-\n                Maximum Connection Retry Time: 180/-\n                Login Retry Time Interval: 60/-\n        Configured Sessions: 1\n```", "```\nroot@solaris11-2:~# devfsadm\nroot@solaris11-2:~# format\nSearching for disks...done\n\nAVAILABLE DISK SELECTIONS:\n       0\\. c8t0d0 <VBOX-HARDDISK-1.0-80.00GB>\n          /pci@0,0/pci1000,8000@14/sd@0,0\n\n(truncated output)\n\n```", "```\nroot@solaris11-1:~# stmfadm list-lu\nLU Name: 600144F0991C8E00000052ADD63B0001\n```", "```\nroot@solaris11-1:~# stmfadm delete-lu 600144F0991C8E00000052ADD63B0001\n\n```", "```\nroot@solaris11-1:~# itadm list-target -v\nTARGET NAME                                                  STATE    SESSIONS \niqn.1986-03.com.sun:02:51d113f3-39a0-cead-e602-ea9aafdaad3d  online   0        \n  alias:                -\n  auth:                 chap \n  targetchapuser:       -\n  targetchapsecret:     set\n  tpg-tags:             default\n```", "```\nroot@solaris11-1:~# itadm delete-target -f iqn.1986-03.com.sun:02:51d113f3-39a0-cead-e602-ea9aafdaad3d\nroot@solaris11-1:~# itadm list-target –v\n\n```", "```\nroot@solaris11-1:~# zpool destroy mypool_iscsi\n\n```", "```\nroot@solaris11-1:~# zpool status rpool\n  pool: rpool\n state: ONLINE\n  scan: none requested\nconfig:\n\n  NAME      STATE     READ WRITE CKSUM\n  rpool     ONLINE       0     0     0\n    c8t0d0  ONLINE       0     0     0\n```", "```\nroot@solaris11-1:~# format\nSearching for disks...done\n\nAVAILABLE DISK SELECTIONS:\n       0\\. c8t0d0 <VBOX-HARDDISK-1.0-80.00GB>\n          /pci@0,0/pci1000,8000@14/sd@0,0\n       1\\. c8t1d0 <VBOX-HARDDISK-1.0-16.00GB>\n          /pci@0,0/pci1000,8000@14/sd@1,0\n       2\\. c8t2d0 <VBOX-HARDDISK-1.0-4.00GB>\n          /pci@0,0/pci1000,8000@14/sd@2,0\n       3\\. c8t3d0 <VBOX-HARDDISK-1.0 cyl 10441 alt 2 hd 255 sec 63>\n          /pci@0,0/pci1000,8000@14/sd@3,0\n…..(truncated)\n\nSpecify disk (enter its number): 3\nselecting c8t3d0\n[disk formatted]\nNo Solaris fdisk partition found.\n\nformat> fdisk\nNo fdisk table exists. The default partition for the disk is:\n\n  a 100% \"SOLARIS System\" partition\n\nType \"y\" to accept the default partition,  otherwise type \"n\" to edit the\n partition table.\ny\nformat> p\npartition> p\n\nCurrent partition table (default):\nTotal disk cylinders available: 10440 + 2 (reserved cylinders)\n\nPart      Tag   Flag    Cylinders    Size            Blocks\n  0 unassigned   wm     0            0         (0/0/0)             0\n  1 unassigned   wm     0            0         (0/0/0)             0\n  2     backup   wu     0 - 10439   79.97GB    (10440/0/0) 167718600\n\n(truncated output)\npartition> q\n\nroot@solaris11-1:~#\n```", "```\nroot@solaris11-1:~# zpool attach rpool c8t0d0 c8t3d0\n\n```", "```\nroot@solaris11-1:~# zpool status rpool\n  pool: rpool\n state: DEGRADED\nstatus: One or more devices is currently being resilvered.  The pool will\n  continue to function in a degraded state.\naction: Wait for the resilver to complete.\n  Run 'zpool status -v' to see device specific details.\n  scan: resilver in progress since Tue Dec 10 02:32:22 2013\n    4.19M scanned out of 38.2G at 82.0K/s, 30h42m to go\n    4.15M resilvered, 0.02% done\nconfig:\n\n  NAME        STATE     READ WRITE CKSUM\n  rpool       DEGRADED     0     0     0\n    mirror-0  DEGRADED     0     0     0\n      c8t0d0  ONLINE       0     0     0\n      c8t3d0  DEGRADED     0     0     0  (resilvering)\n\nerrors: No known data errors\n```", "```\nroot@solaris11-1:~# while true\n> do\n> zpool status | grep done\n> sleep 2\n> done\n    2.15G resilvered, 5.54% done\n    2.19G resilvered, 5.70% done\n\n…………\n(truncated output)\n………..\n    38.1G resilvered, 99.95% done\n    38.2G resilvered, 100.00% done\n```", "```\nroot@solaris11-1:~# zpool status rpool\n  pool: rpool\n state: ONLINE\n  scan: resilvered 38.2G in 1h59m with 0 errors on Mon Dec 16 08:37:11 2013\nconfig:\n\n  NAME        STATE     READ WRITE CKSUM\n  rpool       ONLINE       0     0     0\n    mirror-0  ONLINE       0     0     0\n      c8t0d0  ONLINE       0     0     0\n      c8t3d0  ONLINE       0     0     0\n```", "```\nroot@solaris11-1:~# pkg install shadow-migration\n\n```", "```\nroot@solaris11-1:~# svcs -a | grep shadow\ndisabled       18:35:00 svc:/system/filesystem/shadowd:default\n```", "```\nroot@solaris11-1:~# svcadm enable\nsvc:/system/filesystem/shadowd:default\n```", "```\nroot@solaris11-2:~# zpool create shadowing_pool c8t3d0\nroot@solaris11-2:~# zfs create shadowing_pool/origin_filesystem\nroot@solaris11-2:~# zfs list -r shadowing_pool\nNAME                              USED  AVAIL  REFER  MOUNTPOINT\nshadowing_pool                    124K  3.91G    32K  /shadowing_pool\nshadowing_pool/origin_filesystem   31K  3.91G    31K  /shadowing_pool/origin_filesystem\n```", "```\nroot@solaris11-2:~# cp -r * /shadowing_pool/origin_filesystem/\n\n```", "```\nroot@solaris11-2:~# share -F nfs -o ro /shadowing_pool/origin_filesystem \nroot@solaris11-2:~# share\nshadowing_pool_origin_filesystem  /shadowing_pool/origin_filesystem  nfs  sec=sys,ro\n```", "```\nroot@solaris11-1:~# dfshares solaris11-2\nRESOURCE                                   SERVER ACCESS    TRANSPORT\nsolaris11-2:/shadowing_pool/origin_filesystem  solaris11-2  -\n```", "```\nroot@solaris11-1:~# zpool create shadowed_pool c8t3d0\nroot@solaris11-1:~# zfs create -o shadow=nfs://solaris11-2/shadowing_pool/origin_filesystem shadowed_pool/shad_filesystem\n\n```", "```\nroot@solaris11-1:~/Desktop# shadowstat\n                               EST\n                        BYTES  BYTES    ELAPSED\nDATASET                        XFRD    LEFT  ERRORS  TIME\nshadowed_pool/shad_filesystem   -       -     -      00:00:13\nshadowed_pool/shad_filesystem   -       -     -      00:00:23\nshadowed_pool/shad_filesystem   -       -     -      00:00:33\nshadowed_pool/shad_filesystem   -       -     -      00:00:43\nshadowed_pool/shad_filesystem   -       -     -      00:00:53\nshadowed_pool/shad_filesystem   -       -     -      00:01:03\n(truncated output)\nshadowed_pool/shad_filesystem   -       -     -      00:07:33\nshadowed_pool/shad_filesystem   -       -     -      00:07:43\nshadowed_pool/shad_filesystem   -       -     -      00:07:53\nshadowed_pool/shad_filesystem   1.57G   -     -      00:08:03\nNo migrations in progress\n```", "```\nroot@solaris11-1:~/Desktop# zfs list -r shadowed_pool \nNAME                            USED  AVAIL  REFER  MOUNTPOINT\nshadowed_pool                  1.58G  2.33G    32K  /shadowed_pool\nshadowed_pool/shad_filesystem  1.58G  2.33G  1.58G  /shadowed_pool/shad_filesystem\nroot@solaris11-1:~/Desktop# zfs get -r shadow shadowed_pool/shad_filesystem\nNAME                           PROPERTY  VALUE  SOURCE\nshadowed_pool/shad_filesystem  shadow    none   -\n```", "```\nroot@solaris11-1:~# zfs create rpool/shad_source\nroot@solaris11-1:~# cp /root/kali-linux-1.0.5-amd64.iso /root/john* /root/mh* /rpool/shad_source/\nroot@solaris11-1:~# zfs set readonly=on rpool/shad_source\nroot@solaris11-1:~# zfs create -o shadow=file:///rpool/shad_source rpool/shad_target\nroot@solaris11-1:~# shadowstat\n                              EST\n        BYTES                 BYTES       ELAPSED\nDATASET                       XFRD  LEFT  ERRORS  TIME\nrpool/shad_target               -      -      -  00:00:08\nrpool/shad_target               -      -      -  00:00:18\nrpool/shad_target               -      -      -  00:00:28\nrpool/shad_target               -      -      -  00:00:38\nrpool/shad_target               -      -      -  00:00:48\nrpool/shad_target               -      -      -  00:00:58\nrpool/shad_target               -      -      -  00:01:08\nrpool/shad_target               -      -      -  00:01:18\nrpool/shad_target               -      -      -  00:01:28\nrpool/shad_target               -      -      -  00:01:38\nrpool/shad_target               -      -      -  00:01:48\nrpool/shad_target               -      -      -  00:01:58\nrpool/shad_target               -      -      -  00:02:08\nrpool/shad_target               -      -      -  00:02:18\nrpool/shad_target               -      -      -  00:02:28\nrpool/shad_target               1.58G  2.51G  -  00:02:38\nrpool/shad_target               1.59G  150M   -  00:02:48\nrpool/shad_target               1.59G  8E     -  00:02:58\nNo migrations in progress\n```", "```\nroot@solaris11-1:~# zfs get shadow rpool/shad_source\nNAME               PROPERTY  VALUE  SOURCE\nrpool/shad_source  shadow    none   -\nroot@solaris11-1:~# zfs set readonly=off rpool/shad_source\n\n```", "```\nroot@solaris11-1:~# pkg install service/file-system/smb\n\n```", "```\nroot@solaris11-1:~# zpool create cifs_pool c8t4d0\nroot@solaris11-1:~# zfs create cifs_pool/zfs_cifs_1\nroot@solaris11-1:~# zfs create cifs_pool/zfs_cifs_2\nroot@solaris11-1:~# zfs list -r cifs_pool\nNAME                  USED  AVAIL  REFER  MOUNTPOINT\ncifs_pool             162K  3.91G    33K  /cifs_pool\ncifs_pool/zfs_cifs_1   31K  3.91G    31K  /cifs_pool/zfs_cifs_1\ncifs_pool/zfs_cifs_2   31K  3.91G    31K  /cifs_pool/zfs_cifs_2\n```", "```\nroot@solaris11-1:~# zfs set nbmand=on cifs_pool/zfs_cifs_1\nroot@solaris11-1:~# zfs set nbmand=on cifs_pool/zfs_cifs_2\n\n```", "```\nroot@solaris11-1:~# zfs set share=name=zfs_cifs_1,path=/cifs_pool/zfs_cifs_1,prot=smb,csc=auto cifs_pool/zfs_cifs_1\nname=zfs_cifs_1,path=/cifs_pool/zfs_cifs_1,prot=smb,csc=auto\nroot@solaris11-1:~# zfs set share=name=zfs_cifs_2,path=/cifs_pool/zfs_cifs_2,prot=smb,csc=auto cifs_pool/zfs_cifs_2\nname=zfs_cifs_2,path=/cifs_pool/zfs_cifs_2,prot=smb,csc=auto\n```", "```\nroot@solaris11-1:~# zfs set sharesmb=on cifs_pool/zfs_cifs_1\nroot@solaris11-1:~# zfs set sharesmb=on cifs_pool/zfs_cifs_2\nroot@solaris11-1:~# zfs get sharesmb  cifs_pool/zfs_cifs_1\nNAME                  PROPERTY   VALUE  SOURCE\ncifs_pool/zfs_cifs_1  share.smb  on     local\nroot@solaris11-1:~# zfs get sharesmb  cifs_pool/zfs_cifs_2\nNAME                  PROPERTY   VALUE  SOURCE\ncifs_pool/zfs_cifs_2  share.smb  on     local\n```", "```\nroot@solaris11-1:~# svcs -a | grep smb/server\ndisabled          7:13:51 svc:/network/smb/server:default\n```", "```\nroot@solaris11-1:~# svcadm enable -r smb/server\nroot@solaris11-1:~# svcs -a | grep smb       \nonline          7:12:50 svc:/network/smb:default\nonline          7:13:47 svc:/network/smb/client:default\nonline          7:13:51 svc:/network/smb/server:default\n```", "```\nroot@solaris11-1:~# zfs get share\nNAME                                        PROPERTY  VALUE  SOURCE\ncifs_pool/zfs_cifs_1                        share     name=zfs_cifs_1,path=/cifs_pool/zfs_cifs_1,prot=smb,csc=auto  local\ncifs_pool/zfs_cifs_2                        share     name=zfs_cifs_2,path=/cifs_pool/zfs_cifs_2,prot=smb,csc=auto  local\n\nroot@solaris11-1:~# share\nIPC$    smb  -  Remote IPC\nc$  /var/smb/cvol  smb  -  Default Share\nzfs_cifs_1  /cifs_pool/zfs_cifs_1  smb  csc=auto\nzfs_cifs_2  /cifs_pool/zfs_cifs_2  smb  csc=auto\nroot@solaris11-1:~#\n```", "```\nroot@solaris11-1:~# useradd aborges  \nroot@solaris11-1:~# passwd aborges\nNew Password: \nRe-enter new Password: \npasswd: password successfully changed for aborges\n```", "```\nroot@solaris11-1:~# smbadm enable-user aborges\naborges is enabled.\nroot@solaris11-1:~#\n```", "```\nroot@solaris11-1:~# smbadm lookup-user aborges\naborges: S-1-5-21-3351362105-248310137-3301682468-1104\n```", "```\nroot@solaris11-1:~# vi /etc/pam.d/other \n……………………..\n(truncated)\n……………………….\npassword include  pam_authtok_common\npassword required  pam_authtok_store.so.1\npassword required  pam_smb_passwd.so.1  nowarn\n```", "```\nroot@solaris11-2:~# smbadm lookup-server //solaris11-1\nWorkgroup: WORKGROUP\nServer: SOLARIS11-1\nIP address: 192.168.1.119\n```", "```\nroot@solaris11-2:~# smbadm show-shares -u aborges solaris11-1\nEnter password:\nc$                  Default Share\nIPC$                Remote IPC\nzfs_cifs_1          \nzfs_cifs_2          \n4 shares (total=4, read=4)\n```", "```\nroot@solaris11-2:~# mount -o user=aborges -F smbfs //solaris11-1/zfs_cifs_1 /mnt\n\n```", "```\nroot@solaris11-2:~# df -h /mnt\nFilesystem             Size   Used  Available Capacity  Mounted on\n//solaris11-1/zfs_cifs_1\n                       3.9G    40K       3.9G     1%    /mnt\nroot@solaris11-2:~# ls -l /mnt\ntotal 10\n-rwxr-x---+  1 2147483649 2147483650     893 Dec 17 21:04 zfsslower.d\n-rwxr-x---+  1 2147483649 2147483650     956 Dec 17 21:04 zfssnoop.d\n-rwxr-x---+  1 2147483649 2147483650     466 Dec 17 21:04 zioprint.d\n-rwxr-x---+  1 2147483649 2147483650    1255 Dec 17 21:04 ziosnoop.d\n-rwxr-x---+  1 2147483649 2147483650     650 Dec 17 21:04 ziotype.d\n```", "```\nroot@solaris11-2:~# umount /mnt\nroot@solaris11-1:~# zfs set -c share=name=zfs_cifs_1 cifs_pool/zfs_cifs_1\nshare 'zfs_cifs_1' was removed.\nroot@solaris11-1:~# zfs set -c share=name=zfs_cifs_2 cifs_pool/zfs_cifs_2\nshare 'zfs_cifs_2' was removed.\nroot@solaris11-1:~# share\nIPC$            smb     -       Remote IPC\nc$      /var/smb/cvol   smb     -       Default Share\nroot@solaris11-1:~# zfs get share\nroot@solaris11-1:~#\n```", "```\nroot@solaris11-1:~# zpool create prop_pool c8t5d0\nroot@solaris11-1:~# zfs create prop_pool/zfs_1\nroot@solaris11-1:~# zfs create prop_pool/zfs_2\nroot@solaris11-1:~# zfs create prop_pool/zfs_3\nroot@solaris11-1:~# cp -r socat-2.0.0-b6.tar.gz dtbook_scripts* /prop_pool/zfs_1\n\n```", "```\nroot@solaris11-1:~# zpool get all prop_pool\nNAME       PROPERTY       VALUE                 SOURCE\nprop_pool  allocated      1.13M                 -\nprop_pool  altroot        -                     default\nprop_pool  autoexpand     off                   default\nprop_pool  autoreplace    off                   default\nprop_pool  bootfs         -                     default\nprop_pool  cachefile      -                     default\nprop_pool  capacity       0%                    -\nprop_pool  dedupditto     0                     default\nprop_pool  dedupratio     1.00x                 -\nprop_pool  delegation     on                    default\nprop_pool  failmode       wait                  default\nprop_pool  free           3.97G                 -\nprop_pool  guid           10747479388132741479  -\nprop_pool  health         ONLINE                -\nprop_pool  listshares     off                   default\nprop_pool  listsnapshots  off                   default\nprop_pool  readonly       off                   -\nprop_pool  size           3.97G                 -\nprop_pool  version        34                    default\nroot@solaris11-1:~# zfs get all prop_pool/zfs_1\nNAME             PROPERTY              VALUE                  SOURCE\nprop_pool/zfs_1  aclinherit            restricted             default\nprop_pool/zfs_1  aclmode               discard                default\nprop_pool/zfs_1  atime                 on                     default\nprop_pool/zfs_1  available             3.91G   \n(truncated output)\n\n```", "```\nroot@solaris11-1:~# zfs get sharenfs prop_pool\nNAME       PROPERTY   VALUE  SOURCE\nprop_pool  share.nfs  off    default\nroot@solaris11-1:~# zfs get sharenfs prop_pool/zfs_1\nNAME             PROPERTY   VALUE  SOURCE\nprop_pool/zfs_1  share.nfs  off    default\n```", "```\nroot@solaris11-1:~# zfs get -r sharenfs prop_pool      \nNAME             PROPERTY   VALUE  SOURCE\nprop_pool        share.nfs  off    default\nprop_pool/zfs_1  share.nfs  off    default\nprop_pool/zfs_2  share.nfs  off    default\nprop_pool/zfs_3  share.nfs  off    default \n```", "```\nroot@solaris11-1:~# zfs set sharenfs=on prop_pool/zfs_1\nroot@solaris11-1:~# zfs get -r sharenfs prop_pool/zfs_1\nNAME              PROPERTY   VALUE  SOURCE\nprop_pool/zfs_1   share.nfs  on     local\nprop_pool/zfs_1%  share.nfs  on     inherited from prop_pool/zfs_1\n```", "```\nroot@solaris11-1:~# zfs get -s local all prop_pool/zfs_1\nNAME             PROPERTY     VALUE  SOURCE\nprop_pool/zfs_1  share.*      ...    local\nroot@solaris11-1:~# zfs get -r sharenfs prop_pool\nNAME              PROPERTY   VALUE  SOURCE\nprop_pool         share.nfs  off    default\nprop_pool/zfs_1   share.nfs  on     local\nprop_pool/zfs_1%  share.nfs  on     inherited from prop_pool/zfs_1\nprop_pool/zfs_2   share.nfs  off    default\nprop_pool/zfs_3   share.nfs  off    default\n```", "```\nroot@solaris11-1:~# share\nIPC$    smb  -  Remote IPC\nc$  /var/smb/cvol  smb  -  Default Share\nprop_pool_zfs_1  /prop_pool/zfs_1  nfs  sec=sys,rw\n```", "```\nroot@solaris11-1:~# zfs create prop_pool/zfs_1/zfs_4\nroot@solaris11-1:~# zfs get -r sharenfs prop_pool\nNAME                    PROPERTY   VALUE  SOURCE\nprop_pool               share.nfs  off    default\nprop_pool/zfs_1         share.nfs  on     local\nprop_pool/zfs_1%        share.nfs  on     inherited from prop_pool/zfs_1\nprop_pool/zfs_1/zfs_4   share.nfs  on     inherited from prop_pool/zfs_1\nprop_pool/zfs_1/zfs_4%  share.nfs  on     inherited from prop_pool/zfs_1\nprop_pool/zfs_2         share.nfs  off    default\nprop_pool/zfs_3         share.nfs  off    default\n```", "```\nroot@solaris11-1:~# zfs get -s inherited all prop_pool/zfs_1/zfs_4\nNAME                   PROPERTY     VALUE  SOURCE\nprop_pool/zfs_1/zfs_4  share.*      ...    inherited\nroot@solaris11-1:~# share\nIPC$    smb  -  Remote IPC\nc$  /var/smb/cvol  smb  -  Default Share\nprop_pool_zfs_1  /prop_pool/zfs_1  nfs  sec=sys,rw\nprop_pool_zfs_1_zfs_4  /prop_pool/zfs_1/zfs_4  nfs  sec=sys,rw\n```", "```\nroot@solaris11-1:~# zfs list -r prop_pool\nNAME                    USED  AVAIL  REFER  MOUNTPOINT\nprop_pool               399M  3.52G   391M  /prop_pool\nprop_pool/zfs_1        8.09M  3.52G  8.06M  /prop_pool/zfs_1\nprop_pool/zfs_1/zfs_4    31K  3.52G    31K  /prop_pool/zfs_1/zfs_4\nprop_pool/zfs_2          31K  3.52G    31K  /prop_pool/zfs_2\nprop_pool/zfs_3          31K  3.52G    31K  /prop_pool/zfs_3\n```", "```\nroot@solaris11-1:~# zfs quota=1G prop_pool/zfs_3\nroot@solaris11-1:~# zfs list -r prop_pool      \nNAME                    USED  AVAIL  REFER  MOUNTPOINT\nprop_pool               399M  3.52G   391M  /prop_pool\nprop_pool/zfs_1        8.09M  3.52G  8.06M  /prop_pool/zfs_1\nprop_pool/zfs_1/zfs_4    31K  3.52G    31K  /prop_pool/zfs_1/zfs_4\nprop_pool/zfs_2          31K  3.52G    31K  /prop_pool/zfs_2\nprop_pool/zfs_3          31K  1024M    31K  /prop_pool/zfs_3\n```", "```\nroot@solaris11-1:~# zfs list -r prop_pool\nNAME                    USED  AVAIL  REFER  MOUNTPOINT\nprop_pool               399M  3.52G   391M  /prop_pool\nprop_pool/zfs_1        8.09M  3.52G  8.06M  /prop_pool/zfs_1\nprop_pool/zfs_1/zfs_4    31K  3.52G    31K  /prop_pool/zfs_1/zfs_4\nprop_pool/zfs_2          31K  3.52G    31K  /prop_pool/zfs_2\nprop_pool/zfs_3          31K  1024M    31K  /prop_pool/zfs_3\n```", "```\nroot@solaris11-1:~# zfs get -r reservation prop_pool\nNAME                    PROPERTY     VALUE  SOURCE\nprop_pool               reservation  none   default\nprop_pool/zfs_1         reservation  none   default\nprop_pool/zfs_1%        reservation  -      -\nprop_pool/zfs_1/zfs_4   reservation  none   default\nprop_pool/zfs_1/zfs_4%  reservation  -      -\nprop_pool/zfs_2         reservation  none   default\nprop_pool/zfs_3         reservation  none   default\n```", "```\nroot@solaris11-1:~# zfs set reservation=512M prop_pool/zfs_3\nroot@solaris11-1:~# zfs list -r prop_pool\nNAME                    USED  AVAIL  REFER  MOUNTPOINT\nprop_pool               911M  3.02G   391M  /prop_pool\nprop_pool/zfs_1        8.09M  3.02G  8.06M  /prop_pool/zfs_1\nprop_pool/zfs_1/zfs_4    31K  3.02G    31K  /prop_pool/zfs_1/zfs_4\nprop_pool/zfs_2          31K  3.02G    31K  /prop_pool/zfs_2\nprop_pool/zfs_3          31K  1024M    31K  /prop_pool/zfs_3\nroot@solaris11-1:~# zfs get -r reservation prop_pool\nNAME                    PROPERTY     VALUE  SOURCE\nprop_pool               reservation  none   default\nprop_pool/zfs_1         reservation  none   default\nprop_pool/zfs_1%        reservation  -      -\nprop_pool/zfs_1/zfs_4   reservation  none   default\nprop_pool/zfs_1/zfs_4%  reservation  -      -\nprop_pool/zfs_2         reservation  none   default\nprop_pool/zfs_3         reservation  512M   local\n```", "```\nroot@solaris11-1:~# zfs set userquota@aborges=750M \nprop_pool/zfs_3\nroot@solaris11-1:~# zfs set userquota@alexandre=1.5G prop_pool/zfs_3\nroot@solaris11-1:~# zfs get userquota@aborges prop_pool/zfs_3\nNAME             PROPERTY           VALUE  SOURCE\nprop_pool/zfs_3  userquota@aborges  750M   local\nroot@solaris11-1:~# zfs get userquota@alexandre prop_pool/zfs_3\nNAME             PROPERTY             VALUE  SOURCE\nprop_pool/zfs_3  userquota@alexandre  1.50G  local\nroot@solaris11-1:~# zfs set groupquota@staff=1G prop_pool/zfs_3 \nroot@solaris11-1:~# zfs get groupquota@staff prop_pool/zfs_3\nNAME             PROPERTY          VALUE  SOURCE\nprop_pool/zfs_3  groupquota@staff  1G     local\n```", "```\nroot@solaris11-1:~# zfs userspace prop_pool/zfs_3\nTYPE        NAME       USED  QUOTA  \nPOSIX User  aborges       0   750M  \nPOSIX User  alexandre     0     1G  \nPOSIX User  root         3K   none  \nroot@solaris11-1:~# zfs groupspace prop_pool/zfs_3\nTYPE         NAME   USED  QUOTA  \nPOSIX Group  root     3K   none  \nPOSIX Group  staff     0     1G\n```", "```\nroot@solaris11-1:~# zfs set quota=none prop_pool/zfs_3\nroot@solaris11-1:~# zfs set userquota@aborges=none prop_pool/zfs_3\nroot@solaris11-1:~# zfs set userquota@alexandre=none prop_pool/zfs_3\nroot@solaris11-1:~# zfs set groupquota@staff=none prop_pool/zfs_3\nroot@solaris11-1:~# zfs userspace prop_pool/zfs_3\nTYPE        NAME  USED  QUOTA  \nPOSIX User  root    3K   none  \nroot@solaris11-1:~# zfs groupspace prop_pool/zfs_3\nTYPE         NAME  USED  QUOTA\nPOSIX Group  root    3K   none\n```", "```\nroot@solaris11-1:~# swap -l\nswapfile             dev    swaplo   blocks     free\n/dev/zvol/dsk/rpool/swap 285,2         8  4194296  4194296\n/dev/zvol/dsk/rpool/newswap 285,3         8  4194296  4194296\n```", "```\nroot@solaris11-1:~# swap –s\ntotal: 519668k bytes allocated + 400928k reserved = 920596k used, 4260372k available\n```", "```\nroot@solaris11-1:~# zfs list -r rpool\nNAME                              USED  AVAIL  REFER  MOUNTPOINT\nrpool                            37.0G  41.3G  4.91M  /rpool\nrpool/ROOT                       26.7G  41.3G    31K  legacy\n(truncated output)\nrpool/newswap                    2.06G  41.3G  2.00G  -\nrpool/shad_source                2.38G  41.3G  2.38G  /rpool/shad_source\nrpool/shad_target                1.60G  41.3G  1.60G  /rpool/shad_target\nrpool/swap                       2.06G  41.3G  2.00G  -\n```", "```\nroot@solaris11-1:~# ls -ls /dev/zvol/rdsk/rpool/swap \n   0 lrwxrwxrwx   1 root     root           0 Dec 17 20:35 /dev/zvol/rdsk/rpool/swap -> ../../../..//devices/pseudo/zfs@0:2,raw\nroot@solaris11-1:~# ls -ls /dev/zvol/rdsk/rpool/newswap \n   0 lrwxrwxrwx   1 root     root           0 Dec 20 19:04 /dev/zvol/rdsk/rpool/newswap -> ../../../..//devices/pseudo/zfs@0:3,raw\n```", "```\nroot@solaris11-1:~# zfs get volsize rpool/swap\nNAME        PROPERTY  VALUE  SOURCE\nrpool/swap  volsize   2G     local\n\nroot@solaris11-1:~# zfs get volsize rpool/newswap\nNAME           PROPERTY  VALUE  SOURCE\nrpool/newswap  volsize   2G     local\n```", "```\nroot@solaris11-1:~# zfs set volsize=3G rpool/newswap\nroot@solaris11-1:~# zfs get volsize rpool/newswap\nNAME           PROPERTY  VALUE  SOURCE\n\nrpool/newswap  volsize   3G     local\nroot@solaris11-1:~# swap –l\nswapfile             dev    swaplo   blocks     free\n/dev/zvol/dsk/rpool/swap 285,2         8  4194296  4194296\n/dev/zvol/dsk/rpool/newswap 285,3         8  4194296  4194296\n/dev/zvol/dsk/rpool/newswap 285,3   4194312  2097144  2097144\nroot@solaris11-1:~# swap -s\ntotal: 451556k bytes allocated + 267760k reserved = 719316k used, 5359332k available\nroot@solaris11-1:~# zfs list -r rpool/swap\nNAME         USED  AVAIL  REFER  MOUNTPOINT\nrpool/swap  2.00G  40.4G  2.00G  -\nroot@solaris11-1:~# zfs list -r rpool/newswap\nNAME            USED  AVAIL  REFER  MOUNTPOINT\nrpool/newswap  3.00G  40.4G  3.00G  -\n```", "```\nroot@solaris11-1:~# zpool create swap_pool c8t12d0\nroot@solaris11-1:~# zpool list swap_pool\nNAME        SIZE  ALLOC   FREE  CAP  DEDUP  HEALTH  ALTROOT\nswap_pool  3.97G    85K  3.97G   0%  1.00x  ONLINE  -\nroot@solaris11-1:~# zfs create -V 1G swap_pool/vol_swap_1 \nroot@solaris11-1:~# zfs list -r swap_pool\nNAME                   USED  AVAIL  REFER  MOUNTPOINT\nswap_pool             1.03G  2.87G    31K  /swap_pool\nswap_pool/vol_swap_1  1.03G  3.91G    16K  -\n```", "```\nroot@solaris11-1:~# swap -a /dev/zvol/dsk/swap_pool/vol_swap_1 \nroot@solaris11-1:~# swap -l\nswapfile             dev    swaplo   blocks     free\n/dev/zvol/dsk/rpool/swap 285,2         8  4194296  4194296\n/dev/zvol/dsk/rpool/newswap 285,3         8  4194296  4194296\n/dev/zvol/dsk/rpool/newswap 285,3   4194312  2097144  2097144\n/dev/zvol/dsk/swap_pool/vol_swap_1 285,4         8  2097144  2097144\nroot@solaris11-1:~# swap -s\ntotal: 456308k bytes allocated + 268024k reserved = 724332k used, 6361756k available\nroot@solaris11-1:~# zfs list -r swap_pool\nNAME                   USED  AVAIL  REFER  MOUNTPOINT\nswap_pool             1.03G  2.87G    31K  /swap_pool\nswap_pool/vol_swap_1  1.03G  2.91G  1.00G  -\nroot@solaris11-1:~# zfs list -r rpool | grep swap\nrpool/newswap                    3.00G  40.4G  3.00G  -\nrpool/swap                       2.00G  40.4G  2.00G  -\n```", "```\nroot@solaris11-1:~# more /etc/vfstab \n#device    device    mount    FS  fsck  mount  mount\n#to mount  to fsck    point    type  pass  at boot  options\n#\n/devices  -    /devices  devfs  -  no  -\n/proc     -     /proc      proc  -  no  -\n(truncated output)\nswap                                -    /tmp    tmpfs  -  yes  -\n\n/dev/zvol/dsk/rpool/swap            -    -       swap   -  no   -\n/dev/zvol/dsk/rpool/newswap         -    -       swap   -  no   -\n/dev/zvol/dsk/swap_pool/vol_swap_1  -    -       swap   -  no   -\n```", "```\nroot@solaris11-1:~# swap -l\nswapfile             dev    swaplo   blocks     free\n/dev/zvol/dsk/rpool/swap 285,2         8  4194296  4194296\n/dev/zvol/dsk/rpool/newswap 285,3         8  4194296  4194296\n/dev/zvol/dsk/rpool/newswap 285,3   4194312  2097144  2097144\n/dev/zvol/dsk/swap_pool/vol_swap_1 285,4         8  2097144  2097144\n```", "```\nroot@solaris11-1:~# swap -d /dev/zvol/dsk/swap_pool/vol_swap_1\nroot@solaris11-1:~# zpool destroy swap_pool\nroot@solaris11-1:~# swap -d /dev/zvol/dsk/rpool/newswap\nroot@solaris11-1:~# swap -l\nswapfile             dev    swaplo   blocks     free\n/dev/zvol/dsk/rpool/swap 285,2         8  4194296  4194296\n/dev/zvol/dsk/rpool/newswap 285,3   4194312  2097144  2097144\n```", "```\nroot@solaris11-1:~# zfs get volsize rpool/newswap\nNAME           PROPERTY  VALUE  SOURCE\nrpool/newswap  volsize   3G     local\nroot@solaris11-1:~# zfs set volsize=1G rpool/newswap\nroot@solaris11-1:~# zfs get volsize rpool/newswap\nNAME           PROPERTY  VALUE  SOURCE\nrpool/newswap  volsize   1G     local\nroot@solaris11-1:~# swap -l\nswapfile             dev    swaplo   blocks     free\n/dev/zvol/dsk/rpool/swap 285,2         8  4194296  4194296\n/dev/zvol/dsk/rpool/newswap 285,3   4194312  2097144  2097144\nroot@solaris11-1:~# swap -s\ntotal: 456836k bytes allocated + 267580k reserved = 724416k used, 3203464k available\n```"]