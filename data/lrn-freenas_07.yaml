- en: Chapter 8. Advanced System Configuration
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第 8 章 高级系统配置
- en: If you have followed everything in this book until now, you are almost an expert
    in all things FreeNAS. There are just a few more things to learn and your training
    will be complete. This chapter looks at Advanced System Configuration like disk
    encryption, adding a swap space, and tweaking FreeBSD.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你到目前为止已经完成了本书中的所有内容，你几乎已经成为 FreeNAS 方面的专家。只需再学习几个知识点，你的培训就会完成。本章将介绍一些高级系统配置内容，如磁盘加密、添加交换空间以及调整
    FreeBSD。
- en: Disk Encryption
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 磁盘加密
- en: If the data you are storing on your FreeNAS server is of a sensitive nature
    (for example military, medical, financial or other confidential data) then it
    is worth considering using encryption to protect your data should the server fall
    into the wrong hands.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你在 FreeNAS 服务器上存储的数据属于敏感性质（例如军事、医疗、金融或其他机密数据），那么在服务器可能落入不当之手的情况下，考虑使用加密来保护数据是值得的。
- en: If security is a top priority for you, then encrypting the data on the disk
    is only one of several measures you should take to safe guard your data. For example
    if your building or the people in your building (for example employees) aren't
    subject to stringent security measures then having your hard disk encrypted is
    of minimal value. Someone (from within or without) could access your data over
    the network and copy the sensitive data and then email it to almost anywhere.
    Having your hard disk encrypted won't stop that from happening.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 如果安全性对你来说是重中之重，那么加密磁盘上的数据只是你应采取的几项措施中的一项。举例来说，如果你的建筑物或建筑物内的人（例如员工）没有严格的安全措施，那么加密硬盘的意义就不大。某些人（无论是内部人员还是外部人员）可以通过网络访问你的数据，复制敏感数据，然后将其通过电子邮件发送到几乎任何地方。加密硬盘并不能阻止这种情况发生。
- en: FreeNAS offers the ability to encrypt an entire disk with a strong level of
    encryption. If the server should be stolen, then the perpetrators will have a
    tough time accessing the data on the disk.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: FreeNAS 提供了对整个磁盘进行强加密的功能。如果服务器被盗，罪犯将很难访问磁盘上的数据。
- en: 'Normally, to add a new disk to your FreeNAS server you need to:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，向 FreeNAS 服务器添加新磁盘的步骤如下：
- en: '1\. Add the disk in **Disks: Add**.'
  id: totrans-7
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 1\. 在 **磁盘：添加** 中添加磁盘。
- en: '2\. Format the disk in **Disks: Format**.'
  id: totrans-8
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 2\. 在 **磁盘：格式化** 中格式化磁盘。
- en: '3\. Add a mount point in **Disks: Mount Point**.'
  id: totrans-9
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 3\. 在 **磁盘：挂载点** 中添加挂载点。
- en: 'To add a new encrypted disk, almost the same procedure is used except that
    there is a new step to create an encrypted volume between step 1 and step 2\.
    The new sequence of events becomes:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 添加新加密磁盘的步骤几乎与添加普通磁盘相同，唯一不同的是在第 1 步和第 2 步之间需要新增一个创建加密卷的步骤。新的操作流程为：
- en: '1\. Add the disk in **Disks: Add**.'
  id: totrans-11
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 1\. 在 **磁盘：添加** 中添加磁盘。
- en: '2\. Create an encrypted volume using the previously added disk in **Disks:
    Encryption**.'
  id: totrans-12
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 2\. 使用先前添加的磁盘在 **磁盘：加密** 中创建加密卷。
- en: '3\. Format the disk in **Disks: Format**.'
  id: totrans-13
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 3\. 在 **磁盘：格式化** 中格式化磁盘。
- en: '4\. Add a mount point in **Disks: Mount Point**.'
  id: totrans-14
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 4\. 在 **磁盘：挂载点** 中添加挂载点。
- en: Notice that the creation of the encrypted volumes occurs before the disk is
    formatted. This is because the encryption used by FreeNAS is at a very low level.
    It is not file-based (meaning that each file is individually encrypted) but rather
    it is sector-based, which means that each piece of information that is written
    to the hard disk (including directory names etc) is encrypted.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，加密卷的创建发生在磁盘格式化之前。这是因为 FreeNAS 使用的加密方式非常底层。它不是基于文件的（意味着每个文件都被单独加密），而是基于扇区的，这意味着写入硬盘的每一条信息（包括目录名等）都会被加密。
- en: Note
  id: totrans-16
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Do You Really Need Encryption?**'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '**你真的需要加密吗？**'
- en: Encrypting your data actually increases the chances of data loss. Your data
    is actually more likely to be lost to encryption misconfiguration or lost keys
    than to theft. **There is no password recovery system for an encrypted hard drive**.
    If the password is lost, misplaced, forgotten or the holder becomes unavailable
    then the data is in actuality lost.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 加密你的数据实际上增加了数据丢失的可能性。你的数据更有可能因为加密配置错误或丢失密钥而丢失，而不是因为被盗。**加密硬盘没有密码恢复系统**。如果密码丢失、遗失、忘记或持有者无法访问，那么数据实际上就丢失了。
- en: Encrypting a Disk in FreeNAS
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在 FreeNAS 中加密磁盘
- en: If you are encrypting a disk that has previously had data on it, it is important
    to completely erase all the old data before using the disk for encryption. This
    is because when the disk is initialized for encryption, the old data is not physically
    overwritten and as such, this old data would still be accessible at the sector
    level of the hard disk should the disk be stolen and analyzed. Unfortunately,
    FreeNAS doesn't provide a way to do this and you will need to remove the disk
    from the FreeNAS server and security wipe it in another machine.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你正在加密一个之前存有数据的磁盘，重要的是在使用该磁盘进行加密之前完全擦除所有旧数据。因为当磁盘为加密初始化时，旧数据并不会被物理覆盖，因此如果磁盘被盗并进行分析，旧数据仍然可以在硬盘的扇区级别访问。不幸的是，FreeNAS
    没有提供此功能，你需要将磁盘从 FreeNAS 服务器中移除，并在其他机器上进行安全擦除。
- en: 'To encrypt a disk, first of all, make sure it has been added to the system
    using the **Disks: Add page**. Then, go to **Disks: Encryption**.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 要加密磁盘，首先要确保它已经通过**磁盘：添加页面**添加到系统中。然后，转到**磁盘：加密**。
- en: 'Click on the add circle to add a new encrypted disk. There are four parameters
    for adding an encrypted disk:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 点击添加圆圈以添加一个新的加密磁盘。添加加密磁盘时有四个参数：
- en: '**Disk—** Select the disk you want to encrypt. It has to be a whole disk and
    can not be a partition of a disk. This means that you can''t encrypt the second
    partition of a disk where you have installed FreeNAS on the first partition. Also,
    the disk must have been previously added in **Disks: Add**.'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**磁盘—** 选择你想要加密的磁盘。它必须是整个磁盘，而不能是磁盘的分区。这意味着你不能加密安装了 FreeNAS 的第一个分区上的磁盘的第二个分区。此外，该磁盘必须先在**磁盘：添加**中添加。'
- en: '**Encryption algorithm—** You can choose between three different encryption
    algorithms with which to encrypt your data. If you are unsure, stick with AES
    as it is the standard encryption method used by the U.S. government, it has been
    analyzed extensively and is now used worldwide.'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**加密算法—** 你可以选择三种不同的加密算法来加密你的数据。如果不确定，建议使用 AES，因为它是美国政府使用的标准加密方法，经过广泛分析，现在已在全球范围内使用。'
- en: '**Passphrase—** The password. Whenever the disk is mounted on the FreeNAS server
    (generally after a reboot), then the password needs to be entered to unlock the
    encrypted drive. Using a good, solid password is essential for the disk encryption
    to be worthwhile. Don''t use your birthday or your daughter''s name!'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**密码短语—** 密码。每当磁盘在 FreeNAS 服务器上挂载时（通常是在重新启动后），需要输入密码才能解锁加密驱动器。使用一个强且安全的密码对于确保磁盘加密的有效性至关重要。不要使用你的生日或女儿的名字！'
- en: '**Initialize—** If this disk has never been used as an encrypted disk before,
    it needs to be initialized and made ready for the encryption process. You need
    to tick this box unless this is a previously a encrypted disk that you are adding
    back into the FreeNAS server.'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**初始化—** 如果该磁盘以前从未作为加密磁盘使用过，则需要初始化并为加密过程做好准备。除非这是一个以前是加密磁盘的磁盘，否则需要勾选此框，才能将其添加回
    FreeNAS 服务器。'
- en: Note
  id: totrans-27
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Initializing the disk will cause all data to be lost on this disk.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 初始化磁盘将导致该磁盘上的所有数据丢失。
- en: 'Having selected the disk from the drop down box as well as picking an algorithm,
    you need to enter a good unguessable password and tick the **initialize** box.
    Now click **Add**. The disk will now be prepared and encrypted. The output will
    look something like this:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 在从下拉框中选择磁盘并选择一个算法后，你需要输入一个不可猜测的强密码，并勾选**初始化**框。然后点击**添加**。磁盘将被准备好并进行加密。输出结果如下所示：
- en: '[PRE0]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: The reassuring **Done**. lets you know that all went well. It is always best
    to double check the output for any errors.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 让人放心的**完成**，告诉你一切顺利。最好还是双重检查输出，以确保没有错误。
- en: Now that the disk has been set up for encryption, it can be used just like any
    other disk. You can format it or mount it and also share it on the networking
    using CIFS, NFS, and AFP etc.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 现在磁盘已设置为加密状态，可以像其他磁盘一样使用。你可以格式化它、挂载它，并通过 CIFS、NFS、AFP 等共享它。
- en: Entering the Password When You Reboot
  id: totrans-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 重新启动时输入密码
- en: Because the volume is encrypted, it needs a password to unlock it and allow
    it to be accessed. Whenever the FreeNAS server is rebooted, the encrypted volume
    will not be accessible until you have entered the password.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 由于该卷已加密，因此需要密码才能解锁并访问它。每当 FreeNAS 服务器重新启动时，在输入密码之前，加密卷将无法访问。
- en: 'Once the system is booted, go **to Disk: Mount Point**. You will see an error
    because FreeNAS can''t mount the encrypted volume without the password.'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 系统启动后，前往**磁盘：挂载点**。你会看到一个错误，因为FreeNAS无法在没有密码的情况下挂载加密卷。
- en: '![Entering the Password When You Reboot](img/4688_08_02.jpg)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![重新启动时输入密码](img/4688_08_02.jpg)'
- en: 'Now go to **Disk: Encryption**. The encrypted volume has the status **Not attached**.
    To enter the password, click on the **Tools** tab. Choose the encrypted disk from
    *Encrypted disk name* drop down list and select the command **attach** (which
    should be the default). Now enter the password and click on **Send Command!**
    The output should be something like this:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 现在前往**磁盘：加密**。加密卷的状态为**未附加**。要输入密码，请点击**工具**标签。选择*加密磁盘名称*下拉列表中的加密磁盘，然后选择命令**附加**（这应该是默认的）。现在输入密码并点击**发送命令！**
    输出应该类似于以下内容：
- en: '[PRE1]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'If you mistyped the password, then the output would be something like this:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你输入了错误的密码，输出可能会是这样的：
- en: '[PRE2]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Click on the **Management** tab and the disk status will now be shown as **Attached**.
    Finally, go back to **Disk: Mount Point** and check that the mount point status
    is **OK**. If it isn''t, click on **Retry** (which forces FreeNAS to mount the
    disk again) and then it should show **OK**.'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 点击**管理**标签，磁盘状态现在将显示为**已附加**。最后，返回到**磁盘：挂载点**并检查挂载点状态是否为**OK**。如果不是，请点击**重试**（强制FreeNAS重新挂载磁盘），然后它应该显示为**OK**。
- en: Encryption Tools
  id: totrans-42
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 加密工具
- en: 'When the FreeNAS server is rebooted, the password needs to be entered to unlock
    the volume. To do this, you use **Tools** tab in **Disk: Encryption** (see *Entering
    the password when you reboot* above). Here is an overview of the other actions
    that can be performed on an encrypted disk.'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 当FreeNAS服务器重新启动时，需要输入密码以解锁卷。为此，你需要使用**磁盘：加密**中的**工具**标签（参见上面的*重新启动时输入密码*）。以下是对加密磁盘可以执行的其他操作的概述。
- en: How to Unlock an Encrypted Disk—Attach and Detach
  id: totrans-44
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 如何解锁加密磁盘——附加和拆卸
- en: Attach and detach are technical FreeBSD words for unlock and lock. Attach means
    that the password supplied will be used to open up the disk and set up the necessary
    decryption parameters. Once successfully attached, the disk is able to be used
    like any other hard disk.Detach is the opposite. Here, the disk is locked and
    the data is inaccessible without the correct password. To detach an already attached
    disk, choose the attached, encrypted disk from *Encrypted disk name* drop down
    list and select the command **detach** and click on **Send Command!**
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 附加和拆卸是FreeBSD中的技术术语，表示解锁和锁定。附加意味着提供的密码将用于打开磁盘并设置必要的解密参数。一旦成功附加，磁盘就可以像其他硬盘一样使用。拆卸是相反的操作。在这里，磁盘被锁定，没有正确的密码数据无法访问。要拆卸一个已附加的磁盘，从*加密磁盘名称*下拉列表中选择已附加的加密磁盘，选择命令**拆卸**，然后点击**发送命令！**
- en: How to Change the Password on an Encrypted Disk—setkey
  id: totrans-46
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 如何更改加密磁盘的密码——setkey
- en: 'Remaining on the **Tools** tab in the **Disk: Encryption** page, you can change
    the password of an encrypted disk by using the setkey command. Choose the encrypted
    disk from *Encrypted disk name* drop down list and select the command *setkey*.
    Now enter the old password along with the new password and click on **Send Command!**
    The output is just a simple **Done**.'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 保持在**磁盘：加密**页面的**工具**标签，你可以通过使用setkey命令来更改加密磁盘的密码。从*加密磁盘名称*下拉列表中选择加密磁盘，然后选择命令*setkey*。现在输入旧密码和新密码，然后点击**发送命令！**
    输出只是一个简单的**完成**。
- en: Note
  id: totrans-48
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: You are not asked to confirm the new password. If you make a mistake in typing
    in the new password, all your data will be lost as you can not unlock the disk.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 系统不会要求你确认新密码。如果你在输入新密码时犯了错误，所有数据将丢失，因为你无法解锁磁盘。
- en: Checking the Status of an Encrypted Disk—list and status
  id: totrans-50
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 检查加密磁盘的状态——list和status
- en: To get some simple status information about your encrypted drives, you can use
    the `status` and `list` commands.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 要获取有关加密驱动器的简单状态信息，你可以使用`status`和`list`命令。
- en: '`status` simply lists which drives are encrypted and in fact, might not even
    tell you their status! Here is an example output:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '`status`简单列出哪些驱动器被加密，实际上可能甚至不会告诉你它们的状态！以下是一个示例输出：'
- en: '[PRE3]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The list command is a bit more verbose. An example out would be:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: list命令更加详细。一个示例输出会是：
- en: '[PRE4]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'The `Geom name:` tells you the name of the encrypted disk. It will be the name
    of the disk device (say ad0 for the first IDE hard disk) followed by `.eli`, in
    our example it was: `ad0.eli`. The `EncryptionAlgorithm:` tells you which algorithm
    is being used (which in this case was AES) and the `KeyLength:` tells you the
    strength of the encryption.'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '`Geom name:`告诉你加密硬盘的名称。它将是磁盘设备的名称（比如第一个IDE硬盘是ad0），后面跟着`.eli`，在我们的例子中是：`ad0.eli`。`EncryptionAlgorithm:`告诉你使用的是哪种算法（在此情况下是AES），而`KeyLength:`告诉你加密的强度。'
- en: The provider and consumer are the two ends of the encryption process. In FreeBSD
    terms, this means the physical hard disk (ad0) and the pseudo device (ad0.eli)
    which is the hard disk after encryption. As FreeBSD writes to the pseudo version
    of the hard disk, (ad0.eli) the encryption software applies its algorithms and
    the encrypted data is written to the real hard disk (ad0). The opposite happens
    during a read; the encrypted data is read from the hard disk and passed to the
    decryption software before being passed on higher up.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 提供者和消费者是加密过程的两个端点。在FreeBSD术语中，这意味着物理硬盘（ad0）和伪设备（ad0.eli），后者是加密后的硬盘。当FreeBSD写入硬盘的伪版本（ad0.eli）时，加密软件应用其算法，并将加密数据写入真实硬盘（ad0）。读取过程则相反；加密数据从硬盘中读取，并传递给解密软件，然后再传递给更高层次。
- en: Advanced Hard Drive Parameters (S.M.A.R.T)
  id: totrans-58
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 高级硬盘参数（S.M.A.R.T）
- en: Self-Monitoring, Analysis, and Reporting Technology, or S.M.A.R.T, is a system
    for monitoring hard disks to report on a variety of characteristics that pertain
    to the reliability of the disk. Monitoring these characteristics should (in theory)
    help anticipate drive failures. According to Seagate, the hard disk manufacturer,
    mechanical failures (that are usually predictable failures) account for 60 percent
    of drive failure.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 自监测、分析与报告技术（Self-Monitoring, Analysis, and Reporting Technology，简称S.M.A.R.T）是一个用于监测硬盘的系统，报告涉及硬盘可靠性的各种特征。理论上，监控这些特征应有助于预测硬盘故障。根据硬盘制造商Seagate的说法，机械故障（通常是可以预测的故障）占硬盘故障的60%。
- en: Not all hard drives have S.M.A.R.T capabilities and different manufacturers
    measure different characteristics and define different thresholds of failure.
    Essentially each hard disk model defines its health according to the rules set
    down by its manufacturer. Therefore one model of hard disk may have a different
    value for a certain characteristic than another model of hard drive and yet both
    be defined as acceptable by the manufacturer.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 不是所有硬盘都具备S.M.A.R.T功能，不同的制造商测量不同的特征，并定义不同的故障阈值。实际上，每个硬盘型号根据其制造商设定的规则定义其健康状况。因此，一种硬盘型号在某些特征上可能与另一种硬盘型号有所不同，但两者都被制造商定义为可接受。
- en: 'The characteristics or attributes of each drive has two values: one is the
    raw value whose meaning is defined by the drive manufacturer. The other is a normalized
    value that ranges from 1 to 253 (where 1 is the worst case and 253 the best).'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 每个硬盘的特征或属性有两个值：一个是原始值，其含义由硬盘制造商定义。另一个是标准化值，范围从1到253（其中1为最差，253为最好）。
- en: Enabling and using S.M.A.R.T of the FreeNAS
  id: totrans-62
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 启用并使用FreeNAS的S.M.A.R.T
- en: 'Before you can use S.M.A.R.T on your FreeNAS server, you need to check if your
    hard disk supports S.M.A.R.T. Go to **Diagnostics: Information** and click on
    the **S.M.A.R.T**. tab. The output will show a list of disks (IDE, SATA, SCSI,
    and even flash disks) along with any S.M.A.R.T information available.'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 在你能在FreeNAS服务器上使用S.M.A.R.T之前，你需要检查硬盘是否支持S.M.A.R.T。进入**诊断：信息**并点击**S.M.A.R.T**标签页。输出将显示一个磁盘列表（包括IDE、SATA、SCSI，甚至闪存磁盘），以及所有可用的S.M.A.R.T信息。
- en: 'If a particular device doesn''t support S.M.A.R.T, the output will simply say:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 如果某个特定设备不支持S.M.A.R.T，输出将简单地显示：
- en: '[PRE5]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'If the device supports S.M.A.R.T, it will report more information about the
    drive including the model number. Here is an example for an aging 10GB Quantum
    Fireball disk:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 如果设备支持S.M.A.R.T，它将报告更多关于硬盘的信息，包括型号编号。以下是一个老化的10GB量子火球磁盘的示例：
- en: '[PRE6]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'The key thing to note here is that *SMART support is: Available—device has
    SMART capability*. But that *SMART support is: Disabled*.'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 这里需要注意的关键是*SMART支持：已启用—设备具有SMART功能*，但*SMART支持：已禁用*。
- en: 'To enable S.M.A.R.T monitoring for this disk, go to **System: Advanced** and
    tick the **S.M.A.R.T Daemon** box. This will enable the S.M.A.R.T daemon (monitoring
    process) and log the status to the log file.'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 要启用此磁盘的S.M.A.R.T监控，进入**系统：高级**并勾选**S.M.A.R.T守护进程**框。这将启用S.M.A.R.T守护进程（监控进程）并将状态记录到日志文件中。
- en: 'Now, if you return to the **Diagnostics: Information** page and again click
    on the **S.M.A.R.T**. tab, you will see that the output has changed significantly.
    The first difference is that *SMART support is: Enabled*. Below the initial summary
    is now a comprehensive list of different drive attributes pertaining to the reliability
    of the hard disk.'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，如果返回到 **诊断：信息** 页面，再次点击 **S.M.A.R.T** 标签，你将看到输出发生了显著变化。第一个不同点是 *SMART 支持：已启用*。在初步摘要下方，现在有一份关于硬盘可靠性的各项驱动属性的全面列表。
- en: 'The first line is normally a report on the overall health of the disk. If it
    is healthy, it should read something like this:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 第一行通常是硬盘整体健康状态的报告。如果硬盘健康，它应该显示如下内容：
- en: '[PRE7]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: If the overall health is listed as FAILED, then you need to back up the hard
    disk immediately and replace it with another one.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 如果整体健康状态被列为“失败”，你需要立即备份硬盘并更换为其他硬盘。
- en: 'Below the overall health check is a list of hard disk-specific information
    that culminates in a list of *Vendor Specific SMART Attributes with Thresholds*.
    This list shows each attribute along with its normalized value, the worst value
    that this attribute has had in the life time of the drive, and the thresholds
    of the value. When reading these values, you need to remember that 1 is the worst
    case and 253 the best. For example:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 在整体健康检查下方，是一份硬盘特定信息的列表，最终以一份*厂商特定的 S.M.A.R.T 属性及阈值*清单作为总结。此列表展示了每个属性及其标准化值、该属性在硬盘生命周期中的最差值以及该值的阈值。在查看这些值时，需要记住
    1 是最差情况，253 是最好情况。例如：
- en: '[PRE8]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Looking at the `Raw_Read_Error_Rate`, you can see that its normalized value
    is `100` but that the raw value is `0`. This means that there have been no read
    errors on this hard disk that the disk manufacturer has normalized to the value
    `100`. However, what is important is that the threshold is `20`. So IF read errors
    started to appear on this drive, then the normalized value would start to shrink
    until it reached `20`. At which point, the overall health of the drive would be
    reported as FAILED.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 查看 `Raw_Read_Error_Rate`，可以看到其标准化值为 `100`，但原始值为 `0`。这意味着硬盘上没有读取错误，磁盘制造商已将其标准化为
    `100`。然而，重要的是阈值为 `20`。因此，如果此硬盘开始出现读取错误，标准化值将开始减少，直到达到 `20`，此时硬盘的整体健康状态将报告为“失败”。
- en: 'An attribute from a failing hard disk might look like this:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 一个故障硬盘的属性可能如下所示：
- en: '[PRE9]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Notice here that the `when_failing` column reports the drive in the process
    of failing. Looking at the normalized value, we read `136` and the threshold is
    `140`. Remembering that the lower the number the worse the situation, we see that
    this particular attribute has just recently gone passed its threshold and as such
    triggered the failure warnings.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，`when_failing` 列报告硬盘正处于故障过程中。查看标准化值时，我们看到 `136`，而阈值为 `140`。记住，数字越低，情况越糟，我们看到这个特定属性刚刚超过了其阈值，因此触发了故障警告。
- en: 'On the FreeNAS server, when an attribute passes its threshold it will be reported
    in the SMARTD log on the **Diagnostics: Logs** page.'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 在 FreeNAS 服务器上，当某个属性超过阈值时，它会在 **诊断：日志** 页面上的 SMARTD 日志中报告。
- en: 'Here is a list of some key S.M.A.R.T attributes that if they pass their threshold,
    the disk is in a critical state:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是一些关键的 S.M.A.R.T 属性列表，如果它们超过阈值，硬盘处于临界状态：
- en: '| Attributes | Meaning |'
  id: totrans-82
  prefs: []
  type: TYPE_TB
  zh: '| 属性 | 含义 |'
- en: '| --- | --- |'
  id: totrans-83
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Read Error Rate | Measures the rate of read errors that occurred when reading
    data in the disk. |'
  id: totrans-84
  prefs: []
  type: TYPE_TB
  zh: '| 读取错误率 | 测量在读取磁盘数据时发生的读取错误的速率。 |'
- en: '| Reallocated Sectors Count | The number of reallocated sectors. When the hard
    drive finds a sector with an error it marks this sector as "reallocated" and transfers
    data to a special reserved area. If the number reallocated sectors increases too
    much, the disk is starting to fail. |'
  id: totrans-85
  prefs: []
  type: TYPE_TB
  zh: '| 重映射扇区计数 | 重映射的扇区数量。当硬盘发现某个扇区有错误时，它会将该扇区标记为“重映射”并将数据转移到专用的保留区域。如果重映射扇区的数量增加过多，硬盘开始出现故障。
    |'
- en: '| Spin Retry Count | Number of retries of spin start attempts. This is the
    total number of the spin retries. An increase of this number is a sign of a mechanical
    problem. |'
  id: totrans-86
  prefs: []
  type: TYPE_TB
  zh: '| 旋转重试次数 | 表示旋转启动尝试的重试次数。这是总的重试次数。如果这个数字增加，通常是机械故障的迹象。 |'
- en: '| Uncorrectable Sector Count | This is total number of uncorrectable errors
    when reading or writing to a sector. If this number starts to increase, it can
    mean that there is a problem with the hard disk''s magnetic surface. |'
  id: totrans-87
  prefs: []
  type: TYPE_TB
  zh: '| 不可修正扇区计数 | 这是读取或写入某个扇区时发生的不可修正错误的总数。如果这个数字开始增加，可能表示硬盘的磁性表面存在问题。 |'
- en: File System Consistency Check—FSCK
  id: totrans-88
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 文件系统一致性检查—FSCK
- en: The FreeNAS server has a tool to verify if the file system on a disk is healthy.
    This is different than checking the S.M.A.R.T status of the disk in that S.M.A.R.T
    is at the hardware level and support for it is provided by the disk manufacturer.
    However, FreeBSD/FreeNAS writes data to the disk in a certain order and using
    a special structure that enables it to find files and folders. This special structure
    is called a file system and it is important to verify (from time to time) that
    the file system is intact and doesn't contain any errors. File system errors most
    often occur when the FreeNAS server is switched off without a proper shutdown.
    This can mean that the file system is left in a state where write operations were
    queued or cached and they were never actually completed. What remains therefore
    is a file system inconsistency. The FreeBSD tool for checking the file system
    consistency is called fsck (File System Consistency checK).
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: FreeNAS服务器提供了一个工具来验证磁盘上的文件系统是否健康。这与检查硬盘的S.M.A.R.T状态不同，S.M.A.R.T是硬件级别的，且由磁盘制造商提供支持。然而，FreeBSD/FreeNAS以特定顺序和使用特殊结构写入磁盘数据，这使得它能够查找文件和文件夹。这种特殊结构被称为文件系统，定期验证文件系统的完整性并确保其没有错误是很重要的。文件系统错误最常发生在FreeNAS服务器在没有正确关机的情况下关闭时。这意味着文件系统可能处于一个写操作已排队或缓存但未实际完成的状态。因此，剩下的就是文件系统不一致。FreeBSD用于检查文件系统一致性的工具叫做fsck（文件系统一致性检查）。
- en: 'To run a file system consistency check, go to **Disks: Mount Point** and click
    on the **Fsck** tab. First, you need to select the disk to check from the drop
    down box. Next, you need to decide how you want to run the file system check.'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 要运行文件系统一致性检查，请转到**磁盘：挂载点**并点击**Fsck**选项卡。首先，您需要从下拉框中选择要检查的磁盘。接下来，您需要决定如何运行文件系统检查。
- en: If the **Unmount disk/partition** is not ticked then fsck is run in read-only
    mode. Here the file system is checked for errors but any errors are reported but
    **not** corrected. Running a file system check on a busy disk can reduce performance.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 如果未勾选**卸载磁盘/分区**，则fsck将在只读模式下运行。在此模式下，文件系统会检查错误，但任何错误都只会报告而**不会**被修复。在忙碌的磁盘上运行文件系统检查可能会降低性能。
- en: If **Unmount disk/partition** is ticked then the disk will first be unmounted
    and all errors will be fixed automatically. During the file system check, the
    data on the disk won't be available to the network users.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 如果勾选了**卸载磁盘/分区**，磁盘将首先被卸载，所有错误将自动修复。在文件系统检查期间，磁盘上的数据将无法提供给网络用户。
- en: 'The output for fsck will look something like this:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: fsck的输出结果将类似于以下内容：
- en: '[PRE10]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Note
  id: totrans-95
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Large Disks and fsck**'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: '**大型磁盘和fsck**'
- en: Depending on the hard disk size, running fsck can take from minutes to hours.
    Therefore, on large hard disks, running fsck from the web interface can give you
    a time-out. fsck will fix all errors on the file system but you will not see the
    output on web interface.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 根据硬盘的大小，运行fsck可能需要几分钟到几小时不等。因此，在大型硬盘上，从Web界面运行fsck可能会导致超时。fsck将修复文件系统上的所有错误，但您不会在Web界面看到输出。
- en: Also, note that fsck requires a large amount of RAM to run. For large volumes
    (2TB or greater), you should have a minimum 512MB RAM.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 另外，请注意，fsck运行时需要大量的RAM。对于大容量（2TB或更大）的磁盘，建议至少配备512MB RAM。
- en: It is also possible to run the fsck tool from the command line. This might be
    useful for large hard disks if the web interface times out while waiting for the
    command to complete. Please see chapter 10 for more details.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 也可以通过命令行运行fsck工具。如果在等待命令完成时Web界面超时，这对大型硬盘可能很有用。有关更多详细信息，请参阅第10章。
- en: Advanced OS Tweaking
  id: totrans-100
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 高级操作系统调优
- en: 'The underlying operating system of FreeNAS is FreeBSD. Like all complex systems,
    FreeBSD has a number of configuration parameters that can change its behavior.
    At the heart of the FreeBSD system, is its kernel and the kernel can be ''tweaked''
    to perform better under certain situations. The FreeNAS developers have defined
    a set of kernel parameters that can be tweaked at the click of the mouse. These
    parameters are as follows:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: FreeNAS的底层操作系统是FreeBSD。像所有复杂的系统一样，FreeBSD有许多配置参数可以改变其行为。在FreeBSD系统的核心部分是其内核，内核可以被“调节”以在某些情况下表现得更好。FreeNAS开发人员定义了一组可以通过点击鼠标轻松调节的内核参数。这些参数如下：
- en: '| Parameter | Normalvalue | Tweakedvalue | Meaning |'
  id: totrans-102
  prefs: []
  type: TYPE_TB
  zh: '| 参数 | 正常值 | 调整后的值 | 含义 |'
- en: '| --- | --- | --- | --- |'
  id: totrans-103
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| `net.inet.tcp.delayed_ack:` | 1 | 0 | This tells FreeBSD to attempt to include
    TCP ACK information on a data packet instead of sending additional packets to
    signal the end of a connection. |'
  id: totrans-104
  prefs: []
  type: TYPE_TB
  zh: '| `net.inet.tcp.delayed_ack:` | 1 | 0 | 这个参数告诉FreeBSD尝试在数据包中包含TCP ACK信息，而不是发送额外的包来表示连接结束。
    |'
- en: '| `net.inet.tcp.sendspace:` | 32768 | 65536 | This along with `net.inet.udp.recvspace`
    define the maximum network packet size. Increasing the packet size can increase
    network performance, but it also increases memory usage. |'
  id: totrans-105
  prefs: []
  type: TYPE_TB
  zh: '| `net.inet.tcp.sendspace:` | 32768 | 65536 | 这个参数与`net.inet.udp.recvspace`一起定义了最大网络数据包大小。增大数据包大小可以提高网络性能，但也会增加内存使用。
    |'
- en: '| `net.inet.udp.recvspace:` | 42080 | 65536 | See above. |'
  id: totrans-106
  prefs: []
  type: TYPE_TB
  zh: '| `net.inet.udp.recvspace:` | 42080 | 65536 | 请参见上面。 |'
- en: '| `net.inet.udp.maxdgram:` | 9216 | 57344 | This is the maximum outgoing UDP
    datagram size. Increasing it can improve network performance but also increased
    memory usage. |'
  id: totrans-107
  prefs: []
  type: TYPE_TB
  zh: '| `net.inet.udp.maxdgram:` | 9216 | 57344 | 这是最大外发UDP数据报大小。增加它可以改善网络性能，但也会增加内存使用。
    |'
- en: '| `net.local.stream.recvspace:` | 8192 | 65535 | This and the .sendspace below
    are further buffer tweaks for networking. Performance can increase but so will
    memory usage. |'
  id: totrans-108
  prefs: []
  type: TYPE_TB
  zh: '| `net.local.stream.recvspace:` | 8192 | 65535 | 这个和下面的.sendspace是网络缓冲区的进一步调节。性能可以提高，但内存使用也会增加。
    |'
- en: '| `net.local.stream.sendspace :` | 8192 | 65535 | See above. |'
  id: totrans-109
  prefs: []
  type: TYPE_TB
  zh: '| `net.local.stream.sendspace :` | 8192 | 65535 | 请参见上面。 |'
- en: '| `kern.ipc.maxsockbuf:` | 262144 | 2097152 | This is the maximum combined
    buffer size for both sides of a TCP socket. It is increased along with the other
    network related parameters to boost network performance. |'
  id: totrans-110
  prefs: []
  type: TYPE_TB
  zh: '| `kern.ipc.maxsockbuf:` | 262144 | 2097152 | 这是TCP套接字两端的最大合并缓冲区大小。随着其他网络相关参数的增加，该值也会增加，从而提升网络性能。
    |'
- en: '| `kern.ipc.somaxconn:` | 128 | 8192 | This controls how many simultaneous
    connection attempts the system will try to handle. |'
  id: totrans-111
  prefs: []
  type: TYPE_TB
  zh: '| `kern.ipc.somaxconn:` | 128 | 8192 | 这个参数控制系统能够处理的同时连接请求数。 |'
- en: '| `kern.ipc.maxsockets:` | 3072 | 16424 | This is the total number of sockets
    available on the system. You need one socket for every network connection. |'
  id: totrans-112
  prefs: []
  type: TYPE_TB
  zh: '| `kern.ipc.maxsockets:` | 3072 | 16424 | 这个参数控制系统可用的最大套接字数。每个网络连接都需要一个套接字。
    |'
- en: '| `kern.ipc.nmbclusters:` | 3072 | 60000 | This controls the number of *mbufs*
    allocated by the system An *mbuf* is a chunk of kernel memory used for networking.
    This is increased in line with other network buffer increases. |'
  id: totrans-113
  prefs: []
  type: TYPE_TB
  zh: '| `kern.ipc.nmbclusters:` | 3072 | 60000 | 这个参数控制系统分配的*mbufs*数量。*mbuf*是内核用于网络的内存块。这个值随着其他网络缓冲区的增加而增加。
    |'
- en: '| `kern.maxfiles:` | 1064 | 65536 | The maximum number of files that the system
    can have open for reading or writing at any one time. |'
  id: totrans-114
  prefs: []
  type: TYPE_TB
  zh: '| `kern.maxfiles:` | 1064 | 65536 | 系统在任何时候可以打开进行读取或写入的最大文件数。 |'
- en: '| `kern.maxfilesperproc:` | 957 | 32768 | This is the maximum number of files
    a single process can open. |'
  id: totrans-115
  prefs: []
  type: TYPE_TB
  zh: '| `kern.maxfilesperproc:` | 957 | 32768 | 这是单个进程可以打开的最大文件数。 |'
- en: Enabling Kernel Tuning will result in two things. First, a probable increase
    in the performance of the FreeNAS server and second, an increase in the amount
    of memory used by the FreeNAS server. If your system has sufficient memory (256MB
    or more) and your server experiences heavy network traffic, try enabling Kernel
    Tuning.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 启用内核调优会带来两件事情。首先，FreeNAS服务器的性能可能会提高；其次，FreeNAS服务器的内存使用量也会增加。如果你的系统有足够的内存（256MB或更多），并且服务器面临较重的网络流量，尝试启用内核调优。
- en: 'To enable it, go to **System: Advanced** and tick the **Tuning** box. Click
    **Save** to apply the changes.'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 要启用它，请转到**系统：高级**并勾选**调优**框。点击**保存**以应用更改。
- en: Tweaking the Network Settings
  id: totrans-118
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 调整网络设置
- en: The FreeNAS server has a couple of advanced sections for controlling the network.
    The first is the global network configurations for each network installed in the
    machine and the second is the ability to add static routes to the network routing
    table.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: FreeNAS 服务器有几个高级部分用于控制网络。第一个是为机器中每个网络安装的全局网络配置，第二个是向网络路由表添加静态路由的能力。
- en: MTU, Device Polling, Speed, and Duplex
  id: totrans-120
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: MTU、设备轮询、速度和双工
- en: 'On the **Interfaces: LAN** page (where LAN represents the default network card),
    there are four parameters that can be changed to increase the performance of your
    network.'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 在**接口：LAN**页面（其中 LAN 代表默认网络卡），有四个参数可以更改，以提高网络性能。
- en: '| Parameters | Meaning |'
  id: totrans-122
  prefs: []
  type: TYPE_TB
  zh: '| 参数 | 解释 |'
- en: '| --- | --- |'
  id: totrans-123
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| MTU | The Maximum Transmission Unit (MTU) is the size (in bytes) of the largest
    packet that can be sent on your network. A higher MTU means higher bandwidth efficiency.
    For an 10/100 Ethernet network, 1500 is the largest allowed MTU. For a Gigabit
    Ethernet network (with Jumbo Frame support), 9000 is best (and maximum) option.
    |'
  id: totrans-124
  prefs: []
  type: TYPE_TB
  zh: '| MTU | 最大传输单元（MTU）是您网络中可以发送的最大数据包大小（以字节为单位）。更高的 MTU 意味着更高的带宽效率。对于 10/100 以太网网络，1500
    是允许的最大 MTU。对于千兆以太网网络（支持 Jumbo Frame），9000 是最佳（也是最大）选项。 |'
- en: '| Device polling | Device polling is a technique that lets the system periodically
    poll network devices for new data instead of relying on interrupts. This can reduce
    CPU load and therefore increase throughput, at the expense of a slightly higher
    forwarding delay (the devices are polled 1000 times per second). Not all network
    cards support polling. |'
  id: totrans-125
  prefs: []
  type: TYPE_TB
  zh: '| 设备轮询 | 设备轮询是一种技术，它使系统定期轮询网络设备以获取新数据，而不是依赖中断。这可以减少 CPU 负载，从而提高吞吐量，但代价是稍微增加了转发延迟（设备每秒轮询
    1000 次）。并非所有网络卡都支持轮询。 |'
- en: '| Speed | The speed of your network card should be automatically selected (autoselect)
    but if you find that it is not selected, then you can manually select from: 10baseT/UTP,
    100baseTX, 1000baseTX, and 1000baseSX. |'
  id: totrans-126
  prefs: []
  type: TYPE_TB
  zh: '| 速度 | 网络卡的速度应该自动选择（自动选择），但如果您发现没有被自动选择，您可以手动选择以下几种：10baseT/UTP、100baseTX、1000baseTX
    和 1000baseSX。 |'
- en: '| Duplex | If your network card and the switch to which it is connected are
    capable of supporting full duplex communications (meaning the card and switch
    can send while receiving and visa-versa) then you can set it here. |'
  id: totrans-127
  prefs: []
  type: TYPE_TB
  zh: '| 双工 | 如果您的网卡和它所连接的交换机都支持全双工通信（即网卡和交换机可以在发送的同时接收，反之亦然），那么您可以在这里进行设置。 |'
- en: Note
  id: totrans-128
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Avoid Duplex Mismatch
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 避免双工不匹配
- en: Duplex mismatch occurs when two connected devices operate in different duplex
    modes (one in half duplex while the other is in full duplex). The result of a
    duplex mismatch is a network that is not completely 'broken' but is incredibly
    slow. Duplex mismatch may occur from wrongly manually setting two connected network
    interfaces at different duplex modes, and also from connecting a device that performs
    auto-negotiation to one that is manually set to a full duplex mode. The auto-negotiating
    device will assume half duplex if it fails to negotiate.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 双工不匹配发生在两个连接的设备在不同的双工模式下运行时（一个是半双工，另一个是全双工）。双工不匹配的结果是网络没有完全“断开”，但非常慢。双工不匹配可能是由于错误地手动设置两个连接的网络接口在不同的双工模式下，或者由于将执行自动协商的设备连接到一个手动设置为全双工模式的设备。自动协商设备如果未能协商成功，会假定为半双工。
- en: Adding a Static Route
  id: totrans-131
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 添加静态路由
- en: If you are using two or more network cards, it can sometimes be of benefit to
    add a static route to the networking routing table. The network routing table
    defines to who each network connection is routed, or in other words which path
    it takes across the network. A default route is defined when you configure the
    default gateway in either the console menu or the Interfaces section of the web
    interface. By defining the default gateway, you are creating a default path for
    all traffic that is not destined for the local network. It is assumed that the
    router (which can be another PC or a DSL modem as well as a network router) can
    correctly direct the traffic to its destination. If you have more than one network
    card or you have a second router that handles traffic for a particular part of
    your network, it can be beneficial to add a static route telling the FreeNAS server
    to direct all traffic for that particular network to the second router rather
    than to the default gateway.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您使用两个或更多的网卡，有时添加静态路由到网络路由表是有益的。网络路由表定义了每个网络连接的路由去向，换句话说，就是数据流在网络中所走的路径。默认路由在配置默认网关时定义，无论是在控制台菜单中还是在Web界面的接口部分。通过定义默认网关，您为所有未指定目标为本地网络的流量创建了默认路径。假设路由器（可以是另一台PC、一台DSL调制解调器或者网络路由器）能够正确地将流量指向目的地。如果您有多个网卡，或者有第二个路由器处理网络中特定部分的流量，添加静态路由来指示FreeNAS服务器将该特定网络的所有流量定向到第二个路由器而不是默认网关是有益的。
- en: 'To add a static route, go to **System: Static routes** and click on the add
    circle. There are three mandatory fields to complete:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 要添加静态路由，请进入**系统：静态路由**，然后点击添加圆圈。需要完成三个必填字段：
- en: '| Parameter | Meaning |'
  id: totrans-134
  prefs: []
  type: TYPE_TB
  zh: '| 参数 | 含义 |'
- en: '| --- | --- |'
  id: totrans-135
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Interface | Specify which interface this route applies to. |'
  id: totrans-136
  prefs: []
  type: TYPE_TB
  zh: '| 接口 | 指定此路由适用的接口。 |'
- en: '| Destination network | Destination network for this static route. |'
  id: totrans-137
  prefs: []
  type: TYPE_TB
  zh: '| 目标网络 | 此静态路由的目标网络。 |'
- en: '| Gateway | Gateway to be used to reach the destination network. |'
  id: totrans-138
  prefs: []
  type: TYPE_TB
  zh: '| 网关 | 用于到达目标网络的网关。 |'
- en: The destination network takes the form of an IP address in dot notation (or
    more specifically a subnet address in that the ending digits will be 0 depending
    on the network mask) followed by a network mask specified as with 8, 16 or 24
    for 255.0.0.0, 255.255.0.0 or 255.255.255.0, respectively.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 目标网络的形式为点分地址（或更具体地说，是子网地址，其末尾数字将根据网络掩码变为0），后面跟着指定的网络掩码，例如8、16或24分别表示255.0.0.0、255.255.0.0或255.255.255.0。
- en: 'For example, if the IP address of my FreeNAS server is 192.168.1.250 and there
    is a router other than the default gateway that can router traffic to the network
    192.168.99.0 (meaning all machines with the IP address from 192.168.99.1 to 192.168.99.254),
    and that this router has an IP address of 192.168.1.123 then the settings would
    be:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，如果我的FreeNAS服务器的IP地址是192.168.1.250，并且有一个除了默认网关之外的路由器，可以将流量路由到192.168.99.0网络（意味着所有IP地址从192.168.99.1到192.168.99.254的机器），且该路由器的IP地址是192.168.1.123，那么设置将是：
- en: 'Destination network: 192.168.99.0/24'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 目标网络：192.168.99.0/24
- en: 'Gateway: 192.168.1.123'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 网关：192.168.1.123
- en: Click **Add** and apply the changes to add the static route.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 点击**添加**并应用更改以添加静态路由。
- en: '![Adding a Static Route](img/4688_08_01.jpg)'
  id: totrans-144
  prefs: []
  type: TYPE_IMG
  zh: '![添加静态路由](img/4688_08_01.jpg)'
- en: Using Wireless
  id: totrans-145
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用无线网络
- en: If you have a wireless network card that is supported by FreeNAS, then you can
    configure it to offer wireless access to the FreeNAS server.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您有一块FreeNAS支持的无线网卡，您可以将其配置为提供无线访问给FreeNAS服务器。
- en: 'To configure the wireless card, go to the **Interfaces: Management** page.
    Here, you will be able to configure the card and set the various wireless parameters
    like the Service Set Identifier (SSID) and the channel number. You can also configure
    the wireless security with Wired Equivalent Privacy (WEP).'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 要配置无线网卡，请进入**接口：管理**页面。在这里，您可以配置网卡并设置各种无线参数，例如服务集标识符（SSID）和频道号。您还可以使用有线等效隐私（WEP）来配置无线安全。
- en: Adding a Swap File
  id: totrans-148
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加交换文件
- en: Some operations on the FreeNAS server, most notably using the iSCSI target and
    running fsck for big hard disks, require a minimum of 256MB of RAM (Random Access
    Memory). If your system does not have 256MB of RAM, you can use a swap file to
    temporarily extend the system's memory.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 在FreeNAS服务器上的一些操作，特别是使用iSCSI目标和对大硬盘运行fsck，要求至少有256MB的内存（随机存取内存）。如果系统没有256MB的内存，可以使用交换文件临时扩展系统内存。
- en: FreeBSD divides its physical RAM into chucks of memory called pages. Swapping
    is the process whereby a page of memory is copied to a swap file, to free up that
    page of memory. The combined sizes of the physical memory and the swap file is
    the amount of virtual memory available.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: FreeBSD 将其物理内存分割成称为页面的内存块。交换是将一页内存复制到交换文件的过程，以释放该页面的内存。物理内存和交换文件的总大小就是可用的虚拟内存量。
- en: Swapping is necessary when the system requires more memory than is physically
    available; the kernel (the core of FreeBSD) swaps out less used pages and gives
    memory to the current application (process) that needs the memory immediately.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 当系统需要更多内存，而物理内存不足时，交换就变得必要；内核（FreeBSD 的核心）会将较少使用的页面交换出去，并为当前需要立即使用内存的应用程序（进程）提供内存。
- en: However, swapping does have a downside. Compared to memory, disks are very slow.
    Accessing the disk can be tens of thousands times slower than accessing physical
    memory. The more swapping that occurs, the slower your system will be.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，交换确实有其缺点。与内存相比，磁盘非常慢。访问磁盘的速度可能比访问物理内存慢几万倍。交换越多，系统的速度就会越慢。
- en: Before adding a swap file, it is best to consider the option of adding more
    memory to your system.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 在添加交换文件之前，最好考虑为系统增加更多的内存。
- en: 'To add a swap file go to **System: Advanced** and click on the **Swap** tab.
    To enable the use of a swap file, tick the **Enable** box in the title bar. Select
    the disk you wish to use to host the swap file, it will be listed by mount point
    name in the **Mount to use for swap** drop down box. Now, enter the amount of
    swap space you require. 256MB will be more than enough (note that you don''t need
    to enter the MB part, just 256).'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 要添加交换文件，请前往**系统：高级**并点击**交换**标签。要启用交换文件的使用，勾选标题栏中的**启用**框。选择你希望用来存放交换文件的磁盘，它会在**用于交换的挂载点**下拉框中按挂载点名称列出。现在，输入你需要的交换空间大小。256MB
    足够用了（注意，你不需要输入 MB，只需输入 256）。
- en: Once you click on **save**, a file called `swap_file` will be created on the
    specified disk and it will be used for swapping.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你点击**保存**，一个名为`swap_file`的文件将会在指定的磁盘上创建，并用于交换。
- en: 'To double check that your swap file is configured correctly go to **Diagnostics:
    Information** and click on the **Swap** tab. The output should look something
    this:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 为了再次确认你的交换文件配置正确，请前往**诊断：信息**并点击**交换**标签。输出应该如下所示：
- en: '[PRE11]'
  id: totrans-157
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: This shows that there is a 256MB swap file in use (524288 divided by 2 as it
    is shown in 512 byte blocks not in Kilobytes). Currently, all the swap space is
    available as none of it is being used.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 这显示当前正在使用一个 256MB 的交换文件（524288 除以 2，因为它以 512 字节块的形式显示，而不是以千字节显示）。目前，所有的交换空间都是可用的，因为没有任何交换空间被使用。
- en: Enabling Secure Shell Connections (SSH)
  id: totrans-159
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 启用安全外壳连接（SSH）
- en: In chapters 9 and 10, it may be necessary to make a connection to the FreeNAS
    server and use the command line of FreeBSD. The command line is often referred
    to as a terminal or a shell (name after the command line interpreter of the same
    name). Secure SHell (SSH) is a way to use the command line on the FreeNAS via
    an encrypted connection and so allows you to use the FreeNAS server without the
    danger of others, who are snooping around on your network, discovering your passwords.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 在第 9 章和第 10 章中，可能需要连接到 FreeNAS 服务器并使用 FreeBSD 的命令行。命令行通常称为终端或 Shell（以同名的命令行解释器命名）。安全外壳（SSH）是一种通过加密连接在
    FreeNAS 上使用命令行的方式，它使你能够在不担心别人窥探网络并窃取密码的情况下使用 FreeNAS 服务器。
- en: 'By default, SSH access is disabled to enable it go to **Services: SSHD** and
    enable the **SSH Daemon** (server) by ticking **Enable** in the title of the configuration
    data table. Click **Save and Restart** to finish start the SSH server.'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，SSH 访问是禁用的，要启用它，请前往**服务：SSHD**并通过勾选配置数据表标题中的**启用**来启用**SSH 守护进程**（服务器）。点击**保存并重启**以启动
    SSH 服务器。
- en: 'By default, SSH only allows local FreeNAS users to log in if they have been
    granted **Full Shell** access. Go to **Access: Users and Groups**. If you don''t
    have any users created, then create one (after first creating a group). When you
    create the user, make sure the **Full Shell** box is ticked. This tells FreeNAS
    that this user is allowed to connect to the server via SSH and have access to
    the command line. For more details on user management, see chapter 5.'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，SSH 仅允许本地 FreeNAS 用户登录，如果他们被授予了**完整 Shell**访问权限。前往**访问：用户和组**。如果你没有创建任何用户，请先创建一个（在创建组后）。创建用户时，确保勾选**完整
    Shell**框。这样 FreeNAS 就会知道该用户可以通过 SSH 连接到服务器并访问命令行。有关用户管理的更多细节，请参见第 5 章。
- en: If you already have a user created who you wish to grant **Full Shell** access,
    then click the **edit** button next to the user name (an 'e' in a circle) and
    tick the **Full Shell** attribute. Click **Save** to store the new settings and
    apply the changes.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你已经创建了一个用户，并希望授予其 **完全 Shell** 访问权限，那么点击用户名旁边的 **编辑** 按钮（一个圆圈中的“e”字母），勾选 **完全
    Shell** 属性。点击 **保存** 来存储新设置并应用更改。
- en: In FreeBSD, there are two categories of users, one is the normal user who has
    limited privileges (for example they can't stop or start services) and the other
    is the administrator or in FreeBSD terms is know as **root**. Root is a superuser
    who can do anything on the server.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 在 FreeBSD 中，有两类用户，一类是普通用户，权限有限（例如无法停止或启动服务），另一类是管理员，在 FreeBSD 中称为 **root**。Root
    是一个超级用户，可以对服务器执行任何操作。
- en: Allow Root Login
  id: totrans-165
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 允许 Root 登录
- en: 'For troubleshooting and using FreeBSD, the most useful user is root. By default,
    root is not allowed to log in to the FreeNAS server via SSH as it can pose a security
    risk. To allow root to log in go to **Services: SSHD** and tick **Permit root
    login**. Then click **Save and Restart** to finish start the SSH server.'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 在故障排除和使用 FreeBSD 时，最有用的用户是 root。默认情况下，root 用户不允许通过 SSH 登录到 FreeNAS 服务器，因为这可能带来安全风险。要允许
    root 登录，请前往 **服务：SSHD** 并勾选 **允许 root 登录**。然后点击 **保存并重启** 来启动 SSH 服务器。
- en: Note
  id: totrans-167
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Root Password**'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: '**Root 密码**'
- en: The root password is the same as the web interface password, which by default
    is *freenas*. If the web interface password is changed, so does the root password.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: root 密码与 web 界面密码相同，默认情况下是 *freenas*。如果 web 界面密码发生更改，root 密码也会随之更改。
- en: Types of SSH Authentication
  id: totrans-170
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: SSH 身份验证的类型
- en: SSH has two types of authentication method. The first is what it calls *keyboard-interactive
    authentication*, which in normal English—means you type in a username and password
    to log in. The second type is known as *public key authentication* Here, a system
    known as public-key cryptography is used to enable a remote SSH client to log
    in to the FreeNAS without a password.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: SSH 有两种身份验证方法。第一种是所谓的 *键盘交互式身份验证*，简单来说——意味着你输入用户名和密码来登录。第二种是 *公钥身份验证*，这里使用一种叫做公钥加密的系统，使远程
    SSH 客户端能够在没有密码的情况下登录到 FreeNAS。
- en: In public key cryptography, there are two keys called a private key and a public
    key. The magic behind public key cryptography is that you are free (in fact, encouraged)
    to give out your public key to anyone who wants it. Then that person can encrypt
    some information using the public key and once encrypted, only the private key
    can unlock it. Someone with your public key cannot unlock a message created with
    your public key.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 在公钥加密中，有两个密钥，分别是私钥和公钥。公钥加密的魔力在于，你可以自由地（实际上，是鼓励）将你的公钥提供给任何需要它的人。然后，那个人可以使用公钥加密一些信息，一旦加密，只有私钥可以解锁它。拥有你的公钥的人无法解锁用你的公钥加密的信息。
- en: What this means for SSH is that if the FreeNAS has a copy of your public key,
    it can correctly authenticate you as the holder of the private key. Thus, a secure
    connection is made between you and the FreeNAS server and you can use the command
    line knowing that your passwords and commands cannot be seen.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 对 SSH 来说，这意味着如果 FreeNAS 拥有你的公钥副本，它可以正确验证你是私钥的持有者。因此，在你与 FreeNAS 服务器之间建立了安全连接，你可以使用命令行，且密码和命令无法被窥视。
- en: 'To get this working with the FreeNAS server, a few simple steps need to occur:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 要使其与 FreeNAS 服务器正常工作，需要执行以下几个简单步骤：
- en: 1\. A public and private key need to be generated.
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 1\. 需要生成一对公钥和私钥。
- en: 2\. The public key needs to be copied to the FreeNAS server.
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 2\. 公钥需要被复制到 FreeNAS 服务器。
- en: 3\. You connect to the FreeNAS server and by exchanging of data encrypted using
    your public key and decrypted using your private key, secure communications are
    established.
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 3\. 你连接到 FreeNAS 服务器，通过使用公钥加密并用私钥解密的数据交换，建立了安全的通信。
- en: The following example is for Apple OS X and Linux. If you are using Linux, you
    need to be sure that the OpenSSH package is installed (which it will be by default
    on most Linux distributions).
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 以下示例适用于 Apple OS X 和 Linux。如果你使用 Linux，需要确保已安装 OpenSSH 包（大多数 Linux 发行版默认安装）。
- en: 'First, a public and private key pair need to be generated. This is done with
    the *ssh-keygen* command:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，需要生成一对公钥和私钥。这可以通过 *ssh-keygen* 命令完成：
- en: '[PRE12]'
  id: totrans-180
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'The output will look something like this:'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 输出将类似于以下内容：
- en: '[PRE13]'
  id: totrans-182
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Here, on my Apple Mac, two files are created `id_rsa` and `id_rsa.pub`. The
    `.pub` file is the public key and can be freely distributed. The `id_rsa` file
    is the private key and needs to be protected. In this example I have not used
    a password. This means that to start the decryption process, no password is needed.
    The benefit of this is that the client SSH program can connect to the FreeNAS
    server and it will be authenticated without any input from the user. The disadvantage
    is that if someone else takes your private key (`id_rsa`) they can also do the
    same thing, completely unhindered. It is therefore recommended that if you need
    extra security, you should include a password for your private key.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 在我的 Apple Mac 上，创建了两个文件 `id_rsa` 和 `id_rsa.pub`。`.pub` 文件是公钥，可以自由分发。`id_rsa`
    文件是私钥，必须加以保护。在这个示例中，我没有使用密码。这意味着开始解密过程时，不需要输入密码。这样做的好处是客户端的 SSH 程序可以连接到 FreeNAS
    服务器，并且无需用户任何输入即可进行身份验证。缺点是，如果有人拿到了你的私钥 (`id_rsa`)，他们也可以毫无障碍地进行相同的操作。因此，建议如果你需要额外的安全性，应该为你的私钥设置密码。
- en: The next step is to tell the FreeNAS server your public key. The best way to
    do this is to copy it to the server using the SCP program. SCP stands for Secure
    Copy and it is a way to copy files in a secure manner from one machine to another.
    The `id_rsa.pub` file needs to be copied to the `/root/.ssh/authorized_keys2`
    file on the FreeNAS server.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步是将你的公钥告诉 FreeNAS 服务器。最好的方法是使用 SCP 程序将其复制到服务器上。SCP 代表安全复制，它是一种通过安全方式将文件从一台机器复制到另一台机器的方法。`id_rsa.pub`
    文件需要被复制到 FreeNAS 服务器上的 `/root/.ssh/authorized_keys2` 文件中。
- en: 'The main problem is that the `/root/.ssh` directory doesn''t exist and SCP
    can''t copy a file to a non-existent directory. There are several solutions to
    this, of which the simplest is to go to the FreeNAS console (and if needed press
    *ENTER* to remove the logo and see the menu). Now choose **6) Shell**. At the
    # prompt type:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '主要问题是 `/root/.ssh` 目录不存在，SCP 无法将文件复制到一个不存在的目录。有几个解决方案，其中最简单的是进入 FreeNAS 控制台（如果需要，按
    *ENTER* 键去掉 logo 并显示菜单）。现在选择 **6) Shell**。在 # 提示符下输入：'
- en: '[PRE14]'
  id: totrans-186
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Now to copy `id_rsa.pub` file to `/root/.ssh/authorized_keys2` file on the
    FreeNAS server with SCP you need to enter:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，要使用 SCP 将 `id_rsa.pub` 文件复制到 FreeNAS 服务器上的 `/root/.ssh/authorized_keys2`
    文件中，你需要输入：
- en: '[PRE15]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: where 192.168.1.250 is the address of your FreeNAS server. You will be asked
    to enter the root password.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 192.168.1.250 是你的 FreeNAS 服务器的地址。系统会要求你输入 root 密码。
- en: 'The final step is to connect to the FreeNAS server using SSH:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一步是使用 SSH 连接到 FreeNAS 服务器：
- en: '[PRE16]'
  id: totrans-191
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: The `-l` option specifies who to log in as (in this case root) and 192.168.1.250
    is the IP address of the FreeNAS server.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: '`-l` 选项指定登录的用户名（在本例中是 root），而 192.168.1.250 是 FreeNAS 服务器的 IP 地址。'
- en: 'When you are connected, you will see something like this:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 当你连接后，你会看到类似这样的内容：
- en: '[PRE17]'
  id: totrans-194
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: Summary
  id: totrans-195
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we have looked at advanced system configuration including disk
    encryption, S.M.A.R.T and SSH access.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一章节中，我们已经探讨了包括磁盘加密、S.M.A.R.T 和 SSH 访问等高级系统配置。
- en: The next chapter is about troubleshooting and helping you solve the most common
    FreeNAS problems.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 下一章节将讲解故障排除，帮助你解决最常见的 FreeNAS 问题。
