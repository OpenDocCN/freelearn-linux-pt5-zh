- en: Chapter 3. Exploring FreeNAS
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第 3 章：探索 FreeNAS
- en: 'It is time to install the FreeNAS server and start looking at the basic configuration.
    This chapter is divided into 5 main sections:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 现在是安装 FreeNAS 服务器并开始查看基本配置的时候了。本章分为五个主要部分：
- en: Quick start guide for the impatient
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不耐烦的快速入门指南
- en: A detailed overview of installation
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装的详细概述
- en: Basic configuration
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基本配置
- en: Install to a hard disk
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装到硬盘
- en: Upgrading FreeNAS from a previous version.
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从之前的版本升级 FreeNAS。
- en: Downloading FreeNAS
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载 FreeNAS
- en: Before you can install the FreeNAS server, you will need to download the latest
    version from the FreeNAS website ([http://www.freenas.org](http://www.freenas.org)).
    Go to the download section and find the latest "LiveCD" version. The LiveCD version
    is what is known as an ISO image file and will have the `.iso` file extension.
    An ISO image is an exact copy of the structure and data for a CD or DVD disk.
    Using a CD burning program, you can create a FreeNAS bootable CD. We will look
    at this in more detail later on.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 在你安装 FreeNAS 服务器之前，你需要从 FreeNAS 网站（[http://www.freenas.org](http://www.freenas.org)）下载最新版本。进入下载区并找到最新的“LiveCD”版本。LiveCD
    版本是所谓的 ISO 镜像文件，文件扩展名为 `.iso`。ISO 镜像是 CD 或 DVD 光盘结构和数据的精确副本。使用 CD 刻录程序，你可以制作一个
    FreeNAS 启动 CD。稍后我们将更详细地讨论这个过程。
- en: What Hardware Do I Need?
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 我需要什么硬件？
- en: In this chapter, we will start exploring FreeNAS, so you will need a machine
    on which to install the FreeNAS software. At this point in time, it doesn't have
    to be the final machine you are going to use as the FreeNAS server. You can use
    a "test" machine now and having learnt all about FreeNAS, you can build, install,
    and deploy a production machine (or machines) later.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将开始探索 FreeNAS，因此你需要一台可以安装 FreeNAS 软件的机器。此时，它不必是你最终将用作 FreeNAS 服务器的机器。你现在可以使用一台“测试”机器，学完
    FreeNAS 后，你可以再构建、安装并部署生产机器（或多台机器）。
- en: So, what we need now is a PC with at least 96Mb of RAM (but 128Mb or more is
    recommended), a bootable CD-ROM drive, a network card, one or more hard disks,
    and either a floppy disk drive (and a blank formatted disk) or a USB flash disk
    (MS-DOS formatted and empty).
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，我们现在需要的是一台至少有 96MB 内存的 PC（推荐 128MB 或更多），一个可启动的 CD-ROM 驱动器，一个网络卡，一块或多块硬盘，和一个软盘驱动器（以及一张空白格式化磁盘）或一个
    USB 闪存盘（已格式化为 MS-DOS 并且为空）。
- en: The hard disk will be for the data that you want to store and the floppy disk
    or USB flash disk will be for storing the configuration information.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 硬盘将用于存储你想要保存的数据，软盘或 USB 闪存盘将用于存储配置信息。
- en: For the installation and initialization stages, you will also need a monitor
    and keyboard (but not mouse) attached to the PC. You can remove the monitor later,
    once FreeNAS is up and running.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在安装和初始化阶段，你还需要将显示器和键盘（但不需要鼠标）连接到 PC 上。FreeNAS 启动并运行后，你可以移除显示器。
- en: Warning
  id: totrans-14
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 警告
- en: FreeNAS boots as a LiveCD, which means that it does not use the disks on the
    host machine during boot up. However, when you start to configure storage on the
    FreeNAS server (specifically, when you format drives) all the data on the disk
    will be LOST. Do NOT use a machine that contains important data or an operating
    system that you will need afterwards.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: FreeNAS 作为 LiveCD 启动，这意味着它在启动时不会使用主机机器上的磁盘。然而，当你开始配置 FreeNAS 服务器上的存储（特别是当你格式化磁盘时），磁盘上的所有数据将会丢失。请不要使用包含重要数据或操作系统的机器，以免丢失数据。
- en: Note
  id: totrans-16
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Virtualization & VMWare**'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '**虚拟化与 VMware**'
- en: The average PC runs just one operating system and inside that operating system,
    you would run your applications like word processing and email. There is a technology
    (called virtualization), which allows PCs to run more than one operating system,
    or to be more precise, to allow a guest virtual PC to run inside your actual PC.
    This virtual PC is an independent software box that can run its own OS and applications
    as if it were a physical computer. A virtual PC behaves exactly like a physical
    PC and has its own virtual CPU, RAM, hard disk, and network interface card (NIC).
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 一台普通 PC 通常只运行一个操作系统，在该操作系统内你会运行如文字处理和电子邮件等应用程序。现在有一项技术（称为虚拟化），它允许 PC 运行多个操作系统，或者更准确地说，它允许一个虚拟
    PC 在你的实际 PC 内运行。这个虚拟 PC 是一个独立的软件盒子，可以运行自己的操作系统和应用程序，就像一台物理计算机一样。虚拟 PC 的行为完全类似于物理
    PC，拥有自己的虚拟 CPU、内存、硬盘和网络接口卡（NIC）。
- en: You can install FreeNAS on a virtual PC and FreeNAS can't tell the difference
    between the virtual PC and any other physical machine, also, it appears on the
    network just as a real PC would, running FreeNAS.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在虚拟PC上安装FreeNAS，而FreeNAS无法区分虚拟PC和任何其他物理机器，此外，它会像真实PC一样在网络上出现，运行FreeNAS。
- en: There are lots of virtualization products available for Windows, Linux, and
    Apple OS X today. You can learn more at Wikipedia [http://en.wikipedia.org/wiki/Virtualization](http://en.wikipedia.org/wiki/Virtualization)
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 如今，Windows、Linux和Apple OS X都有许多虚拟化产品可供选择。你可以在维基百科上了解更多内容：[http://en.wikipedia.org/wiki/Virtualization](http://en.wikipedia.org/wiki/Virtualization)
- en: A very popular virtualization solution is from VMWare ([http://www.vmware.com](http://www.vmware.com)).
    VMWare have both commercial and freeware offerings and there are pre-configured
    FreeNAS images available for the VMWare range of products. This makes it an ideal
    environment for testing the FreeNAS server.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 一个非常受欢迎的虚拟化解决方案来自VMWare（[http://www.vmware.com](http://www.vmware.com)）。VMWare提供商业版和免费版，并且有适用于VMWare系列产品的预配置FreeNAS镜像。这使得它成为一个理想的环境来测试FreeNAS服务器。
- en: Quick Start Guide For the Impatient
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 给急于上手的快速入门指南
- en: If you are comfortable with burning ISO images to CDs, setting your computer's
    BIOS to boot from CDROM, disk partitions, and TCP/IP networking then this little
    guide should help you get a simple version of the FreeNAS server up and running
    in just a few minutes.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你熟悉将ISO镜像刻录到CD、设置电脑的BIOS从CDROM启动、磁盘分区和TCP/IP网络，那么这本简短的指南应该能帮助你在几分钟内启动一个简单版本的FreeNAS服务器。
- en: If, however, some of these things sound daunting, then skip this section and
    go on to the next one where we shall go through the installation process one step
    at a time.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，如果这些步骤让你觉得有些艰巨，那么跳过这一部分，继续下一部分，我们将逐步讲解安装过程。
- en: For this example, we will use a USB flash disk to store the configuration information.
    You can use a floppy but be careful that during the boot process, the PC doesn't
    try to boot from the floppy before it boots from the CDROM.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，我们将使用USB闪存盘来存储配置文件。你也可以使用软盘，但请小心，在启动过程中，PC不要先尝试从软盘启动，再从CDROM启动。
- en: Burning and Booting
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 刻录和启动
- en: Once you have downloaded the ISO image file from the FreeNAS website, you need
    to burn it to a CD. Having done that, put the CD into the PC as well as the flash
    disk and switch it on. Make sure that the BIOS is set to boot from CD. If it isn't,
    you need to enter into the BIOS and configure it to boot from CD. On many modern
    PCs, it is possible to select the boot device at start-up by pressing a special
    key (which is often either F8 or F12) to show a boot device menu. You can then
    select the CD as the boot device.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你从FreeNAS网站下载了ISO镜像文件，就需要将其刻录到CD上。完成后，将CD和U盘插入PC并打开电源。确保BIOS设置为从CD启动。如果没有，你需要进入BIOS并配置其从CD启动。在许多现代PC上，启动时可以通过按一个特殊的键（通常是F8或F12）来选择启动设备，从而显示启动设备菜单。你可以选择CD作为启动设备。
- en: 'The boot process is in four distinct parts:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 启动过程分为四个明显的部分：
- en: 1\. First, the PC will go through its POST (Power On Self Test) sequence. Here,
    the PC will check the amount of memory installed (which you can often see being
    counted on the screen) and which devices are connected (like hard drives and CDROMs).
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第一阶段，PC将进行自检（POST，开机自检）。此时，PC会检查已安装的内存数量（通常可以在屏幕上看到内存的计数）以及连接的设备（如硬盘和CDROM）。
- en: 2\. It should then start to boot from the CD. Here, FreeBSD (the underlying
    OS of FreeNAS) will start to boot, this is recognisable by the simple spinning
    wheel (made up of simple text characters like | - / and \, which are animated
    to give the appearance of spinning).
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，系统应该会从CD启动。在此时，FreeBSD（FreeNAS的底层操作系统）将开始启动，你可以通过简单的旋转图标来辨认（这些图标由简单的文本字符如
    |、-、/ 和 \ 组成，通过动画效果表现出旋转的样子）。
- en: 3\. The third step is the FreeNAS boot menu. This will appear for just a few
    seconds and you should just let it boot normally, which is the default.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第三步是FreeNAS启动菜单。它会出现几秒钟，你只需要让它按默认设置正常启动即可。
- en: 4\. The final stage is when the FreeNAS logo appears and the system will boot
    as FreeNAS server. You can tell when the system is fully loaded because the PC
    speaker will make some short but melodious beeps.
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后的阶段是当FreeNAS的标志出现时，系统将作为FreeNAS服务器启动。你可以通过PC扬声器发出一些短促但悦耳的蜂鸣声来判断系统是否完全加载。
- en: To enable access to the web interface, the network of the FreeNAS server must
    be configured. Press the SPACE bar on the keyboard and the FreeNAS logo will disappear
    and a simple text menu will appear.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 为了启用网页界面的访问，必须配置 FreeNAS 服务器的网络。按下键盘上的空格键，FreeNAS 标志将消失，简单的文本菜单将出现。
- en: '![Burning and Booting](img/4688_03_01.jpg)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![烧录与启动](img/4688_03_01.jpg)'
- en: There are two aspects to configuring the network, first, you need to choose
    which network card to use and second, you need to assign it an address. If you
    have only one network card in your machine, then the FreeNAS server should have
    found it and automatically assigned it to be the LAN (Local Area Network) interface.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 配置网络有两个方面，首先，你需要选择使用哪个网卡；其次，你需要为其分配一个地址。如果你机器中只有一个网卡，那么 FreeNAS 服务器应该已经找到并自动分配它作为局域网（LAN）接口。
- en: Note
  id: totrans-36
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**What If My Network Card Isn''t Found?**'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果找不到我的网卡怎么办？**'
- en: This probably means that the network card in your machine isn't supported by
    FreeNAS or more specifically, by FreeBSD. You will need to replace the card with
    one supported by FreeBSD. Check the FreeBSD hardware compatibility page for more
    information:[http://www.freebsd.org/releases/6.2R/hardware-i386.html](http://www.freebsd.org/releases/6.2R/hardware-i386.html)
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 这可能意味着你机器中的网卡不被 FreeNAS 或更具体地说不被 FreeBSD 支持。你需要更换为一个 FreeBSD 支持的网卡。请查看 FreeBSD
    硬件兼容性页面以获取更多信息：[http://www.freebsd.org/releases/6.2R/hardware-i386.html](http://www.freebsd.org/releases/6.2R/hardware-i386.html)
- en: 'If you see something like this:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你看到类似这样的内容：
- en: '![Burning and Booting](img/4688_03_02.jpg)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![烧录与启动](img/4688_03_02.jpg)'
- en: then the network has been recognised and assigned automatically by FreeNAS.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 那么网络已经被 FreeNAS 自动识别并分配。
- en: The default IPv4 address for FreeNAS is 192.168.1.250, if this is good for your
    network, then you can just leave it unchanged. However, if you need to change
    it then press 2 followed by *ENTER*. If you want the machine to get its address
    from DHCP (Dynamic Host Configuration Protocol), answer yes (y) to the IPv4 DHCP
    question, otherwise answer no (n). If you are not using DHCP, you can now enter
    the desired IP address. Next, you need to enter the subnet mask. For 255.255.255.0,
    enter 24, for 255.255.0.0 enter 16, and for 255.0.0.0, enter 8\. At this point,
    you can now skip the default gateway and DNS questions (by just pressing *ENTER*).
    If you do want to enter a default gateway and DNS server at this point, they will
    usually be the IP address of your Internet router. We won't be using IPv6 so the
    simplest thing to do now is just answer *yes* to the "Do you want to use AutoConfiguration
    for IPv6?" question. This will cause a small delay while FreeNAS tries (and probably
    fails) to get the IPv6 address but it is simpler than trying to enter the IPv6
    address manually!
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: FreeNAS 的默认 IPv4 地址是 192.168.1.250，如果这个地址适合你的网络，那么你可以保持不变。然而，如果你需要更改地址，请按 2
    然后按 *ENTER* 键。如果你希望机器通过 DHCP（动态主机配置协议）获取地址，回答 IPv4 DHCP 提问时选择是（y），否则选择否（n）。如果你不使用
    DHCP，现在可以输入所需的 IP 地址。接下来，你需要输入子网掩码。如果是 255.255.255.0，输入 24；如果是 255.255.0.0，输入
    16；如果是 255.0.0.0，输入 8。此时，你可以跳过默认网关和 DNS 问题（直接按 *ENTER*）。如果你确实想在此时输入默认网关和 DNS 服务器，它们通常是你
    Internet 路由器的 IP 地址。我们不会使用 IPv6，因此此时最简单的做法是回答 *yes*，即“是否要使用自动配置 IPv6？”这个问题。这样
    FreeNAS 会尝试（并可能失败）获取 IPv6 地址，虽然有一点小延迟，但比手动输入 IPv6 地址要简单！
- en: 'You are now ready to access the web interface. The FreeNAS web interface can
    be accessed from any machine on the network with a web browser (including Windows,
    Linux, and OS X machines). On this client machine, type the address of the FreeNAS
    server with `http://` in front of it into your web browser. For example:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经准备好访问网页界面。可以从任何网络上的机器（包括 Windows、Linux 和 OS X 机器）使用网页浏览器访问 FreeNAS 网页界面。在这台客户端机器上，在网页浏览器中输入带有
    `http://` 前缀的 FreeNAS 服务器地址。例如：
- en: '[http://192.168.1.250](http://192.168.1.250).'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://192.168.1.250](http://192.168.1.250)。'
- en: Configuring
  id: totrans-45
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 配置
- en: The first time you access the FreeNAS web interface, you will be asked for the
    username and password. The default username is *admin* and the default password
    is *freenas*.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 第一次访问 FreeNAS 网页界面时，你需要输入用户名和密码。默认的用户名是 *admin*，默认的密码是 *freenas*。
- en: You should now be in the web interface. To configure some storage space, you
    need to work with "Disks". The logical order of working is that disks must be
    added, then formatted (if need be), then mounted. Finally, access is given to
    the various mounted disks by configuring different system services like CIFS and
    FTP.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你应该已经进入了网页界面。要配置一些存储空间，你需要处理“磁盘”。操作的逻辑顺序是必须先添加磁盘，然后格式化（如果需要），然后挂载。最后，通过配置不同的系统服务如
    CIFS 和 FTP 给各种已挂载的磁盘提供访问权限。
- en: '![Configuring](img/4688_03_03.jpg)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![配置中](img/4688_03_03.jpg)'
- en: 'So, to add a disk, go to **Disks: Management**.There is a **+** sign in a circle
    on the right-hand-side of the page (it can be easy to miss first time), click
    on it to add a disk. On the next page, select the disk you want to add. If you
    click on the drop-down menu, you should see the hard disks of the machines, the
    CDROM, and the USB flash disk.'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '因此，要添加磁盘，转到**磁盘: 管理**。页面右侧有一个带圆圈的**+**符号（第一次可能会被忽略），点击它添加磁盘。在下一页上，选择要添加的磁盘。如果点击下拉菜单，应该看到机器的硬盘、光盘和
    USB 闪存磁盘。'
- en: Note
  id: totrans-50
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Disk Names in FreeBSD**'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: '**FreeBSD 中的磁盘名称**'
- en: 'The disk naming convention in FreeBSD is:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: FreeBSD 中的磁盘命名约定是：
- en: '**/dev/ad0:** *Is the IDE/ATA Primary Master*'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '**/dev/ad0:** *是 IDE/ATA 主设备*'
- en: '**/dev/ad1** *Is the IDE/ATA Primary Slave*'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '**/dev/ad1** *是 IDE/ATA 主从设备*'
- en: '**/dev/ad2** *Is the IDE/ATA Secondary Master*'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: '**/dev/ad2** *是 IDE/ATA 二级主设备*'
- en: '**/dev/ad3:** *Is the IDE/ATA Secondary Slave*'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '**/dev/ad3:** *是 IDE/ATA 二级从设备*'
- en: '**/dev/acd0:** *Is the first ATA CD/DVD drive detected*'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: '**/dev/acd0:** *是检测到的第一台 ATA CD/DVD 驱动器*'
- en: '**/dev/da0:** *Is the first SCSI hard drive, /dev/da1 the second and so on.*'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '**/dev/da0:** *是第一个 SCSI 硬盘，/dev/da1 是第二个，依此类推。*'
- en: USB flash disks are controlled using the SCSI driver, so they will appear as
    /dev/daN drives as well.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: USB 闪存磁盘使用 SCSI 驱动程序控制，因此它们也会显示为 /dev/daN 驱动器。
- en: Make sure ad0 is selected (which it should be by default). The rest of the page
    you can leave alone. Click **Add** to add the disk to the system. You then need
    to click **Apply** in order for the changes to take effect. You will now have
    a table showing you the disk you have added, including its size and a description.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 确保默认选择了 ad0。页面的其余部分可以不动。点击**添加**将磁盘添加到系统中。然后你需要点击**应用**以使更改生效。现在你将看到一个表格，显示你添加的磁盘，包括其大小和描述。
- en: Note
  id: totrans-61
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Apply**'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '**应用**'
- en: In FreeNAS, the majority of steps need to be applied (which saves the configuration
    file to disk) by clicking the *Apply* button. It is normally found near the top
    of the page before any tables or configuration information is given. If you do
    not apply the changes, the interface will, on the whole, remember your changes
    but they will not be enacted in the system. After a reboot, unapplied changes
    will disappear. It is possible on some pages to make multiple operations and apply
    them all at the end.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 在 FreeNAS 中，大多数步骤需要通过点击*应用*按钮（将配置文件保存到磁盘）来应用。通常这个按钮位于页面顶部，在任何表格或配置信息之前。如果你不应用这些更改，界面通常会记住你的更改，但它们不会在系统中生效。重启后，未应用的更改将会消失。在某些页面上，可以执行多个操作，然后一次性应用它们。
- en: 'Next, the disk needs to be formatted. In **Disks: Format**, select the disk
    ad0 (which you just added above). Leave everything else unchanged and click **Format
    disk**. The disk will then be formatted. The low level output of the format command
    will be displayed in a box. It should end with **Done!**.'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '接下来，需要格式化磁盘。在**磁盘: 格式**中，选择磁盘 ad0（刚刚添加的）。保持其他设置不变，点击**格式化磁盘**。然后磁盘将会被格式化。格式化命令的低级输出将显示在一个框中。应该以**完成！**结束。'
- en: 'Now the disk needs to be mounted. Go to **Disks: Mount Point**. Click on the
    **+** in the circle (which I shall refer to as the "add circle" from now on).
    Leave the **Type** as *Disk* and select the disk *ad0* again. You need to type
    in a name, *store* is as good a name as any, but feel free to use which ever descriptive
    name you want to.'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '现在需要挂载磁盘。转到**磁盘: 挂载点**。点击圆圈中的**+**（我将其称为“添加圆圈”）。将**类型**保持为*磁盘*，再次选择磁盘*ad0*。你需要输入一个名称，*store*是一个很好的名称，但随意使用任何你想要的描述性名称。'
- en: Note
  id: totrans-66
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Be Descriptive**'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '**描述性命名**'
- en: In setting up and configuring your FreeNAS server, you will be called upon to
    invent various names for mount points and share names etc. Try to be as descriptive
    as you can without being long winded. Temp, scratch, blob, and even zob are OK
    for testing, but try more meaningful names like storeage1, storage60gb or backupstorage
    etc. Don't use spaces in the names, instead use underline and in general, the
    names should be no longer than 15 characters.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 在设置和配置FreeNAS服务器时，你需要为挂载点、共享名称等发明各种名称。尽量用描述性强的名称，但不要过于冗长。Temp、scratch、blob甚至zob可以用于测试，但最好使用更有意义的名称，如storeage1、storage60gb或backupstorage等。名称中不要使用空格，使用下划线代替，并且一般来说，名称长度不应超过15个字符。
- en: Although filling-in the description isn't mandatory in the web interface, it
    is worth using. Once you have completed the form click **Add** and then apply
    the changes.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然在Web界面中填写描述不是强制性的，但还是值得使用的。填写完表单后，点击**添加**，然后应用更改。
- en: Sharing with Windows Machines
  id: totrans-70
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 与Windows机器共享
- en: Now that the disk has been added, formatted, and mounted, it is time to share
    it on the network and give other users the ability to read and write to it. FreeNAS
    supports many different types of access protocol, for this start guide, we will
    only look at Microsoft's CIFS protocol that primarily allows Windows machines
    (but also Apple OS X and Linux machines) to access the storage.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 现在磁盘已被添加、格式化并挂载，接下来是将其共享到网络上，并赋予其他用户读写权限。FreeNAS支持许多不同类型的访问协议，在本入门指南中，我们只会介绍Microsoft的CIFS协议，它主要允许Windows机器（但也支持Apple
    OS X和Linux机器）访问存储。
- en: '1\. In Services: **CIFS/SMB**, tick the enable box (in the title of the configuration
    data table). At this point, you can just about leave everything else as is with
    the exception of the workgroup name. We will be leaving the authentication method
    as "Anonymous" here as this is the easiest to get working and provides unrestricted
    read/write access to everyone.'
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 1\. 在服务：**CIFS/SMB**中，勾选启用框（在配置数据表的标题处）。此时，除了工作组名称外，你几乎可以保持其他设置不变。我们将保持认证方法为“匿名”，因为这是最容易设置的方式，并且提供对所有人的无限制读写访问权限。
- en: 2\. To make sure that the Windows machines are able to find the shared storage,
    we need to set the workgroup name, on the FreeNAS server, to be the same as the
    workgroup name of the Windows PC that will access the share. The default workgroup
    name for Windows Vista is WORKGROUP but note that the default for Window XP Home
    Edition was MSHOME.
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 2\. 为确保Windows机器能够找到共享存储，我们需要将FreeNAS服务器上的工作组名称设置为与将访问共享的Windows PC的工作组名称相同。Windows
    Vista的默认工作组名称是WORKGROUP，但请注意，Windows XP家庭版的默认工作组名称是MSHOME。
- en: 3\. Now click **Save and Restart**. This will save the changes you have made
    and restart the CIFS service.
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 3\. 现在点击**保存并重启**。这将保存你所做的更改并重启CIFS服务。
- en: 4\. Go to the **Shares** tab and click on add circle. Enter a name for the share.
    Repeating the name of the mount point is probably the safest policy, so in this
    case, store and also add a comment. Then click **..**. in the **Path** section.
    This will bring up a simple file system browser. The files you are seeing are
    on the FreeNAS server and NOT on your local PC. Click **store** and **/mnt/store/**
    will appear in the little edit box at the click. **OK** it and you will be taken
    back to the shares page. Now **/mnt/store/** has been added as the path.
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 4\. 进入**共享**标签页并点击添加共享。输入共享的名称。重复挂载点名称可能是最安全的做法，因此在这种情况下，输入“store”并同时添加评论。然后点击**..**，在**路径**部分。这将弹出一个简单的文件系统浏览器。你看到的文件位于FreeNAS服务器上，而不是本地PC上。点击**store**，**/mnt/store/**会出现在小的编辑框中。点击**确定**，你将返回到共享页面。现在，**/mnt/store/**已作为路径被添加。
- en: 5\. Leave everything else as it is and click **Add** and then apply the changes.
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 5\. 保持其他设置不变，点击**添加**，然后应用更改。
- en: So now the first hard disk of the computer is formatted, mounted, and shared
    to the rest of the network. Now, we will access the share from a Windows Vista
    machine.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 现在计算机的第一个硬盘已经格式化、挂载并共享到网络上的其他设备。接下来，我们将在Windows Vista机器上访问该共享。
- en: Testing the Share
  id: totrans-78
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 测试共享
- en: You can perform this test from any machine that supports the CIFS protocol including
    Windows 95/98/ME, Windows 2000/XP, Apple OS X, and Linux. Here, we are going to
    use Windows Vista.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以从任何支持CIFS协议的机器进行此测试，包括Windows 95/98/ME、Windows 2000/XP、Apple OS X和Linux。这里，我们将使用Windows
    Vista。
- en: 1\. Open the Network and Sharing Center by clicking **Network** on the Start
    menu. When the window appears, Vista will automatically scan the network for any
    shared network resources. When it has finished, you will see the available machines
    on the network including **FREENAS**.
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 1\. 点击 **开始** 菜单中的 **网络**，打开网络和共享中心。窗口出现时，Vista 会自动扫描网络上的共享资源。扫描完成后，你将看到网络上的可用计算机，包括
    **FREENAS**。
- en: '![Testing the Share](img/4688_03_04.jpg)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
  zh: '![测试共享](img/4688_03_04.jpg)'
- en: 2\. Open up the **FREENAS** computer and you will see store, the storage area
    that you configured. Double click on that and you now "inside" the FreeNAS server
    from within your Windows machine. Try dragging and dropping a few files in to
    the store area. Then try deleting them again.
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 2\. 打开 **FREENAS** 计算机，你会看到你配置的存储区域。双击它，你现在就可以从 Windows 机器内部访问 FreeNAS 服务器了。尝试将一些文件拖放到存储区域中，然后再试着删除它们。
- en: '3\. To access the FreeNAS server without using the Network and Sharing Center,
    click **Start**, and type **\\freenas** and then press *Enter*. This will bring
    up the shares available on the FreeNAS server directly:'
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 3\. 如果不想通过网络和共享中心访问 FreeNAS 服务器，可以点击 **开始**，输入 **\\freenas** 然后按 *Enter*。这将直接显示
    FreeNAS 服务器上可用的共享资源：
- en: '![Testing the Share](img/4688_03_05.jpg)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![测试共享](img/4688_03_05.jpg)'
- en: Detailed Overview of Installation
  id: totrans-85
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装的详细概述
- en: It is time to get your hands on a working FreeNAS server and to do that, we
    need to boot it up onto a PC. There are several steps to this. First, you must
    burn a CD of the ISO image file you have downloaded. Then, you need to boot the
    PC from the CD; this may involve changing your computers BIOS to make it boot
    from the optical drive. Then, you can configure the FreeNAS server to make some
    storage space available on the network.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 是时候着手配置一个可用的 FreeNAS 服务器了，为此，我们需要将其启动到一台 PC 上。这个过程有几个步骤。首先，你需要刻录你下载的 ISO 镜像文件到光盘上。然后，需要从光盘启动
    PC；这可能需要你在 BIOS 中进行设置，使计算机从光驱启动。接下来，你可以配置 FreeNAS 服务器，让网络上可以使用存储空间。
- en: 'When using the LiveCD to boot FreeNAS, there are two types of storage on FreeNAS:
    data and configuration information. The data will be held on the hard drive of
    the PC, but the configuration needs to be held on a floppy disk or a USB flash
    disk. For this example, we will use a USB flash disk to store the configuration
    information.'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 在使用 LiveCD 启动 FreeNAS 时，FreeNAS 上有两种类型的存储：数据存储和配置存储。数据将保存在 PC 的硬盘上，但配置需要保存在软盘或
    USB 闪存盘上。在本示例中，我们将使用 USB 闪存盘来存储配置文件。
- en: Making the FreeNAS CD
  id: totrans-88
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 制作 FreeNAS 光盘
- en: To boot the PC into FreeNAS, you need a CD. The ISO image file you have downloaded
    contains all the information needed for the CD, but it needs to be written onto
    a physical CD. This process is often known as *burning* the CD as the laser writes
    to the disk by heating it and marking or scorching the surface layer.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 要将 PC 启动到 FreeNAS，你需要一张光盘。你下载的 ISO 镜像文件包含了刻录光盘所需的所有信息，但它需要被写入到实际的光盘中。这个过程通常被称为*刻录*光盘，因为激光通过加热和标记或灼烧表层的方式将数据写入光盘。
- en: You need to use a PC with a CD-RW drive and a blank CD-R disk (I recommend using
    a good brand name CD-R for best results). Download the FreeNAS ISO image on to
    that machine. The PC with the CD writer should have some CD writing software on
    it (for example Roxio Easy CD or Nero). If you are familiar with the CD writing
    software, go ahead and burn the ISO file to the CD-R disk.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要一台带有 CD-RW 光驱的 PC 和一张空白的 CD-R 光盘（我建议使用一个知名品牌的 CD-R 光盘以获得最佳效果）。将 FreeNAS 的
    ISO 镜像下载到该机器上。带有 CD 刻录机的 PC 应该安装了某些 CD 刻录软件（例如 Roxio Easy CD 或 Nero）。如果你熟悉 CD
    刻录软件，直接将 ISO 文件刻录到 CD-R 光盘上即可。
- en: Note
  id: totrans-91
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: If you aren't familiar with the CD writing software or it doesn't have any CD
    writing software, then I recommend ISO Recorder. You can download it from [http://isorecorder.alexfeinman.com/isorecorder.htm](http://isorecorder.alexfeinman.com/isorecorder.htm).
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你不熟悉 CD 刻录软件，或者没有安装任何 CD 刻录软件，那么我推荐使用 ISO Recorder。你可以从[http://isorecorder.alexfeinman.com/isorecorder.htm](http://isorecorder.alexfeinman.com/isorecorder.htm)下载它。
- en: Booting from CD
  id: totrans-93
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 从光盘启动
- en: Put your newly made FreeNAS CD into the CD drive of the machine on which you
    want to install FreeNAS, and also put the USB flash disk into a USB port. The
    flash disk will be used to store the configuration data. (You can also use a floppy
    disk. If you have both a USB flash disk and a floppy inserted, FreeNAS will save
    the configuration on the USB device). Now, you need to switch on the PC. When
    a PC starts, it goes through what is known as the Power On Self Test sequence.
    Here, the PC will check the amount of memory installed in the PC and find the
    installed hard drives. After the checks, the PC will try and boot from one of
    the hard drives, the CDROM, the floppy disk or even a USB flash disk. Which device
    the PC chooses first as its boot device can be changed by a built-in setup program.
    The setup program lets you modify basic system configuration settings. These settings
    are stored in a special battery-backed area of the computer's memory that retains
    the settings even when the power is switched off. During the POST sequence, there
    is normally a message telling you how to enter into the built-in setup program.
    It is normally either the *DEL* key or *F2*, on some systems it is also *F10*.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 将你新制作的 FreeNAS CD 插入你希望安装 FreeNAS 的机器的 CD 驱动器中，同时将 USB 闪存盘插入 USB 端口。闪存盘将用于存储配置数据。（你也可以使用软盘。如果同时插入了
    USB 闪存盘和软盘，FreeNAS 会将配置保存在 USB 设备上。）现在，你需要开启 PC。当 PC 启动时，它会经过所谓的自检（Power On Self
    Test，POST）过程。在这个过程中，PC 会检查安装的内存大小，并检测已安装的硬盘。在自检后，PC 会尝试从一个硬盘、CD-ROM、软盘甚至 USB 闪存盘启动。PC
    选择哪个设备作为启动设备，可以通过内置的设置程序来更改。设置程序允许你修改基本的系统配置设置。这些设置存储在计算机内存的一个特殊的电池供电区域，即使关机时也能保持这些设置。在
    POST 过程中，通常会显示一条信息，告诉你如何进入内置设置程序。通常是 *DEL* 键或 *F2* 键，在某些系统中，也可能是 *F10* 键。
- en: You need to enter into the setup to check and/or change the first boot device
    to be the CDROM so that the computer will boot into FreeNAS. Each PC has a slightly
    different setup program, so you will need to search around until you find what
    you need. The three most popular types of setup programs (also known as BIOS—Basic
    Input Output Program) are the Phoenix setup program, the Phoenix-Award setup program,
    and the AMI setup program.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要进入设置程序检查和/或更改第一个启动设备为 CD-ROM，以便计算机能够从 FreeNAS 启动。每台 PC 的设置程序略有不同，所以你需要到处查找，直到找到所需的设置。三种最流行的设置程序（也称为
    BIOS——基本输入输出程序）是 Phoenix 设置程序、Phoenix-Award 设置程序和 AMI 设置程序。
- en: Note
  id: totrans-96
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: There are many types of BIOS setup programs and each PC manufacturer modifies
    the setup program for their own use. The information below is really only a "rough
    guide" to help you feel your way around. Your BIOS setup program may be significantly
    different from the examples below. The best source of information is the manual
    that came with your PC or your motherboard. If you don't have one, most PC manufacturers
    have them available for download on their websites.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 有很多种类的 BIOS 设置程序，每个 PC 制造商都会根据自己的需求修改设置程序。以下信息仅是一个“粗略指南”，帮助你熟悉操作。你的 BIOS 设置程序可能与下面的示例有很大不同。最好的信息来源是随
    PC 或主板附带的手册。如果你没有手册，大多数 PC 制造商会在他们的网站上提供下载。
- en: Phoenix BIOS
  id: totrans-98
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Phoenix BIOS
- en: If your machine has a Phoenix BIOS, then normally you need to press F2 to enter
    the setup program. The top of the setup program has a menu that you can navigate
    with the left and right arrow keys, you need to select the **Boot** menu.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的机器使用的是 Phoenix BIOS，通常需要按 F2 键进入设置程序。设置程序顶部有一个菜单，你可以使用左右箭头键进行导航，你需要选择 **Boot**
    菜单。
- en: '![Phoenix BIOS](img/4688_03_06.jpg)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![Phoenix BIOS](img/4688_03_06.jpg)'
- en: On the **Boot** menu page, you can move up and down the available boot devices
    using the up and down arrow keys. You can expand and collapse sections with the
    **+** or **-** signs using the *ENTER* key. To change the boot order, you use
    the **+** and **-**keys. You want to make sure that the CDROM is the first device
    in the list. After you have changed the boot order list, you need to go to the
    Exit menu (by pressing the right arrow key) and select **Exit Saving Changes**.
    The PC will then reboot and after the POST, it will start to boot from the FreeNAS
    CD.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 在 **Boot** 菜单页面上，你可以使用上下箭头键选择可用的启动设备。你可以使用 *ENTER* 键展开或收起各个部分。要更改启动顺序，使用 **+**
    和 **-** 键。你需要确保 CD-ROM 是列表中的第一个设备。在你更改了启动顺序后，需要进入退出菜单（按右箭头键），然后选择 **Exit Saving
    Changes**。此时，PC 会重新启动，在 POST 后，它将从 FreeNAS CD 启动。
- en: '![Phoenix BIOS](img/4688_03_07.jpg)'
  id: totrans-102
  prefs: []
  type: TYPE_IMG
  zh: '![Phoenix BIOS](img/4688_03_07.jpg)'
- en: Phoenix-Award BIOS
  id: totrans-103
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Phoenix-Award BIOS
- en: If your PC has a Phoenix-Award BIOS, then normally, you need to press DEL to
    enter the setup program. Once inside, you can the up, down, left, and right keys
    to navigate around the menus. Go in to *Advanced BIOS Features* and set the *First
    Boot Device* to be CDROM by using the **+** and keys. You now need to save your
    changes and exit. Pressing *ESC* will bring you back to the main menu, then select
    **Save & Exit Setup**. Often, pressing *F10* will have the same effect. The PC
    will then reboot and if you have made the changes correctly, it will boot from
    the FreeNAS CD.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的 PC 使用 Phoenix-Award BIOS，通常需要按 DEL 进入设置程序。进入后，你可以使用上下左右键在菜单中导航。进入 *Advanced
    BIOS Features*，然后使用 **+** 和 **-** 键将 *First Boot Device* 设置为 CDROM。现在，你需要保存更改并退出。按
    *ESC* 键会返回主菜单，然后选择 **Save & Exit Setup**。通常，按 *F10* 键也会达到相同效果。此时，PC 会重新启动，如果你正确进行了更改，它会从
    FreeNAS CD 启动。
- en: AMI BIOS
  id: totrans-105
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: AMI BIOS
- en: The American Megatrends, Inc (AMI) BIOS normally displays a message telling
    you to **Hit <DEL> if you want to run setup**. Once inside, it is quite different
    to that of the setup programs for Phoenix or Award. Here, the *Tab* key is used
    to navigate and the arrow keys are used to change values. To go from one page
    to the next, press the *ALT+P* keys. This information should also be printed at
    the bottom of the BIOS setup page. You need to find the variable *Boot Sequence*
    and make sure that it is set to boot from the CDROM first.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 美国 Megatrends 公司（AMI）BIOS 通常会显示一条信息，提示你**按 <DEL> 进入设置**。进入设置后，与 Phoenix 或 Award
    的设置程序有很大的不同。在这里，*Tab* 键用于导航，方向键用于更改值。要从一页跳转到下一页，按 *ALT+P* 键。此信息通常也会打印在 BIOS 设置页面的底部。你需要找到变量
    *Boot Sequence* 并确保它设置为首先从 CDROM 启动。
- en: First Look at FreeNAS
  id: totrans-107
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 初次体验 FreeNAS
- en: The boot process is in 4 distinct parts. First, the PC will go through its POST
    (Power On Self Test) sequence. Here, the PC will check the amount of memory installed
    (which you can often see being counted on the screen) and which devices are connected
    (like hard drives and CDROMs). It should then start to boot from the CD. Here,
    FreeBSD (the underlying OS of FreeNAS) will start to boot, this is recognisable
    by the simple spinning wheel (made up of simple text characters like | - / and
    \ which are animated to give the appearance of spinning). The third step is the
    FreeNAS boot menu. This will appear for just five seconds and you should just
    let it boot normally which is the default. The final stage is when the FreeNAS
    logo appears and the system will boot as a FreeNAS server. You can tell when the
    system is fully loaded because the PC speaker will make some short but melodious
    beeps.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 启动过程分为 4 个独立的部分。首先，PC 会执行其 POST（Power On Self Test）序列。在此过程中，PC 会检查已安装的内存数量（通常可以在屏幕上看到内存计数）以及连接的设备（如硬盘和
    CDROM）。然后，它应该开始从 CD 启动。在这一阶段，FreeBSD（FreeNAS 的底层操作系统）将开始启动，可以通过简单的旋转小圆圈（由简单的文本字符如
    | - / 和 \ 组成，这些字符动画化呈现出旋转的效果）来识别。第三步是 FreeNAS 启动菜单。这个菜单将只显示五秒钟，你应该让它正常启动，这是默认选项。最后阶段是
    FreeNAS 标志的出现，系统将作为 FreeNAS 服务器启动。你可以通过 PC 喇叭发出的短促而悦耳的哔哔声来判断系统是否完全加载。
- en: Configuring the Network
  id: totrans-109
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 配置网络
- en: The majority of the configuration for FreeNAS is done via a web interface, but
    before you can use the web interface, the FreeNAS server needs to be configured
    for your network. This is done via a simple text menu system using the keyboard
    and monitor attached to the PC with FreeNAS running on it. You probably only need
    to do this once, and after that this new network information will be saved on
    the USB flash disk (or floppy disk) and the server will boot into this configuration
    every time.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: FreeNAS 的大部分配置通过网页界面完成，但在你使用网页界面之前，FreeNAS 服务器需要配置为适应你的网络。这是通过连接到运行 FreeNAS
    的 PC 的键盘和显示器上的简单文本菜单系统完成的。你可能只需要执行一次此操作，之后这些网络配置信息将保存在 USB 闪存盘（或软盘）中，并且服务器每次启动时都会加载这些配置。
- en: If you press the SPACE bar on FreeNAS machine, the FreeNAS logo will disappear
    and a simple menu will appear.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你在 FreeNAS 机器上按空格键，FreeNAS 标志会消失，并出现一个简单的菜单。
- en: '![Configuring the Network](img/4688_03_01.jpg)'
  id: totrans-112
  prefs: []
  type: TYPE_IMG
  zh: '![配置网络](img/4688_03_01.jpg)'
- en: Here, you have a number of options including options to reboot or power off
    the system. The first two options are about configuring the network and they reflect
    the two parts to configuring the network, first you need to choose which network
    card to use (option 1) and second you need to assign it an address (option 2).
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，你有多个选项，包括重启或关闭系统的选项。前两个选项是关于配置网络的，它们反映了配置网络的两个部分：首先，你需要选择使用哪个网络卡（选项1）；其次，你需要为其分配一个地址（选项2）。
- en: If you have only one network card in your machine then the FreeNAS server should
    have found it and automatically assigned it to be the LAN (Local Area Network)
    interface.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的机器只有一张网卡，那么FreeNAS服务器应该已经找到了它并自动将其分配为局域网（LAN）接口。
- en: Note
  id: totrans-115
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**What If My Network Card Isn''t Found?**'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果找不到我的网卡怎么办？**'
- en: 'This probably means that the network card in your machine isn''t supported
    by FreeNAS or more specifically by FreeBSD. You will need to replace the card
    with one supported by FreeBSD. Check the FreeBSD hardware compatibility page for
    more information: [http://www.freebsd.org/releases/6.2R/hardware-i386.html](http://www.freebsd.org/releases/6.2R/hardware-i386.html)'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 这可能意味着你的机器中的网卡不被FreeNAS或更具体地说，FreeBSD所支持。你需要更换一个被FreeBSD支持的网卡。请查看FreeBSD硬件兼容页面以获取更多信息：[http://www.freebsd.org/releases/6.2R/hardware-i386.html](http://www.freebsd.org/releases/6.2R/hardware-i386.html)
- en: 'If you see something like the following screenshot:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你看到以下截图：
- en: '![Configuring the Network](img/4688_03_02.jpg)'
  id: totrans-119
  prefs: []
  type: TYPE_IMG
  zh: '![配置网络](img/4688_03_02.jpg)'
- en: then the network has been recognised and assigned automatically by FreeNAS.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 那么网络已经被FreeNAS识别并自动分配。
- en: What is a LAN IP Address?
  id: totrans-121
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 什么是局域网IP地址？
- en: IP stands for Internet Protocol and it is the basic low level language that
    computers use to talk to each other on the Internet. It is also used on private
    networks (in the office or at home) to connect different PCs and even printers
    to each other. An IPv4 address is made up of 4 sets of number (0 to 255) and is
    expressed in what is known as dot notation (meaning that each number has a dot
    between it). So 192.168.1.250 is an IP address, it also happens to be the default
    IP address for the FreeNAS server. Like email, the postal service and telephone,
    each destination (email account, mailbox or handset) needs a unique way of being
    identified. This is what IP addresses do; they allow each piece of equipment on
    the network to have a unique identifier so that messages can be addressed to the
    right place on the network.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: IP代表互联网协议，它是计算机在互联网上相互通信的基本低级语言。它也用于私人网络（如办公室或家庭网络），将不同的PC甚至打印机连接在一起。IPv4地址由4组数字（0到255）组成，并以点分十进制表示（意味着每组数字之间有一个点）。例如，192.168.1.250是一个IP地址，它也恰好是FreeNAS服务器的默认IP地址。就像电子邮件、邮政服务和电话一样，每个目的地（电子邮件账户、邮箱或电话）需要一种唯一的标识方式。这就是IP地址的作用；它们使得网络上的每个设备都有一个唯一的标识符，以便消息能够被准确地传送到网络中的正确位置。
- en: Note
  id: totrans-123
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Pronouncing IP Addresses**'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: '**如何发音IP地址**'
- en: If you need to speak to someone about an IP address, the simplest way is to
    speak about each digit separately, so 192.168.1.250 isn't "one hundred and ninety
    two dot" but rather "one nine two dot one six eight dot one dot two five zero".
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你需要与某人讨论IP地址，最简单的方式是分别说出每个数字。例如，192.168.1.250 不是“one hundred and ninety two
    dot”，而是“one nine two dot one six eight dot one dot two five zero”。
- en: There are two ways in which you can obtain an IP address for the FreeNAS server.
    The first is to have the address assigned automatically via the DHCP service (Dynamic
    Host Configuration Protocol), and the second is to assign it manually.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 有两种方式可以为FreeNAS服务器获取IP地址。第一种是通过DHCP服务（动态主机配置协议）自动分配地址，第二种是手动分配地址。
- en: Note
  id: totrans-127
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**What is DHCP?**'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: '**什么是DHCP？**'
- en: The Dynamic Host Configuration Protocol (DHCP) automates the assignment of IP
    addresses and other IP parameters (like subnet masks and default gateway). A computer
    that needs an IP address will send a request to the DHCP server and the server
    will reply with an IP address from a pool of addresses that have been set aside
    for this purpose. A DHCP server can be a PC or server (running Windows, OS X or
    Linux) as well as small devices like modern DSL modems and firewalls.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 动态主机配置协议（DHCP）自动分配IP地址和其他IP参数（如子网掩码和默认网关）。需要IP地址的计算机会向DHCP服务器发送请求，服务器将从为此目的预留的地址池中回复一个IP地址。DHCP服务器可以是PC或服务器（运行Windows、OS
    X或Linux），也可以是小型设备，如现代DSL调制解调器和防火墙。
- en: The advantage of the DHCP method is that the IP address assignment, all happens
    in the background and you don't need to worry about setting it yourself. The disadvantages
    are that first you need to have an already configured and running DHCP server
    on your network; and second, DHCP assigns addresses from a pool of available addresses.
    This means that every time the FreeNAS server boots, it is not guaranteed to have
    the same address as it had previously. This isn't a problem when using the CIFS
    protocol, however, for accessing the web interface or using protocols like FTP,
    it is desirable to have a stable IP address to refer to. However, for testing
    the FreeNAS server and learning about how it works using a DHCP assigned address
    could be acceptable for now.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: DHCP 方法的优点在于 IP 地址的分配完全在后台进行，你无需担心手动设置。缺点是，首先，你的网络中必须已经配置并运行着 DHCP 服务器；其次，DHCP
    是从可用地址池中分配地址。这意味着每次 FreeNAS 服务器启动时，它不一定会拥有之前相同的地址。当使用 CIFS 协议时，这不是问题，但如果要访问 Web
    界面或使用像 FTP 这样的协议，最好是有一个稳定的 IP 地址进行引用。不过，出于测试 FreeNAS 服务器或了解其工作方式的目的，使用 DHCP 分配的地址现在是可以接受的。
- en: Note
  id: totrans-131
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: It is actually possible to assign fixed, permanent IP address to certain pieces
    of hardware, including a FreeNAS server over DHCP, but that requires extra advanced
    configuration changes in the DHCP server that cannot be covered in this book.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 事实上，可以通过 DHCP 为某些硬件（包括 FreeNAS 服务器）分配固定的、永久的 IP 地址，但这需要在 DHCP 服务器上进行额外的高级配置更改，这些更改本书无法涵盖。
- en: So opting for the manual IP address, you now need to obtain two pieces of information.
    The first is the actual IP address for the FreeNAS and the second is what is known
    as the subnet mask. The subnet mask will also be expressed in the dot notation
    and is normally something like 255.255.255.0\. If you are in an office environment,
    you need to speak to the network administrator and he/she will be able to give
    you the information you need. If you are administering your own network, you need
    to choose an IP that isn't currently allocated to any other machine on your network
    (and also, isn't part of the address pool of any DHCP server on your network).
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，选择手动设置 IP 地址后，你现在需要获取两条信息。第一条是 FreeNAS 的实际 IP 地址，第二条是所谓的子网掩码。子网掩码也会以点分十进制表示，通常类似于
    255.255.255.0。如果你在办公环境中工作，需要与网络管理员联系，他/她会提供所需的信息。如果你是在管理自己的网络，则需要选择一个当前未分配给网络中其他计算机的
    IP 地址（同时，这个地址也不能属于网络中任何 DHCP 服务器的地址池）。
- en: Having obtained the IP address and subnet mask, you can now configure the FreeNAS
    server for your network. Select option 2 on the console menu. If you have chosen
    to have DHCP assign the address, answer yes (y) to the first question about using
    DHCP for IPv4\. Otherwise answer no (n).
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 在获得了 IP 地址和子网掩码后，你可以为你的网络配置 FreeNAS 服务器。在控制台菜单中选择选项 2。如果你选择了让 DHCP 分配地址，请对关于使用
    DHCP 为 IPv4 配置的第一个问题回答“是”（y）。否则回答“否”（n）。
- en: 'If you are setting the address manually, you can now enter the address in dot
    notation, i.e. 192.168.1.240\. Next, comes the subnet mask. If your subnet mask
    is 255.255.255.0: enter 24, for 255.255.0.0: enter 16, and for 255.0.0.0: enter
    8\. At this point, you can now skip the default gateway and DNS questions (by
    just pressing *ENTER*).'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你正在手动设置地址，可以现在使用点分十进制输入地址，例如：192.168.1.240。接下来是子网掩码。如果你的子网掩码是 255.255.255.0：输入
    24；如果是 255.255.0.0：输入 16；如果是 255.0.0.0：输入 8。此时，你可以跳过默认网关和 DNS 设置（只需按 *ENTER* 键）。
- en: We won't be using IPv6 so the simplest thing to do now is just answer yes to
    the "Do you want to use AutoConfiguration for IPv6?" question. This will cause
    a small delay while FreeNAS tries (and probably fails) to get the IPv6 address
    but it is simpler than trying to enter the IPv6 address manually!
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 我们不会使用 IPv6，因此最简单的方法是对“是否要使用 IPv6 自动配置？”这个问题回答“是”。这将导致 FreeNAS 尝试（并且可能失败）获取
    IPv6 地址时出现短暂的延迟，但比手动输入 IPv6 地址要简单！
- en: After you have successful set the IP address, there will be a small message
    on the screen inviting you to access the web interface by opening the listed URL
    in your web browser. If you have used DHCP, note down the URL listed. If you set
    the IP address manually, check that the URL listed is the same as the IP address
    you set with [http://](http://) in front of it.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 在成功设置 IP 地址后，屏幕上会显示一条小信息，邀请你通过在浏览器中打开列出的 URL 来访问 Web 界面。如果你使用了 DHCP，请记下列出的 URL。如果你手动设置了
    IP 地址，请检查列出的 URL 是否与设置的 IP 地址相同，并在其前面加上 [http://](http://)。
- en: You are now ready to access the web interface.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你可以访问 Web 界面了。
- en: Note
  id: totrans-139
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**What is IPv4 and IPv6?**'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: '**什么是 IPv4 和 IPv6？**'
- en: The Internet Protocol has been around since the mid 1980's and when it was designed,
    the popularity of the Internet was not envisaged. The number of computers connected
    to the Internet is quickly growing beyond the addressing capabilities of the original
    protocol. As an answer to this, a new version of the IP protocol has been designed
    and has been given the name IP version 6 or IPv6 for short and the older version
    has taken the name IP version 4 or IPv4 for short. FreeNAS supports both versions
    of the Internet Protocol. In this book, we will concentrate just on IPv4 as it
    still remains the most popular of the two protocols.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 互联网协议自1980年代中期以来就已存在，在设计时并未预见到互联网的普及。连接到互联网的计算机数量正在迅速增长，已经超出了原始协议的寻址能力。为此，设计了新的
    IP 协议版本，并被命名为 IPv6（即 IP 版本 6），而旧版本则被称为 IPv4（即 IP 版本 4）。FreeNAS 支持这两种版本的互联网协议。在本书中，我们将只专注于
    IPv4，因为它仍然是这两种协议中最为流行的。
- en: Basic Configuration
  id: totrans-142
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 基本配置
- en: With your FreeNAS server now being up and running, it is time to access the
    web interface. Open a web browser on a computer on the same network as the FreeNAS
    server. Enter in the URL of the FreeNAS server. This should be the same as the
    IP address of the server with [http://](http://) in the front. The default URL
    is [http://192.168.1.250](http://192.168.1.250).
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 现在 FreeNAS 服务器已经启动并运行，是时候访问 Web 界面了。在与 FreeNAS 服务器同一网络上的计算机上打开浏览器，输入 FreeNAS
    服务器的 URL。该地址应与服务器的 IP 地址相同，并以 [http://](http://) 开头。默认的 URL 是 [http://192.168.1.250](http://192.168.1.250)。
- en: '![Basic Configuration](img/4688_03_08.jpg)'
  id: totrans-144
  prefs: []
  type: TYPE_IMG
  zh: '![基本配置](img/4688_03_08.jpg)'
- en: The first time you access the FreeNAS web interface, you will be asked for the
    username and password. The default username is *admin* and the default password
    is *freenas*.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 第一次访问 FreeNAS Web 界面时，系统会要求输入用户名和密码。默认的用户名是*admin*，默认的密码是*freenas*。
- en: '![Basic Configuration](img/4688_03_09.jpg)'
  id: totrans-146
  prefs: []
  type: TYPE_IMG
  zh: '![基本配置](img/4688_03_09.jpg)'
- en: FreeNAS Web Interface
  id: totrans-147
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: FreeNAS Web 界面
- en: 'You should now have the web interface in your browser. The interface is split
    into two main sections. Down the left-hand-side are the menus, and the right-hand-side
    contains the pages for configuration. The menus are split into various sections:
    System, Interfaces, Disks, Services, Access, Status, Diagnostics, and Advanced.'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你应该已经可以在浏览器中看到 Web 界面。界面分为两大部分：左侧是菜单，右侧是配置页面。菜单分为多个部分：系统、网络接口、磁盘、服务、访问、状态、诊断和高级。
- en: '![FreeNAS Web Interface](img/4688_03_03.jpg)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![FreeNAS Web 界面](img/4688_03_03.jpg)'
- en: Note
  id: totrans-150
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: 'When talking about a particular menu item, we shall use the notation Subsection:
    Menu Item to help you find the right menu option easily. So, the Management option,
    which is in the Disks subsection, will be referred to as **Disks: Management**.'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: '当谈到某个特定的菜单项时，我们会使用“子部分: 菜单项”的格式来帮助你快速找到正确的菜单选项。例如，位于磁盘子部分中的管理选项，我们将称其为**磁盘:
    管理**。'
- en: System
  id: totrans-152
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 系统
- en: This section is for system level configuration and operations, here for example
    you can change the username and password, backup and restore the configuration
    data, and shutdown or reboot the server.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 这一部分是用于系统级配置和操作的，例如你可以在这里更改用户名和密码，备份和恢复配置数据，以及关闭或重启服务器。
- en: Interfaces
  id: totrans-154
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 网络接口
- en: Here, you can configure the network of the FreeNAS server much like you did
    via the console menu. You can change the network card that is used for the web
    interface and assign permanent or automatic IP addresses.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，你可以像通过控制台菜单一样配置 FreeNAS 服务器的网络。你可以更改用于 Web 界面的网卡，并为其分配永久或自动的 IP 地址。
- en: Be careful when you change things here as some changes won't take effect until
    you reboot. If you have changed any of the addressing, you will need to access
    the web interface with the IP address.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里进行更改时要小心，因为有些更改需要重启才能生效。如果你更改了任何寻址信息，你需要使用新的 IP 地址访问 Web 界面。
- en: Disks
  id: totrans-157
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 磁盘
- en: This section of the menu is for administering the disks on the server. Here,
    you can set up disk redundancy (RAID), control encryption, format disks, and mount
    the disks on the server.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 这个菜单部分用于管理服务器上的磁盘。在这里，你可以设置磁盘冗余（RAID）、控制加密、格式化磁盘，并将磁盘挂载到服务器上。
- en: Services
  id: totrans-159
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 服务
- en: The various access protocols like CIFS, NFS, and FTP are controlled from here.
    Each service is administered individually and by default NONE of the services
    are enabled, so before you can access files stored on the FreeNAS server, you
    need to enable at least one of these services.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 各种访问协议如 CIFS、NFS 和 FTP 都可以从这里控制。每个服务都可以单独管理，默认情况下没有启用任何服务，因此在您能够访问存储在 FreeNAS
    服务器上的文件之前，您需要启用至少一个服务。
- en: Access
  id: totrans-161
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 访问
- en: Most of the services offered by FreeNAS use some form of list of users to control
    who has access and who does not. This section is for defining these users and
    the groups they belong to as well as connecting the FreeNAS server to other directory
    services.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: FreeNAS 提供的大多数服务使用某种形式的用户列表来控制谁可以访问，谁不能访问。本节用于定义这些用户及其所属的组，并将 FreeNAS 服务器连接到其他目录服务。
- en: Status
  id: totrans-163
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 状态
- en: The status menu has several reporting tools for you to see the current state
    of your FreeNAS server including a general overview, memory usage, disk usage,
    and network usage. You can also configure emails to be sent periodically about
    the status of the server.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 状态菜单有几个报告工具，您可以通过这些工具查看 FreeNAS 服务器的当前状态，包括概述、内存使用情况、磁盘使用情况和网络使用情况。您还可以配置定期发送有关服务器状态的电子邮件。
- en: Diagnostics
  id: totrans-165
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 诊断
- en: The diagnostics menu contains different tools to help diagnose any problem with
    the FreeNAS server, including logs of all the important services and diagnostic
    information from the hard disks and other system modules.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 诊断菜单包含不同的工具，帮助诊断 FreeNAS 服务器的任何问题，包括所有重要服务的日志和来自硬盘及其他系统模块的诊断信息。
- en: Advanced
  id: totrans-167
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 高级
- en: The advanced section provides some simple tools for executing commands at the
    operating system level and should not be used by those unfamiliar with FreeBSD.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 高级部分提供了一些简单的工具，用于在操作系统级别执行命令，不熟悉 FreeBSD 的用户不应使用。
- en: Adding a Disk
  id: totrans-169
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 添加磁盘
- en: 'To configure some storage space, you need to work with "Disks". The logical
    order of working with disks is:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 要配置一些存储空间，您需要使用“磁盘”。与磁盘工作的逻辑顺序如下：
- en: 1\. First, FreeNAS needs to be told about the disks it can use. A disk can be
    a physical hard drive as well as a CD-ROM or an iSCSI target.
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 1\. 首先，需要告诉 FreeNAS 它可以使用哪些磁盘。磁盘可以是物理硬盘，也可以是 CD-ROM 或 iSCSI 目标。
- en: 2\. Next, the disks need to be formatted (if need be).
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 2\. 接下来，需要对磁盘进行格式化（如果需要的话）。
- en: 3\. After that, the disks need to be mounted. This means that they are made
    available as working disk space, which can be used by the system. Before being
    mounted, the disks are not available to be used as storage space.
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 3\. 之后，磁盘需要被挂载。这意味着它们被用作工作磁盘空间，可以被系统使用。在挂载之前，磁盘不可用作存储空间。
- en: 4\. Finally, the storage space needs to be made available to the network via
    one of the access protocols, for example CIFS, NFS or FTP. To do this, the respective
    service needs to be enabled and configured to use the disk.
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 4\. 最后，存储空间需要通过一种访问协议提供给网络，例如 CIFS、NFS 或 FTP。为此，需要启用相应的服务并配置使用磁盘。
- en: 'Here are the steps in detail:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是详细步骤：
- en: '1\. Go to **Disks: Management**.'
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 1\. 进入 **磁盘：管理**。
- en: There is a + sign in a circle on the right-hand-side of the page (which shall
    be referred to as the "add circle" from now on), click it to add a disk.
  id: totrans-177
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在页面右侧有一个带圆圈的 + 号（以下称为“添加圆圈”），点击它可以添加磁盘。
- en: On the next page, select the disk you want to add. If you click on the drop
    down menu, you should see the hard disks of the machines, the CDROM, and the USB
    flash disk.
  id: totrans-178
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在下一页，选择您要添加的磁盘。如果点击下拉菜单，您应该能看到计算机的硬盘、光驱和 USB 闪存磁盘。
- en: '![Adding a Disk](img/4688_03_10.jpg)'
  id: totrans-179
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_IMG
  zh: '![添加磁盘](img/4688_03_10.jpg)'
- en: Note
  id: totrans-180
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Disk Names in FreeBSD**'
  id: totrans-181
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**FreeBSD 中的磁盘名称**'
- en: 'The disk naming convention in FreeBSD is:'
  id: totrans-182
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: FreeBSD 中的磁盘命名约定是：
- en: '**/dev/ad0:** *Is the IDE/ATA Primary Master*'
  id: totrans-183
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**/dev/ad0:** *是 IDE/ATA 主硬盘*'
- en: '**/dev/ad1** : *Is the IDE/ATA Primary Slave*'
  id: totrans-184
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**/dev/ad1** : *是 IDE/ATA 主从硬盘*'
- en: '**/dev/ad2** : *Is the IDE/ATA Secondary Master*'
  id: totrans-185
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**/dev/ad2** : *是 IDE/ATA 次级主硬盘*'
- en: '**/dev/ad3:** *Is the IDE/ATA Secondary Slave*'
  id: totrans-186
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**/dev/ad3:** *是 IDE/ATA 次级从硬盘*'
- en: '**/dev/acd0:** *Is the first ATA CD/DVD drive detected*'
  id: totrans-187
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**/dev/acd0:** *是检测到的第一个 ATA CD/DVD 驱动器*'
- en: '**/dev/da0:** *Is the first SCSI hard drive, /dev/da1 the second and so on.*'
  id: totrans-188
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**/dev/da0:** *是第一个 SCSI 硬盘，/dev/da1 是第二个，依此类推。*'
- en: USB flash disks are controlled using the SCSI driver so they will appear as
    **/dev/daN** drives as well.
  id: totrans-189
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: USB 闪存磁盘使用 SCSI 驱动程序进行控制，因此它们也会显示为 **/dev/daN** 驱动器。
- en: Make sure ad0 is selected (which it should be by default).
  id: totrans-190
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保选择了 ad0（默认情况下应该是选中的）。
- en: The rest of the page you can leave alone.
  id: totrans-191
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 页面其余部分可以保持不变。
- en: Click **Add** to add the disk to the system.
  id: totrans-192
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 点击 **Add** 将磁盘添加到系统中。
- en: You then need to click **Apply** in order for the changes to take effect. You
    will now have a table showing you the disk you have added including its size and
    a description.
  id: totrans-193
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 然后，您需要点击 **Apply**，以使更改生效。现在您将看到一张显示已添加磁盘的表格，包括其大小和描述。
- en: '![Adding a Disk](img/4688_03_11.jpg)'
  id: totrans-194
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_IMG
  zh: '![添加磁盘](img/4688_03_11.jpg)'
- en: '2\. Next, the disk needs to be formatted. Beware all the data on this disk
    will be lost. In **Disks: Format**, select the disk ad0 (which you just added
    above). Leave everything else unchanged. By default, this means we are formatting
    the disk using UFS, which is the native file system for FreeBSD. You can enter
    a volume name if you desire. Click **Format disk**. The disk will then be formatted.
    The low level output of the format command will be displayed in a box. The time
    it takes to format the disk depends on the size of the disk. It should end with
    **Done!**'
  id: totrans-195
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '2\. 接下来，磁盘需要格式化。请注意，此磁盘上的所有数据将丢失。在 **Disks: Format** 中，选择磁盘 ad0（您刚刚添加的磁盘）。保持其他设置不变。默认情况下，这意味着我们将使用
    UFS 格式化磁盘，UFS 是 FreeBSD 的原生文件系统。如果需要，您可以输入卷名称。点击 **Format disk**，磁盘将被格式化。格式化命令的低级输出将显示在一个框中。格式化磁盘所需的时间取决于磁盘的大小。格式化完成后，屏幕上会显示
    **Done!**'
- en: '3\. Now the disk needs to be mounted. Go to **Disks: Mount Point**. Click on
    the add circle. Leave the **Type** as *Disk* and select the disk *ad0* again.
    You need to type in a name, *store* is as good a name as any, but feel free to
    use which ever descriptive name you want to.'
  id: totrans-196
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '3\. 现在需要挂载磁盘。前往 **Disks: Mount Point**。点击添加圆圈。将 **Type** 保持为 *Disk*，然后再次选择磁盘
    *ad0*。您需要输入一个名称，*store* 这个名称就可以，但也可以自由选择任何您喜欢的描述性名称。'
- en: Note
  id: totrans-197
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Be Descriptive**'
  id: totrans-198
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**具有描述性**'
- en: In setting up and configuring your FreeNAS server, you will be called upon to
    invent various names for mount points and share names etc. Try to be as descriptive
    as you can without being long winded. Temp, scratch, blob, and even zob are OK
    for testing but try more meaningful names like storeage1, storage60gb or backupstorage
    etc.
  id: totrans-199
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在设置和配置您的 FreeNAS 服务器时，您需要为挂载点、共享名称等发明各种名称。尽量简洁且具有描述性，不要啰嗦。用于测试的名称如 temp、scratch、blob，甚至
    zob 都可以，但建议使用更有意义的名称，如 storage1、storage60gb 或 backupstorage 等。
- en: Although filling-in the description isn't mandatory in the web interface, it
    is worth using. Once you have completed the form click **Add** and then apply
    the changes.
  id: totrans-200
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 虽然在 Web 界面中填写描述不是强制性的，但建议使用。完成表单后，点击 **Add** 然后应用更改。
- en: '![Adding a Disk](img/4688_03_12.jpg)'
  id: totrans-201
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![添加磁盘](img/4688_03_12.jpg)'
- en: 4\. Now that the disk has been added, formatted, and mounted, it is time to
    share it on the network and give other users the ability to read and write to
    it. FreeNAS supports many different types of access protocols. First, we shall
    have a look at Microsoft's CIFS protocol that primarily allows Windows machines
    (but also Apple OS X and Linux machines) to access the storage. Then, our second
    test will be to configure the FTP protocol.
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 4\. 现在磁盘已经添加、格式化并挂载，接下来是共享它到网络，并赋予其他用户读写权限。FreeNAS 支持许多不同类型的访问协议。首先，我们将查看 Microsoft
    的 CIFS 协议，它主要允许 Windows 计算机（但也支持 Apple OS X 和 Linux 计算机）访问存储。接着，我们将进行第二次测试，配置
    FTP 协议。
- en: Accessing the Disk via CIFS
  id: totrans-203
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 通过 CIFS 访问磁盘
- en: '1\. In Services: **CIFS/SMB**, tick the enable box (in the title of the configuration
    data table). At this point, you can just about leave everything else as is with
    the exception of the workgroup name.'
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '1\. 在 Services: **CIFS/SMB** 中，勾选启用框（在配置数据表的标题中）。此时，除了工作组名称外，几乎可以保持其他设置不变。'
- en: 2\. To make sure that the Windows machines are able to find the shared storage,
    we need to set the workgroup name, on the FreeNAS server, to be the same as the
    workgroup name of the Windows PC that will access the share. The default workgroup
    name for Windows Vista is WORKGROUP, but note that the default for Window XP Home
    Edition was MSHOME.
  id: totrans-205
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 2\. 为确保 Windows 机器能够找到共享存储，我们需要将 FreeNAS 服务器上的工作组名称设置为与将访问共享的 Windows 计算机的工作组名称相同。Windows
    Vista 的默认工作组名称是 WORKGROUP，但请注意，Windows XP 家庭版的默认工作组名称是 MSHOME。
- en: Note
  id: totrans-206
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Checking Your Workgroup**'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: '**检查工作组**'
- en: On Windows XP, you can discover your workgroup name by clicking **Start** and
    then right clicking on **My Computer**. Now click **Properties**. Click on the
    **Computer Name** tab in the **System Properties** dialog that has appeared. You
    can change the workgroup name by clicking the **Change…** button.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Windows XP 中，你可以通过点击**开始**，然后右键点击**我的电脑**来发现你的工作组名称。现在点击**属性**。在弹出的**系统属性**对话框中，点击**计算机名称**标签。你可以通过点击**更改...**按钮来更改工作组名称。
- en: On Windows Vista, you can find out your workgroup name by clicking on **Start**
    and then right clicking on **Computer**. Now click **Properties**. The workgroup
    name is in the *Computer name, domain, and workgroup settings*. You can change
    the workgroup by clicking on **Change settings** and then the **Change…** button.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Windows Vista 中，你可以通过点击**开始**，然后右键点击**计算机**来找到你的工作组名称。现在点击**属性**。工作组名称位于*计算机名称、域和工作组设置*中。你可以通过点击**更改设置**，然后点击**更改...**按钮来更改工作组名称。
- en: 3\. Leave the authentication method as **Anonymous** here as this is the easiest
    to get working and provides unrestricted read/write access to everyone. Now click
    **Save and Restart**. This will save the changes you have made and restart the
    CIFS service.
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 3\. 将身份验证方法保持为**匿名**，因为这是最容易设置的方式，并且为每个人提供了不受限制的读/写访问权限。然后点击**保存并重启**。这将保存你所做的更改并重启
    CIFS 服务。
- en: '![Accessing the Disk via CIFS](img/4688_03_13.jpg)'
  id: totrans-211
  prefs: []
  type: TYPE_IMG
  zh: '![通过 CIFS 访问磁盘](img/4688_03_13.jpg)'
- en: 4\. Now, go to the **Shares** tab and click on add circle. Enter a name for
    the share. Repeating the name of the mount point is probably the safest policy,
    so in this case *store* and also add a comment. Then click **...** in the Path
    section. This will bring up a simple file system browser. The files you are seeing
    are on the FreeNAS server and NOT on your local PC. Click **store** and **/mnt/store/**
    will appear in the little edit box at the click. **OK** it and you will be taken
    back to the shares page. Now **/mnt/store/** has been added as the path.
  id: totrans-212
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 4\. 现在，进入**共享**标签并点击添加按钮。输入共享的名称。重复挂载点的名称是最安全的做法，所以在这种情况下使用*store*，并添加一个备注。然后点击路径部分的**...**。这将打开一个简单的文件系统浏览器。你看到的文件在
    FreeNAS 服务器上，而不是你本地的 PC 上。点击**store**，**/mnt/store/** 将出现在小的编辑框中。点击**确定**，你将返回到共享页面。现在，**/mnt/store/**
    已作为路径添加。
- en: 5\. Leave everything else as it is and click **Add** and then apply the changes.
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 5\. 其他设置保持不变，点击**添加**，然后应用更改。
- en: So now the first hard disk of the computer is formatted, mounted, and shared
    to the rest of the network. Now we will access the share from a Windows Vista
    machine.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，计算机的第一个硬盘已经格式化、挂载，并共享给网络中的其他设备。接下来，我们将从一台 Windows Vista 机器访问这个共享。
- en: Testing the Share
  id: totrans-215
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 测试共享
- en: 'You can perform this test from any machine that supports the CIFS protocol
    including Windows, OS X, and Linux. Here we are going to use Windows Vista:'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以从任何支持 CIFS 协议的机器进行此测试，包括 Windows、OS X 和 Linux。这里我们将使用 Windows Vista：
- en: 1\. Open the Network and Sharing Center by clicking **Network** on the Start
    menu. When the window appears, Vista will automatically scan the network for any
    shared network resources. When it has finished, you will see the available machines
    on the network including FREENAS.
  id: totrans-217
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 1\. 通过点击开始菜单中的**网络**打开网络和共享中心。当窗口出现时，Vista 会自动扫描网络中共享的资源。扫描完成后，你将看到网络中可用的机器，包括
    FREENAS。
- en: '![Testing the Share](img/4688_03_04.jpg)'
  id: totrans-218
  prefs: []
  type: TYPE_IMG
  zh: '![测试共享](img/4688_03_04.jpg)'
- en: 2\. Open up the FREENAS computer and you will see *store*, the storage area
    that you configured. Double click on that and you now "inside" the FreeNAS server
    from within your Windows machine. Try dragging and dropping a few files into the
    *store* area. Then try deleting them again.
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 2\. 打开 FREENAS 计算机，你会看到你配置的*store*存储区。双击它，你现在就能在 Windows 机器中“进入” FreeNAS 服务器了。尝试将一些文件拖放到*store*区中。然后再试着删除它们。
- en: 3\. To access the FreeNAS server, without using the Network and Sharing Center,
    click **Start**, and type **\\freenas** and then press *Enter*. This will bring
    up the shares available on the FreeNAS server directly.
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 3\. 要访问 FreeNAS 服务器，可以不使用网络和共享中心，点击**开始**，输入**\\freenas**，然后按*Enter*键。这样你可以直接查看到
    FreeNAS 服务器上可用的共享。
- en: '![Testing the Share](img/4688_03_05.jpg)'
  id: totrans-221
  prefs: []
  type: TYPE_IMG
  zh: '![测试共享](img/4688_03_05.jpg)'
- en: Accessing via FTP
  id: totrans-222
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 通过 FTP 访问
- en: The File Transfer Protocol is a fast and stable protocol for transferring files
    over a network. FTP is a client/server protocol and is most often used to transfer
    files from one machine to another in a "one off" sense. A connection is made,
    the files are transferred, and the connection is closed. This is a protocol that
    is often used to allow people to download files from the Internet. In the NAS
    context, it is very useful for offering a repository of software on your network
    (like software, company templates, and antivirus software updates).
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 文件传输协议（FTP）是一种快速且稳定的网络文件传输协议。FTP是一种客户端/服务器协议，通常用于将文件从一台计算机传输到另一台计算机，通常是一次性的。建立连接后，文件传输完成，连接关闭。这个协议常用于允许用户从互联网下载文件。在NAS的应用场景中，它对于在网络上提供软件仓库非常有用（例如软件、公司模板、以及杀毒软件更新）。
- en: '1\. To enable the FTP service, go to **Services: FTP** and tick enable.'
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 1\. 要启用FTP服务，请进入**服务：FTP**并勾选启用。
- en: 2\. Now click **Save and Restart**.
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 2\. 现在点击**保存并重启**。
- en: This will save the changes you have made and restart the FTP service. By default,
    anonymous FTP logins are enabled. This means that any user can log in and access
    the storage.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 这将保存你所做的更改并重启FTP服务。默认情况下，启用匿名FTP登录。这意味着任何用户都可以登录并访问存储。
- en: Testing FTP Access
  id: totrans-227
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 测试FTP访问
- en: All modern operating systems including Windows, Linux, and OS X contain command
    line FTP clients. These are simply enough to use, but can be a bit difficult to
    learn if you are used to using graphic user interfaces. A good free FTP client
    for Windows is Core FTP and you can download it from [http://www.coreftp.com](http://www.coreftp.com).
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 所有现代操作系统，包括Windows、Linux和OS X，都包含命令行FTP客户端。这些客户端使用起来非常简单，但如果你习惯使用图形用户界面，学习起来可能会有点困难。一个适用于Windows的免费FTP客户端是Core
    FTP，你可以从[http://www.coreftp.com](http://www.coreftp.com)下载。
- en: 1\. To test the FTP service of FreeNAS using Core FTP, first download it and
    install it.
  id: totrans-229
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 1\. 要使用Core FTP测试FreeNAS的FTP服务，首先下载并安装它。
- en: 2\. The first window you see when you start Core FTP is the **Site Manager**.
    Here, you can enter the parameters for connecting to a server.
  id: totrans-230
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 2\. 启动Core FTP时，第一个看到的窗口是**站点管理器**。在这里，你可以输入连接服务器的参数。
- en: 3\. In the **Site Name** field, enter **FreeNAS_Server** as a way to remember
    this particular server connection.
  id: totrans-231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 3\. 在**站点名称**字段中输入**FreeNAS_Server**，以便记住这个特定的服务器连接。
- en: 4\. In **Host/IP/URL** enter the IP address of your FreeNAS server.
  id: totrans-232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 4\. 在**主机/IP/URL**字段中输入FreeNAS服务器的IP地址。
- en: 5\. Tick **Anonymous**, which enables you to connect without a username and
    password (actually the username is anonymous and Core FTP will fill that in for
    you).
  id: totrans-233
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 5\. 勾选**匿名**，这样可以在不输入用户名和密码的情况下连接（实际上，用户名是匿名，Core FTP会自动为你填入）。
- en: 6\. Now press **Connect**.
  id: totrans-234
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 6\. 现在点击**连接**。
- en: '![Testing FTP Access](img/4688_03_14.jpg)'
  id: totrans-235
  prefs: []
  type: TYPE_IMG
  zh: '![测试FTP访问](img/4688_03_14.jpg)'
- en: Once you press *connect*, Core FTP will connect to the FreeNAS server. On the
    left, you will have the file on your Windows machine and on the right, the files
    on the FreeNAS machine. The FTP service puts you in at the top level so you will
    need to double click on *store* to enter into the *store* folder that represents
    the disk configured earlier. You can try dragging some files over from your Windows
    machines and see that they will be copied over to the FreeNAS server.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你点击*连接*，Core FTP将连接到FreeNAS服务器。在左侧，你会看到Windows机器上的文件，在右侧，你会看到FreeNAS机器上的文件。FTP服务将你带到顶级目录，所以你需要双击*store*以进入之前配置的*store*文件夹。你可以尝试从Windows机器中拖动一些文件，看看它们是否被复制到FreeNAS服务器上。
- en: As a final test, you can try to access the FreeNAS server again via CIFS (just
    click **start** and enter **\\freenas** and then open the *store* share) and you
    will see the files you just copied over using FTP.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，你可以尝试通过CIFS再次访问FreeNAS服务器（只需点击**开始**并输入**\\freenas**，然后打开*store*共享文件夹），你将看到刚刚通过FTP复制过来的文件。
- en: Note
  id: totrans-238
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Using Windows Built-In FTP Client**'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: '**使用Windows内置FTP客户端**'
- en: Modern versions of Windows also come with a simple FTP client built-in to Windows
    Explorer. You can open an FTP connection to the FreeNAS server by typing **ftp://192.168.1.250**
    (if this isn't the IP address of your FreeNAS server, change accordingly) in the
    address bar of My Computer (or Internet Explorer). From here, you can drag and
    drop files and use Windows Explorer very much like you would with a local hard
    drive.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 现代版本的Windows也内置了一个简单的FTP客户端，可以通过Windows资源管理器打开。你可以通过在我的电脑（或Internet Explorer）地址栏中输入**ftp://192.168.1.250**（如果这个不是你的FreeNAS服务器的IP地址，请相应修改）来建立与FreeNAS服务器的FTP连接。从这里，你可以像操作本地硬盘一样拖放文件，并使用Windows资源管理器。
- en: Installing to Hard Disk
  id: totrans-241
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装到硬盘
- en: Up until now, FreeNAS has been running from the "LiveCD", which means it boots
    from the CD and runs from memory without needing the operating system to be copied
    on to the hard drive. FreeNAS has an option to install itself on a hard drive
    or USB flash disk and will boot from there without needing the CD. For a hard
    drive install, the configuration data will be saved on the hard drive rather than
    on a USB flash disk or floppy disk.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 直到现在，FreeNAS一直在从“LiveCD”运行，这意味着它从CD启动并从内存运行，无需将操作系统复制到硬盘。FreeNAS提供了将其安装到硬盘或USB闪存盘的选项，安装后将从硬盘或USB闪存盘启动，而无需使用CD。对于硬盘安装，配置数据将保存在硬盘上，而不是保存在USB闪存盘或软盘中。
- en: The preferred way to install FreeNAS is onto a USB flash disk as this frees
    up an IDE or SCSI channel for extra storage. FreeNAS is optimized for use with
    flash disks. To save wearing out the flash disk, (with too many write operations)
    the embedded version of FreeNAS runs from memory once the initial boot has been
    made from the flash disk. To use the USB flash disk version, you need to have
    a BIOS that can boot from a USB flash disk.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 安装FreeNAS的首选方式是将其安装到USB闪存盘上，因为这样可以释放一个IDE或SCSI通道用于额外的存储。FreeNAS已针对闪存盘进行了优化。为了避免频繁写入导致闪存盘损坏（过多的写操作），FreeNAS的嵌入式版本在从闪存盘启动后，会直接从内存中运行。要使用USB闪存盘版本，您的BIOS必须支持从USB闪存盘启动。
- en: Note
  id: totrans-244
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Before you proceed, you should note that installing FreeNAS on a hard drive
    will erase all the data on that hard drive.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 在继续之前，您应该注意，安装FreeNAS到硬盘上会清除该硬盘上的所有数据。
- en: When installing FreeNAS to a hard disk, you have the option to partition your
    hard drive into 2 parts. The first will be the boot partition which will contain
    the FreeNAS server. This is only a small partition and the rest of the disk will
    be the larger data partition.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 安装FreeNAS到硬盘时，您可以选择将硬盘分为两个部分。第一个是引导分区，其中将包含FreeNAS服务器。这只是一个小分区，其余的磁盘将作为较大的数据分区。
- en: To install FreeNAS to your hard disk, you need to go back to the console (as
    this can't be done from the web interface).
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 要将FreeNAS安装到硬盘，您需要返回控制台（因为这无法从Web界面完成）。
- en: '![Installing to Hard Disk](img/4688_03_15.jpg)'
  id: totrans-248
  prefs: []
  type: TYPE_IMG
  zh: '![安装到硬盘](img/4688_03_15.jpg)'
- en: Note
  id: totrans-249
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: For more information on the difference between "embedded" and "full", see the
    *Embedded versus. Full* section below.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 关于“嵌入式”与“完整版”之间的区别，请参见下面的*嵌入式与完整版*部分。
- en: 1\. Select option **9** and then **2** to install the "embedded" version of
    FreeNAS onto a hard disk with a data partition.
  id: totrans-251
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 1\. 选择选项**9**，然后选择**2**，以将FreeNAS的“嵌入式”版本安装到带数据分区的硬盘上。
- en: 2\. You will be presented with a summary of what actions the installation will
    perform. Select **OK** to continue.
  id: totrans-252
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 2\. 系统会显示安装将执行的操作摘要。选择**OK**以继续。
- en: 3\. Next, you will be asked to confirm the device name of the CDROM (which has
    the FreeNAS files).
  id: totrans-253
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 3\. 接下来，系统会要求您确认CDROM设备的名称（该CDROM包含FreeNAS文件）。
- en: 4\. Then, you need to choose the hard drive on which you would like to install
    FreeNAS. You will be given a list of available hard drives. You need to install
    FreeNAS on ad0, which is the primary master IDE drive. If you have SCSI, you should
    choose da0\. Note that if you have a USB flash disk inserted, it may be listed
    as da0 and this shouldn't be confused with a genuine SCSI hard drive.
  id: totrans-254
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 4\. 然后，您需要选择您希望安装FreeNAS的硬盘。系统会列出所有可用的硬盘。您需要将FreeNAS安装到ad0，这是主要的主IDE驱动器。如果您使用的是SCSI硬盘，应该选择da0。请注意，如果您插入了USB闪存盘，它也可能会显示为da0，因此不要将其与真正的SCSI硬盘混淆。
- en: 5\. The system will now install.
  id: totrans-255
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 5\. 系统现在将开始安装。
- en: 'Once the FreeNAS is installed, the console will show a success message. At
    this point, it is important to understand a few things:'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦安装了FreeNAS，控制台将显示成功消息。此时，理解以下几点非常重要：
- en: 1\. The disk with FreeNAS installed has now been partitioned into two parts.
    These are referred to as ad0 partition 1 (or ad0p1 for short) and ad0 partition
    2 (ad0p2). Partition 1 contains the FreeNAS software and partition 2 is for your
    data.
  id: totrans-257
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 1\. 安装了FreeNAS的磁盘现在已被分区为两个部分。这两个分区分别称为ad0分区1（简称ad0p1）和ad0分区2（ad0p2）。分区1包含FreeNAS软件，分区2用于存储数据。
- en: '2\. You need to revisit the **Disks: Mount Point** page as the underlying structure
    of the disk has changed and any previous mount point may be invalid.'
  id: totrans-258
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 2\. 您需要重新访问**磁盘：挂载点**页面，因为磁盘的底层结构发生了变化，任何先前的挂载点可能无效。
- en: 3\. You do not need to format ad0 again. It has been formatted using UFS for
    you.
  id: totrans-259
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 3\. 您无需再次格式化ad0。它已经为您使用UFS进行了格式化。
- en: 4\. You need to remove the disk from the CD drive and reboot the machine. To
    do this remove the disk, press *Enter* to go back to the installation submenu,
    the chose *EXIT* to return to the main menu and finally, use option **7** to reboot
    the machine.
  id: totrans-260
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 4. 您需要将磁盘从 CD 驱动器中取出并重启机器。为此，请移除磁盘，按 *Enter* 返回安装子菜单，然后选择 *EXIT* 返回主菜单，最后使用选项
    **7** 重启机器。
- en: 'To mount partition 2, you need to go to the **Disks: Mount Point** page. If
    you have existing mount points defined for the disk when you installed FreeNAS,
    you need to remove them first before continuing. To mount partition 2, click the
    add circle, chose the disk (probably ad0 or da0), then select partition 2\. This
    is different from when you used the whole disk. Partition 2 is the data partition
    while partition one contains the FreeNAS software. Fill out the name and description
    and click **add**.'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 要挂载分区 2，您需要进入 **磁盘：挂载点** 页面。如果在安装 FreeNAS 时已为磁盘定义了现有的挂载点，您需要先将其移除，然后继续操作。要挂载分区
    2，点击添加按钮，选择磁盘（可能是 ad0 或 da0），然后选择分区 2。这与您之前使用整个磁盘时不同。分区 2 是数据分区，而分区 1 包含 FreeNAS
    软件。填写名称和描述后点击 **添加**。
- en: After that, you can enable services like CIFS and FTP just like you did before.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 之后，您可以像之前一样启用 CIFS 和 FTP 等服务。
- en: '![Installing to Hard Disk](img/4688_03_16.jpg)'
  id: totrans-263
  prefs: []
  type: TYPE_IMG
  zh: '![安装到硬盘](img/4688_03_16.jpg)'
- en: Embedded versus Full
  id: totrans-264
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 嵌入版与完整版
- en: When you were in the installation submenu, you would have seen that there is
    also what is known as a "full" install of FreeNAS. This doesn't mean that it has
    any more features or is somehow more complete than the "embedded" version. But
    rather, it is a way to install FreeNAS like a traditional operating system. The
    files are installed on the hard disk and if they are edited or deleted they are
    done so permanently. The embedded version runs from RAM (and is initially loaded
    from the hard disk) and any changes made to the operating system files will only
    be temporary and when the system is rebooted, it will return to its original state.
    This means that the full version can be tweaked and changed which is good for
    those developing plugins for FreeNAS, but it also means that the system can be
    broken accidentally by those unfamiliar with FreeBSD. The embedded version, however,
    adds a level of protection and if anything goes wrong, a reboot will restore the
    system files to their installed state.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 当您进入安装子菜单时，您会看到还有一个所谓的 FreeNAS “完整版”安装。这并不意味着它比“嵌入版”有更多功能或更完整。而是它是一种像传统操作系统一样安装
    FreeNAS 的方式。文件会安装到硬盘上，如果编辑或删除文件，这些更改将是永久性的。嵌入版则是从 RAM 运行（并最初从硬盘加载），对操作系统文件的任何更改都将是临时性的，重启系统后它会恢复到原始状态。这意味着完整版可以进行调整和更改，这对于开发
    FreeNAS 插件的人来说是个好事，但也意味着不熟悉 FreeBSD 的人可能会不小心破坏系统。然而，嵌入版增加了一层保护，如果出现问题，重启将恢复系统文件到已安装的状态。
- en: Note
  id: totrans-266
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: This discussion is about the system files, not about the configuration file
    that is updated and controlled via the actions taken in the web interface. A reboot
    will NOT restore the configuration to a previous state unless the changes have
    not been applied.
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 本讨论涉及的是系统文件，而不是通过 Web 界面操作更新和控制的配置文件。重启将**不会**恢复配置文件到先前的状态，除非更改尚未应用。
- en: 'The recommended way to install FreeNAS is to use the embedded version. You
    should only consider the full version if any of the following are true:'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 推荐的安装 FreeNAS 的方式是使用嵌入版。只有在以下情况之一成立时，您才应该考虑使用完整版：
- en: You need to install extra FreeBSD packages to your FreeNAS server.
  id: totrans-269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您需要为您的 FreeNAS 服务器安装额外的 FreeBSD 软件包。
- en: You need to customize the size of the root file system.
  id: totrans-270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您需要自定义根文件系统的大小。
- en: You are low on system RAM and need to run FreeBSD from hard disk, rather than
    a RAM disk.
  id: totrans-271
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您的系统内存不足，需要从硬盘运行 FreeBSD，而不是从 RAM 磁盘运行。
- en: Upgrading FreeNAS from a Previous Version
  id: totrans-272
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从先前版本升级 FreeNAS
- en: If you are running a LiveCD version of FreeNAS, then upgrading is simple. Just
    download the new version and burn it onto a CD and then reboot the FreeNAS server
    using the new CD. Always remember to check the FreeNAS website for any information
    about upgrading particularly with regards to internal changes like the format
    of the configuration file.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您使用的是 FreeNAS 的 LiveCD 版本，那么升级非常简单。只需下载新版本并将其刻录到 CD 上，然后使用新 CD 重启 FreeNAS
    服务器。请始终记得查看 FreeNAS 网站，以获取有关升级的任何信息，特别是关于配置文件格式等内部更改。
- en: 'If you have installed FreeNAS on a hard drive (or USB flash disk), then FreeNAS
    can be upgraded via the web interface. On the FreeNAS website, you will find embedded
    versions of FreeNAS for download. These are not ISO files like the LiveCD version
    but rather files for upgrading an existing installation. The embedded download
    is a `.img` file. Download the correct file and save it on your hard disk. Go
    to the web interface and find the **System: Firmware** page, click **Enable Firmware
    Upload** and then locate the file you downloaded using the **Browse..**. button.'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您已经在硬盘（或USB闪存盘）上安装了FreeNAS，那么可以通过Web界面进行升级。在FreeNAS网站上，您可以找到嵌入式版本的FreeNAS进行下载。这些文件不是像LiveCD版本那样的ISO文件，而是用于升级现有安装的文件。嵌入式下载是一个`.img`文件。下载正确的文件并将其保存在硬盘上。进入Web界面，找到**系统：固件**页面，点击**启用固件上传**，然后使用**浏览..**按钮找到您下载的文件。
- en: Finally, click on **Upgrade firmware**. Wait patiently and FreeNAS will reboot
    when the upgrade is completed, your configuration data will be preserved.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，点击**升级固件**。耐心等待，FreeNAS将在升级完成后重启，您的配置数据将被保留。
- en: Note
  id: totrans-276
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: 'DO NOT abort the firmware upgrade once it has started. You need a minimum of
    128 MB RAM to perform the firmware update. You should always backup the System
    configuration before doing a Firmware upgrade. You can do this from the System:
    Backup/Restore page.'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 升级固件后，切勿中断升级过程。一旦开始固件更新，至少需要128 MB的内存才能完成更新。升级固件之前，您应始终备份系统配置。您可以在“系统：备份/恢复”页面进行此操作。
- en: Summary
  id: totrans-278
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we have installed and configured the FreeNAS server. We booted
    the FreeNAS server from the LiveCD disk and configured a simple disk that was
    accessed by CIFS and FTP. We also looked at how to install FreeNAS to the hard
    drive and how to upgrade it.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 本章中，我们已经安装并配置了FreeNAS服务器。我们从LiveCD磁盘启动FreeNAS服务器，并配置了一个通过CIFS和FTP访问的简单磁盘。我们还介绍了如何将FreeNAS安装到硬盘上以及如何升级它。
- en: In the next chapter, we shall take a detailed look at the different ways you
    can connect to your FreeNAS server including from Windows machines, from OS X
    and from Linux.
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将详细了解您可以通过不同方式连接到FreeNAS服务器，包括从Windows机器、OS X和Linux系统连接。
