- en: Chapter 3. Configuring Your Network
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第 3 章. 配置你的网络
- en: 'The recipes we''ll be covering in this chapter are as follows:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章我们将涵盖以下配方：
- en: Creating a VLAN interface
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建 VLAN 接口
- en: Creating a teamed interface
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建一个聚合接口
- en: Creating a bridge
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建一个桥接
- en: Configuring IPv4 settings
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置 IPv4 设置
- en: Configuring your DNS resolvers
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置你的 DNS 解析器
- en: Configuring static network routes
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置静态网络路由
- en: Introduction
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍
- en: This chapter will attempt to explain how to use `NetworkManager`, which is the
    default network configuration tool and daemon in RHEL 7\. It is a set of tools
    that makes networking simple and straightforward.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将尝试解释如何使用 `NetworkManager`，它是 RHEL 7 中的默认网络配置工具和守护进程。这是一组工具，可以简化和直接地进行网络配置。
- en: Configuring your network can be hard at times, especially when using the more
    exotic configuration options in combination with well-known configuration scripts.
    The `NetworkManager` allows you to easily configure your network without needing
    to edit the configuration files manually.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 配置你的网络有时可能很困难，尤其是当你使用较为复杂的配置选项并结合著名的配置脚本时。`NetworkManager` 允许你轻松配置网络，而无需手动编辑配置文件。
- en: Tip
  id: totrans-11
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: 'You can still edit the network configuration files located in `/etc/sysconfig/network-scripts`
    using your preferred editor; however, by default, `NetworkManager` does not notice
    any changes you make. You''ll need to execute the following after editing the
    files located in the preceding location:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 你仍然可以使用你喜欢的编辑器编辑位于 `/etc/sysconfig/network-scripts` 的网络配置文件；然而，默认情况下，`NetworkManager`
    不会察觉你所做的任何更改。你需要在编辑完这些文件后执行以下命令：
- en: '[PRE0]'
  id: totrans-13
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: This is not enough to apply the changes immediately. You'll need to bring down
    and up the connection or reboot the system.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 这还不足以立即应用更改。你需要关闭并重新启动连接，或者重启系统。
- en: Alternatively, you can edit `/etc/NetworkManager/NetworkManager.conf` and add
    `monitor-connection-files=yes` to the `[main]` section. This will cause `NetworkManager`
    to pick up the changes and apply them immediately.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 另外，你可以编辑 `/etc/NetworkManager/NetworkManager.conf` 并在 `[main]` 部分添加 `monitor-connection-files=yes`。这将导致
    `NetworkManager` 立即应用这些更改。
- en: Within these recipes, you will get an overview on how to configure your network
    using the `NetworkManager` tools (`nmcli` and `nmtui`) and kickstart files.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 在这些配方中，你将了解如何使用 `NetworkManager` 工具（`nmcli` 和 `nmtui`）以及 Kickstart 文件来配置你的网络。
- en: Creating a VLAN interface
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建 VLAN 接口
- en: VLANs are isolated broadcast domains that run over a single physical network.
    They allow you to segment a local network and also to "stretch" a LAN over multiple
    physical locations. Most enterprises implement this on their network switching
    environment, but in some cases, the tagged VLANs reach your server.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: VLAN 是在单个物理网络上运行的隔离广播域。它们允许你将本地网络分段，并且可以将 LAN 跨多个物理位置“扩展”。大多数企业在其网络交换环境中实现了这一点，但在某些情况下，标记的
    VLAN 会到达你的服务器。
- en: Getting ready
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备就绪
- en: In order to configure a VLAN, we need an established network connection on the
    local network interface.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 为了配置 VLAN，我们需要在本地网络接口上建立一个已连接的网络。
- en: How to do it…
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: For the sake of ease, our physical network interface is called `eth0`. The VLAN's
    ID is 1, and the IPv4 address is `10.0.0.2`, with a subnet mask of `255.0.0.0`
    and a default gateway of `10.0.0.1`.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 为了方便起见，我们的物理网络接口命名为 `eth0`。VLAN 的 ID 为 1，IPv4 地址为 `10.0.0.2`，子网掩码为 `255.0.0.0`，默认网关为
    `10.0.0.1`。
- en: Creating the VLAN connection with nmcli
  id: totrans-23
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用 `nmcli` 创建 VLAN 连接
- en: 'With `nmcli`, we need to first create the connection and then activate it.
    Perform the following steps:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 `nmcli`，我们需要先创建连接，然后激活它。请执行以下步骤：
- en: 'Create a VLAN interface using the following command:'
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令创建 VLAN 接口：
- en: '[PRE1]'
  id: totrans-26
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Now, via this command, activate the connection:'
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，通过此命令激活连接：
- en: '[PRE2]'
  id: totrans-28
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Check your network connection, as follows:'
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查你的网络连接，如下所示：
- en: '[PRE3]'
  id: totrans-30
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Here is an example output of the preceding commands:'
  id: totrans-31
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这是前述命令的示例输出：
- en: '![Creating the VLAN connection with nmcli](img/00015.jpeg)'
  id: totrans-32
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![使用 nmcli 创建 VLAN 连接](img/00015.jpeg)'
- en: Creating the VLAN connection with nmtui
  id: totrans-33
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用 `nmtui` 创建 VLAN 连接
- en: 'The `nmtui` tool is a text user interface to `NetworkManager` and is launched
    by executing the following in a terminal:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '`nmtui` 工具是一个文本用户界面，用于操作 `NetworkManager`，可以通过在终端中执行以下命令启动：'
- en: '[PRE4]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'This will bring up the following text-based interface:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 这将打开以下基于文本的界面：
- en: '![Creating the VLAN connection with nmtui](img/00016.jpeg)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
  zh: '![使用 nmtui 创建 VLAN 连接](img/00016.jpeg)'
- en: 'Navigation is done using the *Tab* and arrow keys, and the selection is done
    by pressing the *Enter* key. Now, you need to do the following:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 导航通过使用*Tab*键和箭头键来完成，选择则通过按*Enter*键来进行。现在，你需要做以下操作：
- en: Go to **Edit a connection** and select **<OK>**. The following screen will appear:![Creating
    the VLAN connection with nmtui](img/00017.jpeg)
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到**编辑连接**并选择**<OK>**。以下屏幕将会显示：![创建 VLAN 连接（使用 nmtui）](img/00017.jpeg)
- en: Next, select **<Add>** and the **VLAN** option. Confirm by Selecting **<Create>**:![Creating
    the VLAN connection with nmtui](img/00018.jpeg)
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，选择**<Add>**并选择**VLAN**选项。确认选择**<Create>**：![创建 VLAN 连接（使用 nmtui）](img/00018.jpeg)
- en: Enter the requested information in the following form and commit by selecting
    **<OK>**:![Creating the VLAN connection with nmtui](img/00019.jpeg)
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在以下表单中输入所请求的信息，并通过选择**<OK>**提交：![创建 VLAN 连接（使用 nmtui）](img/00019.jpeg)
- en: 'Your new **VLAN** interface will now be listed in the connections list:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 你的新**VLAN**接口现在将显示在连接列表中：
- en: '![Creating the VLAN connection with nmtui](img/00020.jpeg)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![创建 VLAN 连接（使用 nmtui）](img/00020.jpeg)'
- en: Creating the VLAN connection with kickstart
  id: totrans-44
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用 kickstart 创建 VLAN 连接
- en: 'Let''s explore what you need to add to your `kickstart` script in order to
    achieve the same result as in the preceding section:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们探索一下你需要在 `kickstart` 脚本中添加哪些内容，以便实现与前面章节相同的结果：
- en: 'Look for the configuration parameters within your `kickstart` file with the
    following command:'
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令在你的 `kickstart` 文件中查找配置参数：
- en: '[PRE5]'
  id: totrans-47
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Replace it with the following configuration parameters:'
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用以下配置参数替换它：
- en: '[PRE6]'
  id: totrans-49
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: There's more…
  id: totrans-50
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多……
- en: 'The command line to create a VLAN with `nmcli` is pretty basic as it uses default
    values for every piece of information that is missing. To make sure that everything
    is created to your wishes, it is wise to also use `con-name` and `ifname`. These
    will respectively name your connection and the device you''re creating. Take a
    look at the following command:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 `nmcli` 创建 VLAN 的命令行非常基础，它会为缺失的每项信息使用默认值。为了确保所有内容都按你的要求创建，最好使用 `con-name`
    和 `ifname`。这两个选项分别用于命名你的连接和你正在创建的设备。请看以下命令：
- en: '[PRE7]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: This will create the `vlan.1` connection with `eth0` as the parent and `eth0.1`
    as the target device.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 这将创建 `vlan.1` 连接，`eth0` 作为父接口，`eth0.1` 作为目标设备。
- en: As with `nmcli` and `nmtui`, you can name your VLAN connection in `kickstart`;
    you only need to specify the `--interfacename` option. If you cannot find any
    previous network configuration in your `kickstart` file, just add the code to
    your `kickstart` file.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 和 `nmcli` 和 `nmtui` 一样，你可以在 `kickstart` 中为你的 VLAN 连接命名；只需要指定 `--interfacename`
    选项。如果在你的 `kickstart` 文件中找不到任何之前的网络配置，只需将代码添加到你的 `kickstart` 文件中。
- en: See also
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另见
- en: 'The `nmcli` tool lacks a man page, but execute the following command for for
    more options to create VLAN connections:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '`nmcli` 工具没有 man 页面，但可以执行以下命令以获得更多选项来创建 VLAN 连接：'
- en: '[PRE8]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'For more `kickstart` information on networks, check the following URL: [https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Installation_Guide/sect-kickstart-syntax.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Installation_Guide/sect-kickstart-syntax.html).'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 获取更多关于网络的 `kickstart` 信息，请查看以下网址：[https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Installation_Guide/sect-kickstart-syntax.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Installation_Guide/sect-kickstart-syntax.html)。
- en: Creating a teamed interface
  id: totrans-59
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建一个团队接口
- en: Interface teaming, interface bonding, and link aggregation are all the same.
    It was already implemented in the kernel by way of the `bonding` driver. The team
    driver provides a different mechanism (from bonding) to team multiple network
    interfaces into a single logical one.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 接口团队、接口绑定和链路聚合都是相同的。它已经通过 `bonding` 驱动程序在内核中实现。团队驱动程序提供了一种与绑定不同的机制，将多个网络接口合并为一个逻辑接口。
- en: Getting ready
  id: totrans-61
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: To set up a teamed interface, we'll need more than one network interface.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 要设置团队接口，我们需要多个网络接口。
- en: How to do it…
  id: totrans-63
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: For the sake of ease, our physical network interfaces are called `eth1` and
    `eth2`. The IPv4 address for the team interface is `10.0.0.2`, with a subnet mask
    of `255.0.0.0` and a default gateway of `10.0.0.1`.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 为了简便起见，我们的物理网络接口分别称为 `eth1` 和 `eth2`。团队接口的 IPv4 地址为 `10.0.0.2`，子网掩码为 `255.0.0.0`，默认网关为
    `10.0.0.1`。
- en: Creating the teamed interface using nmcli
  id: totrans-65
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用 `nmcli` 创建团队接口
- en: 'Using this approach, we''ll need to create the team connection and two team
    slaves and activate the connection, as follows:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这种方法，我们需要创建团队连接和两个团队从接口，并激活该连接，具体步骤如下：
- en: 'Use the following command line to create the team connection:'
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令行创建团队连接：
- en: '[PRE9]'
  id: totrans-68
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Add `eth1` to the team by executing the following:'
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过执行以下命令将 `eth1` 添加到团队中：
- en: '[PRE10]'
  id: totrans-70
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Now, add `eth2` to the team by running the following command:'
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，通过运行以下命令将 `eth2` 添加到团队中：
- en: '[PRE11]'
  id: totrans-72
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Bring the team up, as follows:'
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按如下方式启用团队接口：
- en: '[PRE12]'
  id: totrans-74
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Finally, check your network connections through the following commands:'
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，通过以下命令检查您的网络连接：
- en: '[PRE13]'
  id: totrans-76
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Here''s an example output of the preceding commands:'
  id: totrans-77
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以下是前面命令的示例输出：
- en: '![Creating the teamed interface using nmcli](img/00021.jpeg)'
  id: totrans-78
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![使用 nmcli 创建聚合接口](img/00021.jpeg)'
- en: Creating the teamed interface using nmtui
  id: totrans-79
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用 nmtui 创建聚合接口
- en: 'Let''s fire up `nmtui` and add a connection through the following steps:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们启动 `nmtui` 并通过以下步骤添加连接：
- en: First, create a team connection by selecting **<Add>**:![Creating the teamed
    interface using nmtui](img/00022.jpeg)
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，通过选择 **<Add>** 创建团队连接：![使用 nmtui 创建聚合接口](img/00022.jpeg)
- en: Enter the requested information in the following form and click on **<Add>**
    for every interface to add:![Creating the teamed interface using nmtui](img/00023.jpeg)
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在以下表单中输入所需的信息，并对每个接口点击 **<Add>** 以添加：![使用 nmtui 创建聚合接口](img/00023.jpeg)
- en: Next, select **<Add>** within team slaves to add an interface by filling out
    the form and selecting **<OK>**. Repeat this for every physical interface:![Creating
    the teamed interface using nmtui](img/00024.jpeg)
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在团队从属项中选择 **<Add>** 添加接口，填写表单并选择 **<OK>**。对每个物理接口重复此操作：![使用 nmtui 创建聚合接口](img/00024.jpeg)
- en: Now, select **<OK>** to create the team interface:![Creating the teamed interface
    using nmtui](img/00025.jpeg)
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，选择 **<OK>** 创建团队接口：![使用 nmtui 创建聚合接口](img/00025.jpeg)
- en: 'Your new team interface will now be listed in the connections list, as shown
    in the following screenshot:'
  id: totrans-85
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您的新团队接口现在将在连接列表中列出，如下所示的截图所示：
- en: '![Creating the teamed interface using nmtui](img/00026.jpeg)'
  id: totrans-86
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![使用 nmtui 创建聚合接口](img/00026.jpeg)'
- en: Creating the teamed interface with kickstart
  id: totrans-87
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用 kickstart 创建聚合接口
- en: 'Open your `kickstart` file with your favorite editor and perform the following
    steps:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 使用您喜欢的编辑器打开 `kickstart` 文件，并执行以下步骤：
- en: 'Look for the network configuration parameters within your `kickstart` file
    by running the following command:'
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过运行以下命令，在您的 `kickstart` 文件中查找网络配置参数：
- en: '[PRE14]'
  id: totrans-90
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Next, add the following configuration parameters:'
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，添加以下配置参数：
- en: '[PRE15]'
  id: totrans-92
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: There's more…
  id: totrans-93
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多…
- en: 'Teaming comes with runners—a way of load-sharing backup methods that you can
    assign to your team:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 团队化包含运行器——一种负载共享备份方法，您可以将其分配给团队：
- en: '**active-backup**: In this, one physical interface is used, while the others
    are kept as backup'
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**active-backup**：在此模式中，使用一个物理接口，其他接口保持为备份'
- en: '**broadcast**: In this, data is transmitted over all physical interfaces''
    selectors'
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**broadcast**：在此模式中，数据通过所有物理接口的选择器进行传输'
- en: '**LACP**: This implements `802.3ad` Link Aggregation Control Protocol'
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**LACP**：实现 `802.3ad` 链路聚合控制协议'
- en: '**loadbalance**: This performs active Tx load balancing and uses a BPF-based
    Tx port'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**loadbalance**：执行主动的 Tx 负载均衡，并使用基于 BPF 的 Tx 端口'
- en: '**round-robin**: The data is transmitted over all physical interfaces in turn'
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**round-robin**：数据依次通过所有物理接口传输'
- en: 'These can also be defined upon creation using either of the presented options
    here:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 这些也可以在创建时通过这里提供的任一选项进行定义：
- en: nmcli
  id: totrans-101
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: nmcli
- en: 'Add `team.config "{\"runner\":{\"name\": \"activebackup\"}}"` to your command
    to create your team interface, and substitute `activebackup` with the runner that
    you wish to use.'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '将 `team.config "{\"runner\":{\"name\": \"activebackup\"}}"` 添加到您的命令中以创建团队接口，并将
    `activebackup` 替换为您希望使用的运行器。'
- en: nmtui
  id: totrans-103
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: nmtui
- en: 'Fill out the JSON configuration field for the team interface with `{"runner":
    {"name": "activebackup"}}`, and substitute `activebackup` with the runner that
    you wish to use.'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '填写团队接口的 JSON 配置字段 `{"runner": {"name": "activebackup"}}`，并将 `activebackup`
    替换为您希望使用的运行器。'
- en: '![nmtui](img/00027.jpeg)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![nmtui](img/00027.jpeg)'
- en: kickstart
  id: totrans-106
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: kickstart
- en: 'Add `--teamconfig="{\"runner\":{\"name\": \"activebackup\"}}"` to your team
    device line, and substitute `activebackup` with the runner that you wish to use.'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '将 `--teamconfig="{\"runner\":{\"name\": \"activebackup\"}}"` 添加到您的团队设备行中，并将
    `activebackup` 替换为您希望使用的运行器。'
- en: 'The options provided to create the team interface are bare bones using `nmcli`.
    If you wish to add a connection and interface name, use `con-name` and `ifname`,
    respectively, in this way:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 `nmcli` 创建团队接口时，提供的选项是基础的。如果您希望添加连接和接口名称，可以分别使用 `con-name` 和 `ifname`，如下所示：
- en: '[PRE16]'
  id: totrans-109
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'The same is true for adding the team slaves, except for `ifname`, which is
    required to specify the correct interface:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 添加团队从属设备时也需要类似的操作，唯一不同的是需要指定正确的接口名`ifname`：
- en: '[PRE17]'
  id: totrans-111
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: See also
  id: totrans-112
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参见
- en: 'For more information on the networking team daemon and "runners", refer to
    the following URL:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 如需了解有关网络团队守护进程和“运行器”的更多信息，请参考以下网址：
- en: '[https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/sec-Understanding_the_Network_Teaming_Daemon_and_the_Runners.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/sec-Understanding_the_Network_Teaming_Daemon_and_the_Runners.html)'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/sec-Understanding_the_Network_Teaming_Daemon_and_the_Runners.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/sec-Understanding_the_Network_Teaming_Daemon_and_the_Runners.html)'
- en: 'For more information on using `nmcli` to create team interfaces, take a look
    at the following link:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 如需了解更多关于使用`nmcli`创建团队接口的信息，请查看以下链接：
- en: '[https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/sec-Configure_a_Network_Team_Using-the_Command_Line.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/sec-Configure_a_Network_Team_Using-the_Command_Line.html)'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/sec-Configure_a_Network_Team_Using-the_Command_Line.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/sec-Configure_a_Network_Team_Using-the_Command_Line.html)'
- en: 'For more information on using `nmtui` to create team interfaces, follow this
    link:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 如需了解更多使用`nmtui`创建团队接口的信息，请访问以下链接：
- en: '[https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/sec-Configure_a_Network_Team_Using_the_Text_User_Interface_nmtui.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/sec-Configure_a_Network_Team_Using_the_Text_User_Interface_nmtui.html)'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/sec-Configure_a_Network_Team_Using_the_Text_User_Interface_nmtui.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/sec-Configure_a_Network_Team_Using_the_Text_User_Interface_nmtui.html)'
- en: 'For more information on creating team interfaces in kickstart scripts, the
    following link will be useful:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 有关在kickstart脚本中创建团队接口的更多信息，请参考以下链接：
- en: '[https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Installation_Guide/sect-kickstart-syntax.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Installation_Guide/sect-kickstart-syntax.html)'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Installation_Guide/sect-kickstart-syntax.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Installation_Guide/sect-kickstart-syntax.html)'
- en: Creating a bridge
  id: totrans-121
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建桥接
- en: A network bridge is a logical device that forwards traffic between connected
    physical interfaces based on MAC addresses. This kind of bridge can be used to
    emulate a hardware bridge in virtualization applications, such as KVM, to share
    the NIC with multiple virtual NICs.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 网络桥接是一个逻辑设备，它根据MAC地址在连接的物理接口之间转发流量。这种桥接可以在虚拟化应用程序（如KVM）中用来模拟硬件桥接，从而使多个虚拟网络接口共享网卡。
- en: Getting ready
  id: totrans-123
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备就绪
- en: To bridge two physical networks, we need two network interfaces. Your physical
    interfaces should never be configured with any address as the bridge will be configured
    with the IP address(es).
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 要桥接两个物理网络，我们需要两个网络接口。你的物理接口不应配置任何地址，因为桥接将配置IP地址。
- en: How to do it…
  id: totrans-125
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做…
- en: For the sake of ease, the physical network interfaces we will bridge are `eth1`
    and `eth2`. The IPv4 address will be `10.0.0.2` with a subnet mask of `255.0.0.0`
    and a default gateway of `10.0.0.1`.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 为了简便起见，我们将桥接的物理网络接口为`eth1`和`eth2`。IPv4地址为`10.0.0.2`，子网掩码为`255.0.0.0`，默认网关为`10.0.0.1`。
- en: Creating a bridge using nmcli
  id: totrans-127
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用nmcli创建桥接
- en: 'Make sure that you activate the bridge after configuring the bridge and interfaces!
    Here are the steps that you need to perform for this:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 配置桥接和接口后，确保激活桥接！以下是需要执行的步骤：
- en: 'First, create the bridge connection via the following command:'
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，使用以下命令创建桥接连接：
- en: '[PRE18]'
  id: totrans-130
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'Add `eth1` to the bridge, as follows:'
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`eth1`添加到桥接中，如下所示：
- en: '[PRE19]'
  id: totrans-132
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Next, add `eth2` to the bridge using the following command:'
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，使用以下命令将`eth2`添加到桥接中：
- en: '[PRE20]'
  id: totrans-134
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'Activate the bridge by executing the following:'
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过执行以下命令来激活桥接：
- en: '[PRE21]'
  id: totrans-136
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'Now, check your network connection by running the following commands:'
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，通过运行以下命令检查你的网络连接：
- en: '[PRE22]'
  id: totrans-138
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Here is an example output of the preceding commands:'
  id: totrans-139
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以下是前面命令的示例输出：
- en: '![Creating a bridge using nmcli](img/00028.jpeg)'
  id: totrans-140
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![使用nmcli创建桥接](img/00028.jpeg)'
- en: Creating a bridge using nmtui
  id: totrans-141
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用nmtui创建桥接
- en: 'Launch `nmtui` and select **Edit a connection**. After this, follow these steps
    to create a bridge using `nmtui`:'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 启动`nmtui`并选择**Edit a connection**。接下来，按照这些步骤使用`nmtui`创建桥接：
- en: Create a bridge connection by selecting **<Add>** and **Bridge** from the connection
    list and then click on **<Create>**:![Creating a bridge using nmtui](img/00029.jpeg)
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过从连接列表中选择**<Add>**和**Bridge**，然后点击**<Create>**来创建桥接连接：![使用nmtui创建桥接](img/00029.jpeg)
- en: Fill out the presented form with the required information:![Creating a bridge
    using nmtui](img/00030.jpeg)
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 填写所呈现的表单并提供所需的信息：![使用nmtui创建桥接](img/00030.jpeg)
- en: Next, add the two network interfaces by selecting **<Add>** and providing the
    requested information for each interface:![Creating a bridge using nmtui](img/00031.jpeg)
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，通过选择**<Add>**并为每个接口提供所需的信息，添加两个网络接口：![使用nmtui创建桥接](img/00031.jpeg)
- en: Finally, select **<OK>** to create the bridge:![Creating a bridge using nmtui](img/00032.jpeg)
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，选择**<OK>**来创建桥接：![使用nmtui创建桥接](img/00032.jpeg)
- en: 'Your new bridge will now be listed in the connections list:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您的新桥接将显示在连接列表中：
- en: '![Creating a bridge using nmtui](img/00033.jpeg)'
  id: totrans-148
  prefs: []
  type: TYPE_IMG
  zh: '![使用nmtui创建桥接](img/00033.jpeg)'
- en: Creating a bridge with kickstart
  id: totrans-149
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用kickstart创建桥接
- en: 'Edit your `kickstart` file with your favorite editor through the following
    steps:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 通过以下步骤使用您喜欢的编辑器编辑`kickstart`文件：
- en: 'Look for the configuration parameters within your `kickstart` file using this
    command line:'
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令行查找`kickstart`文件中的配置参数：
- en: '[PRE23]'
  id: totrans-152
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'Now, add the following configuration parameters:'
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，添加以下配置参数：
- en: '[PRE24]'
  id: totrans-154
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: There's more…
  id: totrans-155
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多……
- en: 'The options provided to create the bridge are bare bones using `nmcli`. If
    you wish to add a connection and interface name, use `con-name` and `ifname`,
    respectively, in this way:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`nmcli`创建桥接时，所提供的选项非常简单。如果您希望添加连接和接口名称，可以分别使用`con-name`和`ifname`，如以下方式：
- en: '[PRE25]'
  id: totrans-157
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'The same is true for adding the bridge slaves, except for `ifname`, which is
    required to specify the correct interface:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 添加桥接从属接口时也是一样的，唯一不同的是需要使用`ifname`来指定正确的接口：
- en: '[PRE26]'
  id: totrans-159
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: See also
  id: totrans-160
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参见
- en: 'For more information on creating network bridges using `nmcli`, go to the following
    URL:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 有关使用`nmcli`创建网络桥接的更多信息，请访问以下URL：
- en: '[https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/sec-Network_Bridging_Using_the_NetworkManager_Command_Line_Tool_nmcli.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/sec-Network_Bridging_Using_the_NetworkManager_Command_Line_Tool_nmcli.html)'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/sec-Network_Bridging_Using_the_NetworkManager_Command_Line_Tool_nmcli.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/sec-Network_Bridging_Using_the_NetworkManager_Command_Line_Tool_nmcli.html)'
- en: 'For more information on creating network bridges using `nmtui`, go to this
    website:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 有关使用`nmtui`创建网络桥接的更多信息，请访问以下网站：
- en: '[https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/ch-Configure_Network_Bridging.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/ch-Configure_Network_Bridging.html)'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/ch-Configure_Network_Bridging.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/ch-Configure_Network_Briding.html)'
- en: 'For more information on kickstart and bridging, go to the following website:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 有关kickstart和桥接的更多信息，请访问以下网站：
- en: '[https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Installation_Guide/sect-kickstart-syntax.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Installation_Guide/sect-kickstart-syntax.html)'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Installation_Guide/sect-kickstart-syntax.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Installation_Guide/sect-kickstart-syntax.html)'
- en: Configuring IPv4 settings
  id: totrans-167
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 配置IPv4设置
- en: Changing your IP addresses is pretty straightforward in the old `ifcfg`-style
    files, and it's actually pretty simple using `NetworkManager` tools as well.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 在旧的`ifcfg`样式文件中更改IP地址非常直接，使用`NetworkManager`工具时也很简单。
- en: As kickstart is only used to set up a system, it is not relevant to go in depth
    into this matter in this recipe.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 由于kickstart仅用于设置系统，因此在本教程中不涉及深入讨论此问题。
- en: How to do it…
  id: totrans-170
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: Let's change our current IPv4 address and gateway for `eth1` to `10.0.0.3`/`8`,
    with `10.0.0.2` as the default gateway.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们将当前`eth1`的IPv4地址和网关更改为`10.0.0.3`/`8`，并将默认网关设置为`10.0.0.2`。
- en: Setting your IPv4 configuration using nmcli
  id: totrans-172
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用nmcli设置IPv4配置
- en: 'Perform the following steps:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤：
- en: 'Set the ipv4 information by executing the following command line:'
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过执行以下命令行设置ipv4信息：
- en: '[PRE27]'
  id: totrans-175
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'Now, run the following to verify the information:'
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，运行以下命令来验证信息：
- en: '[PRE28]'
  id: totrans-177
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'Here is an example output of the preceding commands:'
  id: totrans-178
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这是前述命令的示例输出：
- en: '![Setting your IPv4 configuration using nmcli](img/00034.jpeg)'
  id: totrans-179
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![使用nmcli设置IPv4配置](img/00034.jpeg)'
- en: Setting your IPv4 configuration using nmtui
  id: totrans-180
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用nmtui设置您的IPv4配置
- en: 'The `nmtui` tool takes a bit more work, but the end result remains the same.
    Perform the following steps:'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: '`nmtui`工具需要更多工作，但最终结果仍然相同。执行以下步骤：'
- en: Start `nmtui`, select the interface that you wish to modify, and click on **<Edit...>**:![Setting
    your IPv4 configuration using nmtui](img/00035.jpeg)
  id: totrans-182
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动`nmtui`，选择要修改的接口，然后单击**<编辑...>**：![使用nmtui设置IPv4配置](img/00035.jpeg)
- en: Now, modify the IPv4 configuration to your liking and click on **<OK>**.
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，根据您的喜好修改IPv4配置，然后单击**<OK>**。
- en: There's more…
  id: totrans-184
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: Managing IPv6 ip addresses is as straightforward as configuring your IPv4 counterparts.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 管理IPv6 IP地址与配置IPv4对应项一样简单。
- en: 'The options you need to use in kickstart to set your ip address and gateway
    are:'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要在kickstart中使用的选项来设置您的IP地址和网关是：
- en: '`--ip`: This is used to set the system''s IPv4 address'
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--ip`：用于设置系统的IPv4地址'
- en: '`--netmask`: This is used for the subnet mask'
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--netmask`：用于子网掩码'
- en: '`--gateway`: This is used to set the IPv4 gateway'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--gateway`：用于设置IPv4网关'
- en: Configuring your DNS resolvers
  id: totrans-190
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 配置您的DNS解析器
- en: DNS servers are stored in `/etc/resolv.conf`. You can also manage this file
    using `NetworkManager`.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: DNS服务器存储在`/etc/resolv.conf`中。您也可以使用`NetworkManager`管理此文件。
- en: As with the previous recipe, and for the same reasons, this recipe won't go
    into the `kickstart` options.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 与之前的配方一样，出于同样的原因，本配方不会涉及`kickstart`选项。
- en: How to do it…
  id: totrans-193
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'Let''s set the DNS resolvers for `eth1` to point to Google''s public DNS servers:
    `8.8.8.8` and `8.8.4.4`.'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们将`eth1`的DNS解析器设置为指向Google的公共DNS服务器：`8.8.8.8`和`8.8.4.4`。
- en: Setting your DNS resolvers using nmcli
  id: totrans-195
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用nmcli设置您的DNS解析器
- en: 'Perform the following steps:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤：
- en: 'Set the DNS servers via the following command:'
  id: totrans-197
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过以下命令设置DNS服务器：
- en: '[PRE29]'
  id: totrans-198
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'Now, use the following command to check your configuration:'
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，使用以下命令检查您的配置：
- en: '[PRE30]'
  id: totrans-200
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'Here is an example output of the preceding commands:'
  id: totrans-201
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这是前述命令的示例输出：
- en: '![Setting your DNS resolvers using nmcli](img/00036.jpeg)'
  id: totrans-202
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![使用nmcli设置DNS解析器](img/00036.jpeg)'
- en: Setting your DNS resolvers using nmtui
  id: totrans-203
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用nmtui设置您的DNS解析器
- en: 'The `nmtui` tool requires a bit more work to set the DNS resolvers, as follows:'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`nmtui`工具需要更多工作来设置DNS解析器，如下所示：
- en: Start `nmtui`, select the interface that you wish to modify, and click on **<Edit...>**:![Setting
    your DNS resolvers using nmtui](img/00037.jpeg)
  id: totrans-205
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动`nmtui`，选择要修改的接口，然后单击**<编辑...>**：![使用nmtui设置DNS解析器](img/00037.jpeg)
- en: There's more…
  id: totrans-206
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: The `nmcli` tool supports adding multiple DNS servers by separating them with
    a semicolon. Using a blank value (`""`) will remove all the DNS servers for this
    connection.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: '`nmcli`工具支持通过分号分隔添加多个DNS服务器。使用空值（`""`）将删除此连接的所有DNS服务器。'
- en: Similarly, you can set the DNS search domains for your environment. When using
    `nmcli`, you'll need to specify the `ipv4.dns-search` property.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 类似地，您可以为您的环境设置DNS搜索域。使用`nmcli`时，您需要指定`ipv4.dns-search`属性。
- en: Kickstart will allow you to specify the DNS servers using the `--nameserver`
    option for each DNS server. If you do not wish to specify any DNS servers, use
    `--nodns`. Unfortunately, there is no native way to set the DNS domain search
    using `kickstart`. You will have to use `nmcli`, for example, in the `%post` section
    of your `kickstart` script.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: Kickstart允许您使用`--nameserver`选项为每个DNS服务器指定DNS服务器。如果您不希望指定任何DNS服务器，请使用`--nodns`。不幸的是，没有原生方法可以使用`kickstart`设置DNS域搜索。您将不得不在`kickstart`脚本的`%post`部分中使用`nmcli`，例如。
- en: Tip
  id: totrans-210
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: Be careful when setting DNS configurations for multiple network interfaces.
    `NetworkManager` adds all your nameservers to your `resolv.conf` file, but libc
    may not support more than six nameservers.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 在为多个网络接口设置DNS配置时要小心。`NetworkManager`将所有名称服务器添加到您的`resolv.conf`文件中，但libc可能不支持超过六个名称服务器。
- en: Configuring static network routes
  id: totrans-212
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 配置静态网络路由
- en: In some cases, it is required to set static routes on your system. As static
    routes are not natively supported in `kickstart`, this is not covered in this
    recipe.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些情况下，需要在系统上设置静态路由。由于静态路由在`kickstart`中不受原生支持，因此本配方不涵盖此内容。
- en: How to do it…
  id: totrans-214
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: Add static routes to both the `192.168.0.0`/`24` and `192.168.1.0`/`24` networks
    via `10.0.0.1`.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 通过`10.0.0.1`添加静态路由到`192.168.0.0`/`24`和`192.168.1.0`/`24`网络。
- en: Configuring static network routes using nmcli
  id: totrans-216
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用nmcli配置静态网络路由
- en: 'Here''s what you need to do:'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是你需要做的：
- en: 'Set the route using the following command:'
  id: totrans-218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令设置路由：
- en: '[PRE31]'
  id: totrans-219
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'Now, execute the following command line to verify the configuration:'
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，执行以下命令行来验证配置：
- en: '[PRE32]'
  id: totrans-221
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'Here is an example output of the preceding commands:'
  id: totrans-222
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 下面是前述命令的示例输出：
- en: '![Configuring static network routes using nmcli](img/00038.jpeg)'
  id: totrans-223
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![使用nmcli配置静态网络路由](img/00038.jpeg)'
- en: Configuring network routes using nmtui
  id: totrans-224
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用nmtui配置网络路由
- en: 'Here are the steps for this recipe:'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是此过程的步骤：
- en: Launch `nmtui`, select the interface that you wish to modify the static routes
    for, and click on **<Edit...>**:![Configuring network routes using nmtui](img/00039.jpeg)
  id: totrans-226
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动`nmtui`，选择你希望修改静态路由的接口，然后点击**<编辑...>**：![使用nmtui配置网络路由](img/00039.jpeg)
- en: Now, select **<Edit...>** next to the **IPv4 Configuration – Routing** entry
    and enter your routes. Select **<OK>** to confirm:![Configuring network routes
    using nmtui](img/00040.jpeg)
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，选择**<编辑...>**，位于**IPv4配置 - 路由**条目旁边，输入你的路由信息。选择**<确定>**确认：![使用nmtui配置网络路由](img/00040.jpeg)
- en: Finally, click on **<OK>** to confirm the changes and save them.
  id: totrans-228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，点击**<确定>**以确认更改并保存。
