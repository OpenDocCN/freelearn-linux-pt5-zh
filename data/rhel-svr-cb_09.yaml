- en: Chapter 9. Securing RHEL 7
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第9章：加固 RHEL 7
- en: 'In this chapter, you will learn all about:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您将学习以下内容：
- en: Installing and configuring IPA
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装和配置 IPA
- en: Securing the system login
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 加强系统登录安全
- en: Configuring privilege escalation with sudo
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置 sudo 提权
- en: Securing the network with `firewalld`
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `firewalld` 加强网络安全
- en: Using kdump and SysRq
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 kdump 和 SysRq
- en: Using ABRT
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 ABRT
- en: Auditing the system
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 审计系统
- en: Introduction
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍
- en: Security is an important aspect of your environment. The recipes provided in
    this chapter are not a definitive set of how-tos; rather, they are a start to
    addressing security in an environment as every environment is different. This
    chapter is meant to give you an idea of what you can do with a simple set of tools
    included in Red Hat Enterprise Server 7.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 安全性是您环境中的一个重要方面。本章提供的示例并不是一套完整的操作指南，而是为环境中的安全性提供了一个起点，因为每个环境都不同。本章旨在让您了解如何使用
    Red Hat Enterprise Server 7 中包含的简单工具来提升安全性。
- en: In this chapter, I will not attempt explaining where the system stores syslog
    messages and what they mean as this can be quite an exhaustive topic. The most
    important security-related syslog messages can be found in `/var/log/secure` and
    `/var/log/audit/audit.log`.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我不会尝试解释系统如何存储 syslog 消息以及它们的含义，因为这是一个相当复杂的话题。最重要的与安全相关的 syslog 消息可以在 `/var/log/secure`
    和 `/var/log/audit/audit.log` 中找到。
- en: Installing and configuring IPA
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装和配置 IPA
- en: The **IPA** (**Identity Policy Audit**) server allows you to manage your kerberos,
    DNS, hosts, users, sudo rules, password policies, and automounts in a central
    location. IPA is a combination of packages, including—but not limited to—`bind`,
    `ldap`, `pam`, and so on. It combines all of these to provide identity management
    for your environment.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '**IPA**（**身份策略审计**）服务器允许您在一个中心位置管理您的 Kerberos、DNS、主机、用户、sudo 规则、密码策略和自动挂载。IPA
    是一组软件包的组合，包括但不限于 `bind`、`ldap`、`pam` 等。它将这些功能结合起来，为您的环境提供身份管理。'
- en: Getting ready
  id: totrans-14
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: In this recipe, I will opt for an integrated DNS setup, although it is possible
    to use your existing DNS infrastructure.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 在本示例中，我将选择集成的 DNS 设置，尽管也可以使用现有的 DNS 基础设施。
- en: How to do it…
  id: totrans-16
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作……
- en: First, we'll install the server component, followed by what needs to be done
    on an IPA client.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们将安装服务器组件，然后进行 IPA 客户端的配置。
- en: Installing the IPA server
  id: totrans-18
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 安装 IPA 服务器
- en: 'Follow these instructions to install an IPA server:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下说明安装 IPA 服务器：
- en: 'Install the necessary packages via the following command:'
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过以下命令安装必要的软件包：
- en: '[PRE0]'
  id: totrans-21
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'When the packages are installed, invoke the `ipa` installer, as follows:'
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装软件包后，按照如下方式调用 `ipa` 安装程序：
- en: '[PRE1]'
  id: totrans-23
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: At this stage, you will be asked a couple of questions on how to set up your
    IPA server.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 在此阶段，您将被问及一些关于如何设置 IPA 服务器的问题。
- en: 'Configure integrated DNS as follows:'
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按如下方式配置集成的 DNS：
- en: '[PRE2]'
  id: totrans-26
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Overwrite existing `/etc/resolv.conf` as follows:'
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按如下方式覆盖现有的 `/etc/resolv.conf`：
- en: '[PRE3]'
  id: totrans-28
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Provide the IPA server''s hostname, as follows:'
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提供 IPA 服务器的主机名，如下所示：
- en: '[PRE4]'
  id: totrans-30
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Now, confirm the DNS domain name for the IPA server as follows:'
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，确认 IPA 服务器的 DNS 域名，如下所示：
- en: '[PRE5]'
  id: totrans-32
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Provide an IP address for the IPA server as follows:'
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提供 IPA 服务器的 IP 地址，如下所示：
- en: '[PRE6]'
  id: totrans-34
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Next, provide a Kerberos `realm` name, as follows:'
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，提供一个 Kerberos `realm` 名称，如下所示：
- en: '[PRE7]'
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Create the directory manager''s password and confirm it as follows:'
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建目录管理员的密码并确认，如下所示：
- en: '[PRE8]'
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Create the IPA manager''s password and confirm it as follows:'
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建 IPA 管理员的密码并确认，如下所示：
- en: '[PRE9]'
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Now, configure the DNS forwarders as follows:'
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，按如下方式配置 DNS 转发器：
- en: '[PRE10]'
  id: totrans-42
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Finally, configure the reverse DNS zones as follows:'
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，按如下方式配置反向 DNS 区域：
- en: '[PRE11]'
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'The installer will now provide an overview similar to the following:'
  id: totrans-45
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 安装程序现在将提供类似于以下的概述：
- en: '[PRE12]'
  id: totrans-46
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Now, confirm the information by typing "yes", as follows:'
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，通过输入 "yes" 来确认信息，如下所示：
- en: '[PRE13]'
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'At this point, you will see a lot of information scrolling on your screen,
    indicating what the installer is doing: installing or configuring NTP, LDAP, BIND,
    Kerberos, HTTP, the certificate server, and IPA-related modifications to the preceding
    examples.'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 此时，您将看到屏幕上滚动大量信息，指示安装程序正在执行的操作：安装或配置 NTP、LDAP、BIND、Kerberos、HTTP、证书服务器以及前面示例中的
    IPA 相关修改。
- en: The installation and configuration process can take a while, so be patient.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 安装和配置过程可能需要一些时间，请耐心等待。
- en: Installing the IPA client
  id: totrans-51
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 安装 IPA 客户端
- en: 'Perform these steps to install and configure the IPA client on your system:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤以在系统上安装和配置 IPA 客户端：
- en: Tip
  id: totrans-53
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: Ensure that the hostname of your system is different from `localhost.localdomain`.
    If it is not, the client configuration will fail.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 确保你的系统主机名不同于 `localhost.localdomain`。如果不是，客户端配置将失败。
- en: 'Install the necessary packages via the following command:'
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过以下命令安装必要的软件包：
- en: '[PRE14]'
  id: totrans-56
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Ensure that the IPA server is used as a DNS server through the following:'
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保通过以下方式将IPA服务器用作DNS服务器：
- en: '[PRE15]'
  id: totrans-58
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Invoke the IPA client configuration by running this command line:'
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过运行此命令行来调用IPA客户端配置：
- en: '[PRE16]'
  id: totrans-60
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'The installer will now show an overview of the detected IPA server and ask
    for a user (the IPA manager) and password to register your system, as shown in
    the following screenshot:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 安装程序现在将显示检测到的IPA服务器概览，并要求提供一个用户（IPA管理员）和密码来注册你的系统，如下图所示：
- en: '![Installing the IPA client](img/00060.jpeg)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![安装IPA客户端](img/00060.jpeg)'
- en: There's more…
  id: totrans-63
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多…
- en: Once installed, you can manage your IPA environment using the command line tool
    IPA or the web interface, which can be accessed by pointing your browser to your
    IPA master server over HTTPS. In this case, the URL is `https://master.example.com`.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 安装后，你可以使用命令行工具IPA或通过Web界面管理IPA环境，该界面可以通过在浏览器中访问你的IPA主服务器的HTTPS地址来访问。在这种情况下，URL是
    `https://master.example.com`。
- en: 'By default, the IPA client doesn''t create `homedirs` for new users at first
    login. If you want to enable this, use the `--mkhomedir` argument with `ipa-client-install`.
    If you happen to have forgotten about this, there''s no need to reinstall the
    IPA client. You can just reconfigure this by executing the following command:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，IPA客户端不会在用户第一次登录时为新用户创建 `homedirs`。如果你想启用此功能，可以使用 `--mkhomedir` 参数与 `ipa-client-install`
    一起使用。如果你不小心忘记了这一步，没必要重新安装IPA客户端。你只需要执行以下命令重新配置它：
- en: '[PRE17]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: See also
  id: totrans-67
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参见
- en: For more in-depth information about installing and configuring your IPA server,
    go to [https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Linux_Domain_Identity_Authentication_and_Policy_Guide/installing-ipa.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Linux_Domain_Identity_Authentication_and_Policy_Guide/installing-ipa.html).
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 如需关于安装和配置IPA服务器的更深入信息，请访问 [https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Linux_Domain_Identity_Authentication_and_Policy_Guide/installing-ipa.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Linux_Domain_Identity_Authentication_and_Policy_Guide/installing-ipa.html)。
- en: For more information about managing your IPA environment through the command
    line, read the *ipa (1)* man pages.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 如需了解通过命令行管理IPA环境的更多信息，请阅读 *ipa (1)* 手册页。
- en: Securing the system login
  id: totrans-70
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 保护系统登录
- en: 'The default settings applied to system login are based on what Red Hat deems
    basic security. If, for some reason, you want to change this, this recipe will
    show you a couple of examples. Authconfig has two tools that you can use to configure
    authentication: `authconfig` and `authconfig-tui`.'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 应用到系统登录的默认设置是基于Red Hat认为的基本安全性。如果由于某种原因你想更改这些设置，本文将展示几个示例。Authconfig有两个工具可用于配置身份验证：`authconfig`
    和 `authconfig-tui`。
- en: These two tools configure `pam` for you in such a way that the changes are consistent
    throughout rpm updates.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 这两个工具会为你配置 `pam`，以确保在rpm更新中这些更改是一致的。
- en: The `authconfig-tui` tool is not as feature-rich as the plan `authconfig` tool,
    which I personally recommend you to use as it allows you to do more.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: '`authconfig-tui` 工具的功能不如计划中的 `authconfig` 工具丰富，我个人建议你使用 `authconfig`，因为它允许你做更多的操作。'
- en: You can manually edit the files located in `/etc/pam.d` if and when you know
    what you're doing, but this is not recommended.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你知道自己在做什么，你可以手动编辑位于 `/etc/pam.d` 中的文件，但不建议这样做。
- en: How to do it…
  id: totrans-75
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'Perform the following steps:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤：
- en: 'First, change the hash encryption of the passwords stored in `/etc/shadow`
    to `sha512`, as follows:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，将 `/etc/shadow` 中存储的密码哈希加密更改为 `sha512`，如下所示：
- en: '[PRE18]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'Enable NIS authentication through the following command:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 通过以下命令启用NIS身份验证：
- en: '[PRE19]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Now, set the minimum length requirement for passwords to `16` via the following:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，通过以下命令将密码的最小长度要求设置为 `16`：
- en: '[PRE20]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'The user requires at least one lowercase letter in the password; you can set
    this requirement by running the following:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 密码中至少需要包含一个小写字母，你可以通过运行以下命令来设置此要求：
- en: '[PRE21]'
  id: totrans-84
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'Also, the user requires at least one uppercase letter in the password, for
    which you can run the following:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，密码中至少需要包含一个大写字母，你可以运行以下命令来实现：
- en: '[PRE22]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Now, the user requires at least one number in the password. Execute the following
    command for this:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，密码中要求至少包含一个数字。为此执行以下命令：
- en: '[PRE23]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'Finally, the user requires at least one nonalphanumeric character in the password,
    which you can set using the following command:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，用户的密码至少需要包含一个非字母数字字符，你可以通过以下命令设置：
- en: '[PRE24]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: How it works…
  id: totrans-91
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理…
- en: '`authconfig` and `authconfig-tui` are wrapper scripts that modify a variety
    of files, including, but not limited to, `/etc/nsswitch.conf`, `/etc/pam.d/*`,
    `/etc/sssd.conf`, `/etc/openldap/ldap.conf`, and `/etc/sysconfig/network`.'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: '`authconfig` 和 `authconfig-tui` 是用于修改多种文件的包装脚本，包括但不限于 `/etc/nsswitch.conf`、`/etc/pam.d/*`、`/etc/sssd.conf`、`/etc/openldap/ldap.conf`
    和 `/etc/sysconfig/network`。'
- en: The advantage of the tool is that it uses the correct syntax, which can sometimes
    be a little tricky, especially for the files in `/etc/pam.d`.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 该工具的优点是它使用正确的语法，这有时可能有些棘手，尤其是对于 `/etc/pam.d` 中的文件。
- en: There's more…
  id: totrans-94
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多…
- en: One of the interesting features of this tool is the backup and restore functions.
    In case you do not use any centralized identification and authentication infrastructure,
    such as IPA, you can use this to make a backup of a correctly configured machine
    and distribute this through whichever means you wish to use.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 该工具的一个有趣特点是备份和恢复功能。如果你没有使用任何集中式身份验证和认证基础设施（例如 IPA），你可以使用此功能备份正确配置的机器，并通过你选择的任何方式分发该备份。
- en: 'To back up your `authconf` configuration, execute the following:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 要备份你的 `authconf` 配置，请执行以下命令：
- en: '[PRE25]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: This will create a `/tmp/auth.conf` directory, which contains all the files
    modified by `authconfig`.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 这将创建一个 `/tmp/auth.conf` 目录，其中包含 `authconfig` 修改的所有文件。
- en: 'Copy this directory over to another server and restore the configuration by
    executing the following:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 将该目录复制到另一台服务器并通过执行以下命令恢复配置：
- en: '[PRE26]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: All of the security changes you apply through `authconfig` can also be managed
    through IPA.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 你通过 `authconfig` 应用的所有安全更改也可以通过 IPA 管理。
- en: See also
  id: totrans-102
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另见
- en: For information about and more configuration options, take a look at the *authconfig
    (8)* man pages.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 有关更多信息和更多配置选项，请查看 *authconfig (8)* 手册页。
- en: You can also find more information on Red Hat's page on authentication at [https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/System-Level_Authentication_Guide/Configuring_Authentication.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/System-Level_Authentication_Guide/Configuring_Authentication.html).
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以在 Red Hat 的认证页面找到更多信息：[https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/System-Level_Authentication_Guide/Configuring_Authentication.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/System-Level_Authentication_Guide/Configuring_Authentication.html)。
- en: Configuring privilege escalation with sudo
  id: totrans-105
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 sudo 配置特权提升
- en: Sudo allows users to run applications and scripts with the security privileges
    of another user.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: Sudo 允许用户以其他用户的安全权限运行应用程序和脚本。
- en: Getting ready
  id: totrans-107
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Before allowing someone to elevate their security context for a specific application
    or script, you need to figure out which user or group you wish to elevate from
    and to, which applications/scripts you use, and on which systems to run them.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 在允许某人提高特定应用程序或脚本的安全上下文之前，你需要弄清楚要提升的用户或组、使用的应用程序/脚本以及在哪些系统上运行它们。
- en: 'The default syntax for a sudo entry is the following:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: sudo 条目的默认语法如下：
- en: '[PRE27]'
  id: totrans-110
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: How to do it…
  id: totrans-111
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'These simple five steps will guide you through setting up privilege escalation:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 这五个简单的步骤将指导你完成特权提升的设置：
- en: 'Create a new `sudoers` definition file in `/etc/sudoers.d/` called clustering
    through the following command:'
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过以下命令在 `/etc/sudoers.d/` 中创建一个新的 `sudoers` 定义文件，命名为 clustering：
- en: '[PRE28]'
  id: totrans-114
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'Create a command alias for the most-used clustering tools called `CLUSTERING`
    by executing the following:'
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过执行以下命令，为最常用的集群工具创建一个命令别名，命名为 `CLUSTERING`：
- en: '[PRE29]'
  id: totrans-116
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'Now, create a host alias group for all the clusters called `CLUSTERS`, as follows:'
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，创建一个名为 `CLUSTERS` 的主机别名组，包含所有集群，如下所示：
- en: '[PRE30]'
  id: totrans-118
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'Next, create a user alias for all cluster admins called `CLUSTERADMINS` by
    executing the following:'
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，通过执行以下命令，为所有集群管理员创建一个用户别名，命名为 `CLUSTERADMINS`：
- en: '[PRE31]'
  id: totrans-120
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'Now, let''s create a sudo rule that allows the users from `CLUSTERADMINS` to
    execute commands from `CLUSTERING` on all servers within the `CLUSTERS` group,
    as follows:'
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，让我们创建一个 sudo 规则，允许 `CLUSTERADMINS` 中的用户在 `CLUSTERS` 组内的所有服务器上执行来自 `CLUSTERING`
    的命令，如下所示：
- en: '[PRE32]'
  id: totrans-122
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE32]'
- en: There's more…
  id: totrans-123
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多…
- en: To edit the `sudoers` file, you can either use a text editor and edit `/etc/sudoers`,
    the `visudo` tool, which automatically checks your syntax when exiting.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 要编辑 `sudoers` 文件，你可以使用文本编辑器编辑 `/etc/sudoers`，或者使用 `visudo` 工具，它会在退出时自动检查你的语法。
- en: It's always a good idea to leave the original `/etc/sudoers` file alone and
    modify the files located in `/etc/sudoers.d/`. This allows the sudo rpm to update
    the `sudoers` file should it be necessary.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 最好不要动原始的`/etc/sudoers`文件，而是修改位于`/etc/sudoers.d/`目录下的文件。这样可以在必要时由sudo rpm更新`sudoers`文件。
- en: See also
  id: totrans-126
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅
- en: For more information about sudo, take a look at the *sudoers (5)* man page.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解有关sudo的更多信息，请查看*sudoers(5)*手册页面。
- en: Secure the network with firewalld
  id: totrans-128
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用`firewalld`保护网络
- en: '`firewalld` is a set of scripts and a daemon that manage `netfilter` on your
    RHEL system. It aims at creating a simple command-line interface to manage the
    firewall on your systems.'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: '`firewalld`是一组脚本和守护程序，用于管理您的RHEL系统上的`netfilter`。它旨在为系统上的防火墙创建一个简单的命令行界面。'
- en: How to do it…
  id: totrans-130
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做…
- en: 'By default, `firewalld` is included in the "core" rpm group, but it may not
    be installed for some reason (that you left it out of your kickstart would be
    one!). Perform the following steps:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，`firewalld`包含在“core”rpm组中，但由于某些原因（如在kickstart中遗漏），可能未安装。执行以下步骤：
- en: 'Install `firewalld` via the following command line:'
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过以下命令行安装`firewalld`：
- en: '[PRE33]'
  id: totrans-133
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'Now, enable `firewalld` through the following:'
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，通过以下步骤启用`firewalld`：
- en: '[PRE34]'
  id: totrans-135
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'Finally, ensure that `firewalld` is started by executing the following command
    line:'
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，请执行以下命令行确保`firewalld`已启动：
- en: '[PRE35]'
  id: totrans-137
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE35]'
- en: Showing the currently allowed services and ports on your system
  id: totrans-138
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 显示当前在系统上允许的服务和端口
- en: 'List all the allowed services using the following command:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 使用以下命令列出所有允许的服务：
- en: '[PRE36]'
  id: totrans-140
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'You can see the output as follows, where all the allowed services are listed:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以查看以下输出，其中列出了所有允许的服务：
- en: '![Showing the currently allowed services and ports on your system](img/00061.jpeg)'
  id: totrans-142
  prefs: []
  type: TYPE_IMG
  zh: '![显示系统上当前允许的服务和端口](img/00061.jpeg)'
- en: 'Now, show the `tcp`/`udp` ports that are allowed by your firewall using the
    following command:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，使用以下命令显示防火墙允许的`tcp`/`udp`端口：
- en: '[PRE37]'
  id: totrans-144
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'Here''s what the output should look like:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 输出应如下所示：
- en: '![Showing the currently allowed services and ports on your system](img/00062.jpeg)'
  id: totrans-146
  prefs: []
  type: TYPE_IMG
  zh: '![显示系统上当前允许的服务和端口](img/00062.jpeg)'
- en: Allowing incoming requests for NFS (v4)
  id: totrans-147
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 允许NFS(v4)的传入请求
- en: 'Perform the following steps to allow NFSv4 traffic on your system:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤允许系统上的NFSv4流量：
- en: 'First, allow `nfs` traffic via this command:'
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，通过此命令允许`nfs`流量：
- en: '[PRE38]'
  id: totrans-150
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 'Then, reload the configuration as follows:'
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，按以下方式重新加载配置：
- en: '[PRE39]'
  id: totrans-152
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'Now, check the newly applied rule by executing the following command line:'
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，通过执行以下命令行检查新应用的规则：
- en: '[PRE40]'
  id: totrans-154
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE40]'
- en: Allowing incoming requests on an arbitrary port
  id: totrans-155
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 允许任意端口的传入请求
- en: 'Perform the following steps to allow incoming traffic on port `1234` over both
    `tcp` and `udp`:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤以允许通过`tcp`和`udp`上的`1234`端口的传入流量：
- en: 'First, allow traffic on port `1234` over `tcp` and `udp` by running the following:'
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，通过运行以下命令允许`tcp`和`udp`上的`1234`端口流量：
- en: '[PRE41]'
  id: totrans-158
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'Reload the configuration by executing the following command:'
  id: totrans-159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过执行以下命令重新加载配置：
- en: '[PRE42]'
  id: totrans-160
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'Check the newly applied rule via the following:'
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过以下命令检查新应用的规则：
- en: '[PRE43]'
  id: totrans-162
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE43]'
- en: There's more…
  id: totrans-163
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 这里还有…
- en: '`firewalld` comes with a set of predefined port configurations, such as HTTP
    and HTTPS. You can find all such definitions in `/lib/firewalld/services`. When
    creating your own port definitions or modifying the existing ones, you should
    create new port definition files in `/etc/firewalld/services`.'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: '`firewalld`提供了一组预定义的端口配置，如HTTP和HTTPS。您可以在`/lib/firewalld/services`中找到所有这些定义。当创建自己的端口定义或修改现有定义时，应在`/etc/firewalld/services`中创建新的端口定义文件。'
- en: When creating new "rules" by adding ports, services, and so on, you need to
    add the `--permanent` option, or your changes would be lost upon the rebooting
    of the system or the reloading of the `firewalld` policy.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 当创建新的“规则”（如添加端口、服务等）时，需要添加`--permanent`选项，否则在系统重新启动或重新加载`firewalld`策略时，更改将会丢失。
- en: See also
  id: totrans-166
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅
- en: For more information on configuring your firewall, check the man pages for *firewall-cmd(1)*.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解有关配置防火墙的更多信息，请查看*firewall-cmd(1)*的man页面。
- en: Using kdump and SysRq
  id: totrans-168
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用kdump和SysRq
- en: The kdump mechanism is a Linux kernel feature, which allows you to create dumps
    if your kernel crashes. It produces an exact copy of the memory, which can be
    analyzed for the root cause of the crash.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: kdump机制是Linux内核的一个功能，允许您在内核崩溃时创建转储。它生成内存的精确副本，可用于分析崩溃的根本原因。
- en: SysRq is a feature supported by the Linux kernel, which allows you to send key
    combinations to it even when your system becomes unresponsive.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: SysRq是Linux内核支持的一项功能，允许您即使在系统无响应时也能向其发送键组合。
- en: How to do it…
  id: totrans-171
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作……
- en: First, we'll set up kdump and SysRq, and afterwards, I'll show you how to use
    it to debug a dump.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们将设置 kdump 和 SysRq，之后，我会向您展示如何使用它来调试转储。
- en: Installing and configuring kdump and SysRq
  id: totrans-173
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 安装和配置 kdump 和 SysRq
- en: 'Let''s take a look at how this is installed and configured:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看如何安装和配置：
- en: 'Install the necessary packages for kdump by executing the following command:'
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过执行以下命令安装 kdump 所需的包：
- en: '[PRE44]'
  id: totrans-176
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE44]'
- en: 'Ensure that `crashkernel=auto` is present in the `GRUB_CMDLINE_LINUX` variable
    declaration in the `/etc/sysconfig/grub` file using this command:'
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用此命令确保`crashkernel=auto`出现在`/etc/sysconfig/grub`文件中的`GRUB_CMDLINE_LINUX`变量声明中：
- en: '[PRE45]'
  id: totrans-178
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE45]'
- en: 'Start `kdump` by running the following:'
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过执行以下命令启动`kdump`：
- en: '[PRE46]'
  id: totrans-180
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE46]'
- en: 'Now, enable `kdump` to start at boot, as follows:'
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，启用`kdump`在启动时自动启动，如下所示：
- en: '[PRE47]'
  id: totrans-182
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'Configure SysRq to accept all commands via the following commands:'
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过以下命令配置 SysRq 接受所有命令：
- en: '[PRE48]'
  id: totrans-184
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE48]'
- en: 'Regenerate your **intramfs** (**initial RAM file system**) to contain the necessary
    information for kdump by executing the following command:'
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过执行以下命令，重新生成您的**intramfs**（**初始 RAM 文件系统**），以包含 kdump 所需的信息：
- en: '[PRE49]'
  id: totrans-186
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE49]'
- en: 'Finally, reboot through the following command:'
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，通过以下命令重启：
- en: '[PRE50]'
  id: totrans-188
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE50]'
- en: Using kdump tools to analyze the dump
  id: totrans-189
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用 kdump 工具分析转储
- en: 'Although you''ll find most of the information you''re looking for in the `vmcode-dmesg.txt`
    file, it can be useful sometimes to look into the bits and bytes of the `vmcore`
    dump, even if it is just to know what the people at Red Hat do when they ask you
    to send you a `vmcore` dump. Perform the following steps:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管您可以在`vmcore-dmesg.txt`文件中找到大部分所需的信息，有时查看`vmcore`转储中的位和字节也是有用的，即使这只是为了了解 Red
    Hat 的技术人员在让您发送`vmcore`转储时会做什么。执行以下步骤：
- en: 'Install the necessary tools to debug the `vmcore` dump via the following command:'
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过以下命令安装调试`vmcore`转储所需的工具：
- en: '[PRE51]'
  id: totrans-192
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE51]'
- en: 'Locate your `vmcore` by executing the following:'
  id: totrans-193
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过执行以下命令找到您的`vmcore`：
- en: '[PRE52]'
  id: totrans-194
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE52]'
- en: Note
  id: totrans-195
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: 'If you don''t have a core dump, you can trigger this yourself by executing
    the following:'
  id: totrans-196
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果您没有核心转储，可以通过执行以下命令手动触发：
- en: '[PRE53]'
  id: totrans-197
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE53]'
- en: 'Use `crash` to analyze the contents, as follows:'
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`crash`分析内容，如下所示：
- en: '[PRE54]'
  id: totrans-199
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE54]'
- en: 'Here, `<kernel>` must be the same kernel as the one that the dump was created
    for:'
  id: totrans-200
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这里，`<kernel>`必须与创建转储时使用的内核相同：
- en: '![Using kdump tools to analyze the dump](img/00063.jpeg)'
  id: totrans-201
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![使用 kdump 工具分析转储](img/00063.jpeg)'
- en: 'Display the kernel message buffer (this can also be found in the `vmcore-dmesg.txt`
    dump file) by running the following command:'
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过执行以下命令显示内核消息缓冲区（这也可以在`vmcore-dmesg.txt`转储文件中找到）：
- en: '[PRE55]'
  id: totrans-203
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE55]'
- en: 'Here''s what the output should look like:'
  id: totrans-204
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出应该是这样的：
- en: '![Using kdump tools to analyze the dump](img/00064.jpeg)'
  id: totrans-205
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![使用 kdump 工具分析转储](img/00064.jpeg)'
- en: 'Display the kernel stack trace through the following:'
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过以下命令显示内核堆栈跟踪：
- en: '[PRE56]'
  id: totrans-207
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE56]'
- en: 'Here''s what the output should look like:'
  id: totrans-208
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出应该是这样的：
- en: '![Using kdump tools to analyze the dump](img/00065.jpeg)'
  id: totrans-209
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![使用 kdump 工具分析转储](img/00065.jpeg)'
- en: 'Now, show the processes at the time of the core dump, as follows:'
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，展示核心转储时的进程，如下所示：
- en: '[PRE57]'
  id: totrans-211
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE57]'
- en: 'Here''s what the output should look like:'
  id: totrans-212
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出应该是这样的：
- en: '![Using kdump tools to analyze the dump](img/00066.jpeg)'
  id: totrans-213
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![使用 kdump 工具分析转储](img/00066.jpeg)'
- en: There's more…
  id: totrans-214
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多内容……
- en: The default kdump configuration uses `/var/crash` to dump its memory on. This
    MUST be on the root filesystem. Some systems are configured with a separate filesystem
    for `/var`, so you need to change the location in `/etc/kdump.conf` or use a different
    target type, such as `raw`, `nfs`, and so on. If your crash directory is located
    on a nonroot filesystem, the kdump service will fail!
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 默认的 kdump 配置使用`/var/crash`来转储内存。此路径必须位于根文件系统上。一些系统配置了单独的文件系统用于`/var`，因此您需要在`/etc/kdump.conf`中更改位置，或使用其他目标类型，如`raw`、`nfs`等。如果您的崩溃目录位于非根文件系统上，kdump
    服务将失败！
- en: Although the crash utility can provide a lot of details about the crash, usually
    you're set with the contents of the `vmcore-dmesg.txt` file, which resides in
    the same directory as the `vmcore` file. So, I suggest that you parse this file
    before digging into the bits and bytes of the memory dump.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然 crash 工具可以提供有关崩溃的很多详细信息，但通常您只需要查看位于与`vmcore`文件相同目录中的`vmcore-dmesg.txt`文件的内容。因此，我建议您在深入分析内存转储的细节之前，先解析这个文件。
- en: SysRq, as stated before, allows you to control your system even if it is in
    a state that doesn't allow you to do anything at all. However, it does require
    you to have access to the system's console.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，SysRq 允许您在系统处于无法执行任何操作的状态下，依然能够控制系统。然而，它需要您可以访问系统的控制台。
- en: By default, kdump creates a dump and reboots your system. In the event that
    this doesn't happen and you don't want to push the power button on your (virtual)
    system, SysRq allows you to send commands through the console to your kernel.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，kdump会创建一个转储并重启系统。如果这没有发生，并且你不想按下（虚拟）系统上的电源按钮，SysRq允许你通过控制台向内核发送命令。
- en: 'The key combination needed to send the information differs a little from architecture
    to architecture. Take a look at the following table for reference:'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 发送信息所需的按键组合在不同架构间略有不同。请参考下表：
- en: '| Architecture | Key combination |'
  id: totrans-220
  prefs: []
  type: TYPE_TB
  zh: '| 架构 | 按键组合 |'
- en: '| --- | --- |'
  id: totrans-221
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| x86 | `<Alt><SysRq><command key>` |'
  id: totrans-222
  prefs: []
  type: TYPE_TB
  zh: '| x86 | `<Alt><SysRq><command key>` |'
- en: '| Sparc | `<Alt><Stop><command key>` |'
  id: totrans-223
  prefs: []
  type: TYPE_TB
  zh: '| Sparc | `<Alt><Stop><command key>` |'
- en: '| Serial console (PC style only) | This sends a `BREAK` and, within 5 seconds,
    the command key.Sending `BREAK` twice is interpreted as a normal `BREAK`. |'
  id: totrans-224
  prefs: []
  type: TYPE_TB
  zh: '| 串口控制台（仅PC风格） | 这会发送`BREAK`，并在5秒内发送命令键。发送两次`BREAK`会被解释为正常的`BREAK`。 |'
- en: '| PowerPC | `<Alt><Print Screen>`(or `<F13>`)`<command key>` |'
  id: totrans-225
  prefs: []
  type: TYPE_TB
  zh: '| PowerPC | `<Alt><Print Screen>`（或`<F13>`）`<command key>` |'
- en: 'So, on an x86 system, you would attempt to sync your disks before rebooting
    it by executing the following commands:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，在x86系统上，你可以通过执行以下命令尝试在重启系统之前同步磁盘：
- en: '[PRE58]'
  id: totrans-227
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: 'Alternatively, if you still have access to your terminal, you can do the same
    by sending characters to `/proc/sysrq-trigger`, as follows:'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，如果你仍然可以访问终端，可以通过将字符发送到`/proc/sysrq-trigger`来执行相同操作，如下所示：
- en: '[PRE59]'
  id: totrans-229
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: 'The following key commands are available:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是可用的按键命令：
- en: '| Command key | Function |'
  id: totrans-231
  prefs: []
  type: TYPE_TB
  zh: '| 命令键 | 功能 |'
- en: '| --- | --- |'
  id: totrans-232
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `b` | This immediately reboots your system. It does not sync or unmount disks.
    This can result in data corruption! |'
  id: totrans-233
  prefs: []
  type: TYPE_TB
  zh: '| `b` | 这会立即重启你的系统。它不会同步或卸载磁盘，这可能导致数据损坏！ |'
- en: '| `c` | This performs a system crash by a `NULL` pointer dereference. A crashdump
    is taken if kdump is configured. |'
  id: totrans-234
  prefs: []
  type: TYPE_TB
  zh: '| `c` | 这会通过`NULL`指针解引用执行系统崩溃。如果配置了kdump，则会生成崩溃转储。 |'
- en: '| `d` | This shows all the locks held. |'
  id: totrans-235
  prefs: []
  type: TYPE_TB
  zh: '| `d` | 这会显示所有持有的锁。 |'
- en: '| `e` | This sends a `SIGTERM` signal to all your processes, except for `init`.
    |'
  id: totrans-236
  prefs: []
  type: TYPE_TB
  zh: '| `e` | 这会向所有进程发送`SIGTERM`信号，`init`进程除外。 |'
- en: '| `f` | This calls `oom_kill` to kill any process hogging the memory. |'
  id: totrans-237
  prefs: []
  type: TYPE_TB
  zh: '| `f` | 这会调用`oom_kill`来终止任何占用内存的进程。 |'
- en: '| `g` | This is used by the **kernel debugger** (**kgdb**). |'
  id: totrans-238
  prefs: []
  type: TYPE_TB
  zh: '| `g` | 这由**内核调试器**（**kgdb**）使用。 |'
- en: '| `h` | This shows help. (Memorize this option!) |'
  id: totrans-239
  prefs: []
  type: TYPE_TB
  zh: '| `h` | 这会显示帮助信息。（记住这个选项！） |'
- en: '| `i` | This sends a `SIGKILL` signal to all your processes, except for `init`.
    |'
  id: totrans-240
  prefs: []
  type: TYPE_TB
  zh: '| `i` | 这会向所有进程发送`SIGKILL`信号，`init`进程除外。 |'
- en: '| `j` | This freezes your filesystems with the `FIFREEZE` ioctl. |'
  id: totrans-241
  prefs: []
  type: TYPE_TB
  zh: '| `j` | 这会通过`FIFREEZE` ioctl冻结你的文件系统。 |'
- en: '| `k` | This kills all the programs on the current virtual console.It enables
    a secure login from the console as this kills all malware attempting to grab your
    keyboard input, for example. |'
  id: totrans-242
  prefs: []
  type: TYPE_TB
  zh: '| `k` | 这会终止当前虚拟控制台上的所有程序。它可以通过终止所有试图获取键盘输入的恶意软件，确保安全登录。 |'
- en: '| `l` | This shows a stack trace for all active CPUs. |'
  id: totrans-243
  prefs: []
  type: TYPE_TB
  zh: '| `l` | 这会显示所有活动CPU的堆栈跟踪。 |'
- en: '| `m` | This dumps the current memory info to your console. |'
  id: totrans-244
  prefs: []
  type: TYPE_TB
  zh: '| `m` | 这会将当前内存信息转储到控制台。 |'
- en: '| `n` | You can use this to make real-time tasks niceable. |'
  id: totrans-245
  prefs: []
  type: TYPE_TB
  zh: '| `n` | 你可以用这个命令将实时任务设置为可调度状态。 |'
- en: '| `o` | This shuts down your system and turns it off (if configured and supported).
    |'
  id: totrans-246
  prefs: []
  type: TYPE_TB
  zh: '| `o` | 这会关闭你的系统并将其关机（如果已配置并且受支持）。 |'
- en: '| `p` | This dumps the current registers and flags to your console |'
  id: totrans-247
  prefs: []
  type: TYPE_TB
  zh: '| `p` | 这会将当前寄存器和标志转储到你的控制台。 |'
- en: '| `q` | This will dump a list of all armed `hrtimers` (except for `timer_list`
    timers) per CPU together with detailed information about all clockevent devices.
    |'
  id: totrans-248
  prefs: []
  type: TYPE_TB
  zh: '| `q` | 这会转储每个CPU上所有已激活的`hrtimers`（不包括`timer_list`计时器）的列表，并附带所有时钟事件设备的详细信息。
    |'
- en: '| `r` | This turns off your keyboard''s raw mode and sets it to `XLATE`. |'
  id: totrans-249
  prefs: []
  type: TYPE_TB
  zh: '| `r` | 这会关闭键盘的原始模式并将其设置为`XLATE`。 |'
- en: '| `s` | This attempts to sync all your mounted filesystems, committing unwritten
    data to them. |'
  id: totrans-250
  prefs: []
  type: TYPE_TB
  zh: '| `s` | 这会尝试同步所有已挂载的文件系统，将未写入的数据提交到其中。 |'
- en: '| `t` | This dumps a list of current tasks and their information to your console.
    |'
  id: totrans-251
  prefs: []
  type: TYPE_TB
  zh: '| `t` | 这会将当前任务及其信息转储到控制台。 |'
- en: '| `u` | This attempts to remount all your filesystems as read-only volumes.
    |'
  id: totrans-252
  prefs: []
  type: TYPE_TB
  zh: '| `u` | 这会尝试将所有文件系统重新挂载为只读卷。 |'
- en: '| `v` | This causes the ETM buffer to dump (this is ARM-specific). |'
  id: totrans-253
  prefs: []
  type: TYPE_TB
  zh: '| `v` | 这会导致ETM缓冲区转储（这是ARM特定的）。 |'
- en: '| `w` | This dumps all the tasks that are in an uninterruptable (blocked) state.
    |'
  id: totrans-254
  prefs: []
  type: TYPE_TB
  zh: '| `w` | 这会转储所有处于不可中断（阻塞）状态的任务。 |'
- en: '| `x` | This is used by xmon on ppc/powerpc platforms. This shows the global
    PMU registers on SPARC64. |'
  id: totrans-255
  prefs: []
  type: TYPE_TB
  zh: '| `x` | 这用于 ppc/powerpc 平台上的 xmon。它显示 SPARC64 上的全局 PMU 寄存器。 |'
- en: '| `y` | This shows global CPU registers (this is SPARC64-specific). |'
  id: totrans-256
  prefs: []
  type: TYPE_TB
  zh: '| `y` | 显示全局 CPU 寄存器（这是 SPARC64 特有的）。 |'
- en: '| `z` | This dumps the `ftrace` buffer. |'
  id: totrans-257
  prefs: []
  type: TYPE_TB
  zh: '| `z` | 转储 `ftrace` 缓冲区。 |'
- en: '| `0` - `9` | This sets the console''s log level, controlling which messages
    will be printed. The higher the number, the more the output. |'
  id: totrans-258
  prefs: []
  type: TYPE_TB
  zh: '| `0` - `9` | 设置控制台的日志级别，控制哪些消息会被打印。数字越高，输出越多。 |'
- en: See also…
  id: totrans-259
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另见…
- en: 'For more information about SysRq and systemd, refer to the following page:
    [https://github.com/systemdaemon/systemd/blob/master/src/linux/Documentation/sysrq.txt](https://github.com/systemdaemon/systemd/blob/master/src/linux/Documentation/sysrq.txt)'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 关于 SysRq 和 systemd 的更多信息，请参阅以下页面：[https://github.com/systemdaemon/systemd/blob/master/src/linux/Documentation/sysrq.txt](https://github.com/systemdaemon/systemd/blob/master/src/linux/Documentation/sysrq.txt)
- en: Red Hat has a complete crash dump guide at [https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Kernel_Crash_Dump_Guide/index.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Kernel_Crash_Dump_Guide/index.html).
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: Red Hat 提供了完整的崩溃转储指南，参见 [https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Kernel_Crash_Dump_Guide/index.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Kernel_Crash_Dump_Guide/index.html)。
- en: Using ABRT
  id: totrans-262
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 ABRT
- en: '**ABRT** (**Automatic Bug Reporting Tool**), is a set of tools that help users
    detect and analyze application crashes.'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: '**ABRT**（**自动错误报告工具**）是一套帮助用户检测和分析应用程序崩溃的工具。'
- en: How to do it…
  id: totrans-264
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: First, we'll install the necessary packages and then take a look at how to use
    these tools.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们将安装必要的包，然后了解如何使用这些工具。
- en: Installing and configuring abrtd
  id: totrans-266
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 安装和配置 abrtd
- en: 'Let''s install `abrt` and get it running:'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们安装 `abrt` 并让它运行起来：
- en: 'Install the `abrt` daemon and tools via the following command line:'
  id: totrans-268
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过以下命令行安装 `abrt` 守护进程和工具：
- en: '[PRE60]'
  id: totrans-269
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE60]'
- en: 'Now, enable and start the `abrt` daemon through these commands:'
  id: totrans-270
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，通过以下命令启用并启动 `abrt` 守护进程：
- en: '[PRE61]'
  id: totrans-271
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE61]'
- en: Using abrt-cli
  id: totrans-272
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用 abrt-cli
- en: 'List all detected segmentation faults by executing the following command:'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下命令列出所有检测到的分段错误：
- en: '[PRE62]'
  id: totrans-274
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: 'Here''s what the output should look like:'
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是输出应呈现的样式：
- en: '![Using abrt-cli](img/00067.jpeg)'
  id: totrans-276
  prefs: []
  type: TYPE_IMG
  zh: '![使用 abrt-cli](img/00067.jpeg)'
- en: The displayed location contains all the information about the segmentation fault.
    You can use this to analyze what went wrong, and if you need help from Red Hat,
    you can use `abrt-cli report` to report to Red Hat Support.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 显示的位置信息包含有关分段错误的所有信息。你可以使用这些信息分析出错原因，如果需要 Red Hat 的帮助，可以使用 `abrt-cli report`
    向 Red Hat 支持团队报告。
- en: There's more…
  id: totrans-278
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多内容…
- en: When your RHEL 7 system is registered with a satellite, all bugs will automatically
    be reported to the satellite system.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 当你的 RHEL 7 系统注册到卫星时，所有错误将自动报告到卫星系统。
- en: 'You can install additional plugins to automatically report bugs in the following
    ways:'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以安装额外的插件，以自动报告以下方式的错误：
- en: to Bugzilla (`libreport-plugin-bugzilla`)
  id: totrans-281
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 到 Bugzilla (`libreport-plugin-bugzilla`)
- en: via ftp upload (`libreport-plugin-reportuploader`)
  id: totrans-282
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过 FTP 上传 (`libreport-plugin-reportuploader`)
- en: to Red Hat Support (`libreport-plugin-rhtsupport`)
  id: totrans-283
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 到 Red Hat 支持（`libreport-plugin-rhtsupport`）
- en: to an `abrt` server (`libreport-plugin-ureport`)
  id: totrans-284
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 到一个 `abrt` 服务器（`libreport-plugin-ureport`）
- en: Besides the basic bug reporting, you can also create automatic bug reports for
    Java by installing the `abrt-java-connector` package.
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 除了基本的错误报告外，你还可以通过安装 `abrt-java-connector` 包为 Java 创建自动错误报告。
- en: See also
  id: totrans-286
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另见
- en: For more information on how to use the abrt tool, refer to [https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/System_Administrators_Guide/ch-abrt.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/System_Administrators_Guide/ch-abrt.html).
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 关于如何使用 abrt 工具的更多信息，请参阅 [https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/System_Administrators_Guide/ch-abrt.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/System_Administrators_Guide/ch-abrt.html)。
- en: Auditing the system
  id: totrans-288
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 审计系统
- en: The Linux audit system allows you to track security-related information about
    your systems. It allows you to watch security events, filesystem access, network
    access, commands run by users, and system calls.
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: Linux 审计系统允许你跟踪系统的安全相关信息。它允许你监控安全事件、文件系统访问、网络访问、用户执行的命令和系统调用。
- en: How to do it…
  id: totrans-290
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: By default, audit is installed as part of the core packages. So, there's no
    need to install this.
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，审计功能作为核心包的一部分安装。因此，无需单独安装。
- en: Configuring a centralized syslog server to accept audit logs
  id: totrans-292
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 配置一个集中式 syslog 服务器以接收审计日志
- en: 'Perform these steps to set up the `syslog` server:'
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤以设置`syslog`服务器：
- en: 'On the `syslog` server, create a `/etc/rsyslog.d/audit_server.conf` file containing
    the following:'
  id: totrans-294
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`syslog`服务器上，创建一个`/etc/rsyslog.d/audit_server.conf`文件，内容如下：
- en: '[PRE63]'
  id: totrans-295
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE63]'
- en: 'On the `syslog` server, restart `rsyslog`, as follows:'
  id: totrans-296
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`syslog`服务器上，重新启动`rsyslog`，如下所示：
- en: '[PRE64]'
  id: totrans-297
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE64]'
- en: 'On the client, create a `/etc/rsyslog.d/audit_client.conf` file containing
    the following:'
  id: totrans-298
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在客户端上，创建一个`/etc/rsyslog.d/audit_client.conf`文件，内容如下：
- en: '[PRE65]'
  id: totrans-299
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE65]'
- en: 'Next, on the client, restart `rsyslog`, as follows:'
  id: totrans-300
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在客户端上，重新启动`rsyslog`，如下所示：
- en: '[PRE66]'
  id: totrans-301
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE66]'
- en: Some audit rules
  id: totrans-302
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 一些审计规则
- en: 'You can use the following command to log activity on `/etc/resolv.conf`:'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用以下命令记录`/etc/resolv.conf`上的活动：
- en: '[PRE67]'
  id: totrans-304
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: 'You can execute the following commands to log all the commands executed by
    root:'
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以执行以下命令，记录root执行的所有命令：
- en: '[PRE68]'
  id: totrans-306
  prefs: []
  type: TYPE_PRE
  zh: '[PRE68]'
- en: Showing audit logs for the preceding rules
  id: totrans-307
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 显示前述规则的审计日志
- en: 'You can search for the audit events that have changed `/etc/resolv.conf` using
    the preceding rule by executing the following command:'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过执行以下命令，搜索使用前述规则更改`/etc/resolv.conf`的审计事件：
- en: '[PRE69]'
  id: totrans-309
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: 'Here''s what the output should look like:'
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是输出的示例：
- en: '![Showing audit logs for the preceding rules](img/00068.jpeg)'
  id: totrans-311
  prefs: []
  type: TYPE_IMG
  zh: '![显示前述规则的审计日志](img/00068.jpeg)'
- en: 'To check all the commands executed by root today, you can run the following:'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 若要检查今天由root执行的所有命令，可以运行以下命令：
- en: '[PRE70]'
  id: totrans-313
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: 'Here''s what the output should look like:'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是输出的示例：
- en: '![Showing audit logs for the preceding rules](img/00069.jpeg)'
  id: totrans-315
  prefs: []
  type: TYPE_IMG
  zh: '![显示前述规则的审计日志](img/00069.jpeg)'
- en: See also
  id: totrans-316
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另见
- en: For more in-depth information about audit, refer to [https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Security_Guide/chap-system_auditing.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Security_Guide/chap-system_auditing.html).
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: 如需了解更多关于审计的深入信息，请参考[https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Security_Guide/chap-system_auditing.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Security_Guide/chap-system_auditing.html)。
