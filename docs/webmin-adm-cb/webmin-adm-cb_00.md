# 前言

欢迎阅读 *Webmin 管理员食谱*。本书提供了超过一百个实用的解决方案，帮助你通过便捷的 Webmin 工具解决现实世界中的系统管理任务。

过去，运行一台联网的私人服务器通常是昂贵的，并且主要面向那些雇佣了专业系统管理员或外包了管理工作的较大公司。得益于虚拟化软件的广泛采用，高效的私人服务器现在已经能够为任何具备相应技能的人所用。无论你是开发人员，想要优化你的 Web 应用程序性能，还是初创公司，计划为你的系统实施新的软件架构，你都很可能需要配置和运行自己的服务器。

没有什么比拥有合适的工具更有价值，而 Webmin 是你工具箱中的一项出色补充。它可以帮助你快速启动和运行服务器，监控服务器状态，并在服务器需要你关注时通过电子邮件通知你。Webmin 通过抽象系统命令和配置文件语法的复杂性，取而代之的是一个友好的图形化 Web 界面，从而简化了许多系统管理任务。

Webmin 作为一款图形化应用程序，其轻量级特性得益于它不需要在系统上运行桌面环境。你也不需要复杂的桌面共享解决方案来使用它。由于它是一个 Web 应用程序，你只需要一个浏览器就可以充分利用 Webmin。其 Web 特性还使得 Webmin 对缓慢或不稳定的互联网连接具有更好的适应性。总体来说，它是一个非常适合远程管理服务器的工具。

以下是 Webmin 可以做的一些功能：

+   在你的系统上安装软件

+   管理用户

+   配置防火墙

+   执行命令并设置定时执行命令

+   监控和分析系统日志并发送警报

+   管理文件、文件夹和权限

+   配置网络磁盘共享

+   执行自动备份

+   配置 Apache 的虚拟网站服务器

+   使用 MySQL 或 PostgreSQL 管理数据库

+   设置 Web 应用程序

+   配置电子邮件服务器

在本书中，我们将讨论前面列表中的所有主题。我们将介绍从全新安装到完整的 Web 应用服务器的服务器设置过程，涵盖 Apache、数据库管理系统和电子邮件软件的运行。我们将讲解如何设置使用多种脚本语言编写的 Web 应用程序。还会介绍如何设置 Webmin 来监控你的系统并提醒你潜在的系统问题。

# 本书内容概览

第一章, *设置您的系统*，涵盖了让 Webmin 启动并运行的第一步。在本章中，我们将讨论如何设置 Webmin 本身，如何监控其操作以及如何撤消通过 Webmin 进行的更改。本章还涵盖了在系统上安装其他软件的过程，选择哪些软件在启动时启动以及如何检查安装软件包在系统上的作用。

第二章, *用户管理*，涵盖了与您系统用户相关的主题。本章讨论了添加和编辑系统用户或组，允许这些用户访问 Webmin。我们还将演示如何使用 Webmin 从一个服务器导出所有用户列表，并将其帐户导入另一系统。本章最后介绍了 Usermin，Webmin 的用户界面伴侣。

第三章, *保护您的系统*，涉及基本的系统安全，包括使用防火墙锁定系统以及通过加密隧道连接系统服务。在将服务器放入互联网之前，我们将逐一检查您应该采取的安全预防措施。

第四章, *控制您的系统*，展示了如何使用 Webmin 通过 Web 浏览器远程执行系统上的命令。在本章中，我们还将讨论如何设置 cron 作业以定期执行命令，延迟命令执行至选择的时间，并设置一个 Web 面板，便于偶尔需要运行的任务访问。

第五章, *监控您的系统*，讨论了如何使用 Webmin 监视您的系统甚至其他服务器。我们将演示如何设置 Webmin 以处理当您的计算机上的服务崩溃时的情况 —— 它可以向您发送电子邮件提醒或尝试自动重启服务。在本章中，我们还将讨论如何通过日志文件分析系统状态以及配置日志轮换例程。

第六章, *管理您系统上的文件*，涵盖了通过 Webmin 进行远程文件管理的相关主题。在本章中，我们还将讨论如何将您的系统设置为文件共享服务器（CIFS、NFS、SFTP 和 FTP），并演示如何使用 Webmin 将您的系统连接到远程文件共享（CIFS 和 NFS）。

第七章, *备份您的系统*，涉及对重要文件和数据库进行备份以供安全保管。我们将演示如何使用 Webmin 自动化此过程，并按计划运行，并进行异地备份。

第八章，*运行 Apache Web 服务器*，介绍了与管理 Web 服务器相关的主题。我们将设置和配置 Apache；创建虚拟服务器、受密码保护的网站、HTTPS 网站；并检查传入的流量和错误日志。

第九章，*运行 MySQL 数据库服务器*，以及 第十章，*运行 PostgreSQL 数据库服务器*，涵盖了设置和运行数据库服务器相关的任务。我们将演示如何使用 Webmin 创建和编辑数据库、备份它们并管理数据库用户。我们还将展示如何通过加密隧道安全地连接到数据库，以及如何安装基于 Web 的数据库管理工具。

第十一章，*运行 Web 应用程序*，展示了如何将所有组件组合在一起以运行 Web 应用程序。我们将演示如何设置系统来运行用任何脚本语言编写的 Web 应用程序，但我们将主要关注 PHP 和 Python。我们将提供安装流行应用程序（如 WordPress、Drupal 和 Django）的方法。

第十二章，*设置电子邮件服务器*，涵盖了与电子邮件相关的主题。我们将演示如何将系统设置为电子邮件服务器，用于处理收发邮件。我们还将讨论如何处理垃圾邮件。

# 本书所需的内容

本书中将涉及系统管理，意味着你需要一个系统来进行管理。如果你租用一个**虚拟专用服务器**（**VPS**）并使用全新安装的 Linux（最好是 Debian 或 CentOS）进行设置，你将从本书中获得最大收益。如今 VPS 服务器非常便宜，价格从每月 5 美元起。如果你更喜欢在本地进行实验，可以在免费的 VirtualBox 平台中设置虚拟机。你还应该配置一个终端仿真器或 SSH 客户端，通过它可以访问服务器来执行命令和编辑文件。

本书中提供的所有指令都适用于 Linux，因此，如果你使用的是 Linux 操作系统，你将能够从本书中获得最大收益。建议使用基于 Debian 或 RedHat 的发行版，但 Webmin 支持的其他 Linux 版本也应该可以使用。许多这些方法同样适用于其他类 Unix 系统（如基于 BSD 的 FreeBSD 或 OS X），但 Webmin 对这些平台的支持在某些方面可能有限。Webmin 支持的操作系统完整列表可以在线查阅：

[`www.webmin.com/support.html`](http://www.webmin.com/support.html)

### 提示

**具有管理员权限的超级用户**

为了执行本书中描述的大多数任务，你需要在系统上具有管理员权限。

在类 Unix 操作系统（如 Linux）上，主要的系统管理员通常被称为**root**。在某些系统上，你可以以超级用户身份登录。如果可以这样做，你可以在系统上做任何事情，这使得潜在的错误变得更加危险。其他一些系统（如 Ubuntu）不允许以 root 身份登录，因此你需要以具有超级用户（**sudo**）权限的普通用户身份登录。

具有超级用户权限的用户和组定义在`/etc/sudoers`文件中。在本书中，我们将通过在命令前加上`sudo`命令来标记需要管理员权限的命令，例如：

```
$ sudo apt-get install webmin

```

请注意，如果你已经以 root 身份登录，就不需要使用这个额外的命令，但保持以普通用户身份登录是一种良好的做法。

如果你无法在系统上找到`/etc/sudoers`文件，你需要以 root 身份登录并安装`sudo`包。

请记住，Webmin 在你的系统上以 root 身份运行，这意味着它有可能会破坏系统。书中的解决方案已进行测试，但每个系统都有不同，无法保证它们总是按预期工作。在将这些解决方案应用到生产系统之前，应该先在备用机器上进行测试。在更改生产系统配置之前，请确保你了解自己正在做什么。

# 本书适合人群

本书适合那些决定管理 Linux 系统，并希望学习 Webmin 如何帮助简化管理任务的人。假设你已经有一定的 Linux 使用经验，但不必完全了解其中的细节。如果你是初学者，本书是一个很好的入门指南；如果你是专业人员，本书将重点介绍 Webmin 如何简化你的工作。

在使用 Webmin 时，你可能会遇到一些与操作系统特定版本不兼容的情况。你应当通过 GitHub 向 Webmin 的作者报告此类问题。确保提供 Webmin 的确切版本号、操作系统及其他软件的版本号，并附上重现问题的详细步骤。Webmin 的 GitHub 问题跟踪器可以在以下网址找到：[`github.com/webmin/webmin/issues`](https://github.com/webmin/webmin/issues)

# 约定

本书中，你将会看到几种不同的文本样式，用于区分不同类型的信息。以下是这些样式的示例，并解释它们的含义。

文本中的代码词、数据库表名、文件夹名称、文件名、文件扩展名、路径名、虚拟 URL 以及用户输入都将按如下方式显示：“上述账户和权限将允许`dbuser`连接到并完全控制`testdb`数据库。”

代码块设置如下：

```
create:groupname:passwd:gid:member,member,...
```

当我们希望引起你注意某个代码块的特定部分时，相关行或项目会以粗体显示：

```
create:username:passwd:uid:gid:realname:homedir:shell:min:max:warn:inactive:expire
modify:oldusername:newusername:passwd:uid:gid:realname:homedir:shell:min:max:warn:inactive:expire
delete:username
```

任何命令行输入或输出将按如下方式书写：

```
$ perl -le'@chars=(a..z,A..Z,0..9,_);$p.=$chars[rand(@chars)] while($i++<22);print $p'

```

**新术语**和**重要词汇**以粗体显示。您在屏幕上看到的文字，例如菜单或对话框中的内容，出现在文本中如下：“点击**创建**按钮以创建账户”。

### 注意

警告或重要说明以框的形式出现。

### 提示

提示和技巧会以这样的方式出现。

# 读者反馈

我们始终欢迎读者的反馈。告诉我们您对本书的看法——您喜欢的部分或可能不喜欢的部分。读者反馈对我们开发让您真正受益的书籍至关重要。

若要向我们提供一般反馈，请发送电子邮件至`<feedback@packtpub.com>`，并通过邮件主题提及书名。

如果您在某个领域有专业知识，并且有兴趣撰写或参与书籍创作，请查看我们在[www.packtpub.com/authors](http://www.packtpub.com/authors)上的作者指南。

# 客户支持

现在，既然您已经成为 Packt 书籍的骄傲拥有者，我们提供了许多帮助您充分利用购买的内容。

## 勘误表

虽然我们已经尽最大努力确保内容的准确性，但错误难免发生。如果您在我们的书籍中发现错误——可能是文本或代码错误——我们将非常感激您向我们报告。通过这样做，您可以避免其他读者的困扰，并帮助我们改进后续版本。如果您发现任何勘误表，请通过访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**勘误表** **提交** **表单**链接，并输入勘误的详细信息。一旦您的勘误被验证，您的提交将被接受，勘误将上传至我们的网站，或添加到该书勘误表的现有列表中。任何现有的勘误表可以通过选择您的书名从[`www.packtpub.com/support`](http://www.packtpub.com/support)查看。

## 盗版

互联网上的版权侵权问题在所有媒体中一直存在。我们在 Packt 非常重视版权和许可的保护。如果您在互联网上发现我们作品的任何非法复制品，请立即提供该位置地址或网站名称，以便我们采取措施。

请通过`<copyright@packtpub.com>`与我们联系，并提供涉嫌盗版材料的链接。

我们感谢您帮助我们保护作者的权益，以及让我们能够为您提供有价值的内容。

## 问题

如果您在书籍的任何方面遇到问题，可以通过`<questions@packtpub.com>`与我们联系，我们将尽力解决。
