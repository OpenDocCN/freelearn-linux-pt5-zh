# 前言

如果我不得不猜测，我会说你之所以读到这些内容，是因为你像我一样，花了不少时间在处理 Unix 系统上。不管是因为你的工作需要，还是因为你喜欢探索操作系统的内部，shell 无疑是你处理大多数活动的方式。

历史上，shell 的设计初衷是加速我们的工作，但我们都知道，在某个阶段，原本应该是更精简的工作方式，却变成了充满神秘符号和令人难以记住的冗长代码的拉锯战。

那么，如果我们能从系统中挤出更多的功能，不是会很棒吗？想象一下，你目前正在做的事情，能够以一种更高效、更优雅的方式来完成，甚至是那些你认为只有经历了数百年经验的 Linux 高手才能做到的“魔法”。

如果我告诉你，像了解某个程序可以使用哪些选项标志这样的功能，现在不再需要你扫描无尽的 man 页面，你会怎么想？想象一下，不再需要面对无尽横向字符行的困扰。而且，如果你只需要看一下命令提示符，就能知道你当前所在的目录，那该有多好？现在，想象一下，所有这一切只需要你切换到一个新的 shell 就能开始。

# 本书内容概览

第一章，*入门*，从头开始，解释如何安装和设置 zsh。了解启动文件和定制 shell 提示符。

第二章，*别名与历史*，解释了别名是如何工作的，如何在启动文件中定义别名，并教你如何处理 shell 的历史日志。

第三章，*高级编辑*，介绍了 zsh 的行编辑器以及如何使用命令行上的各种快捷键和键绑定。

第四章，*通配符*，介绍了通过应用参数替换和修饰符来处理各种任务，从而以新的方式操作系统的文件和目录。

第五章，*补全*，向你介绍了 zsh 的一大特色，并展示了如何通过定义自己的样式和函数来调整“全新”的补全系统。

第六章，*技巧与窍门*，解释了各种杂项设置和配置选项，绝对值得尝试，还介绍了一些值得关注的社区项目。

# 本书所需内容

在开始之前，你应该熟悉如何使用终端仿真器。大多数操作系统都会将这类软件打包在其标准应用程序集中，但像任何其他应用程序一样，市场上还有很多替代软件等待你去发现。这些替代软件可能更适合手头的任务，所以在开始这本书之前，请确保了解你选择工具的优缺点及其怪癖。

要跟随本书中的内容并查看提供的示例，还需要使用 Git 源代码管理系统。你可以通过访问[`git-scm.com`](http://git-scm.com)并按照提供的说明轻松获取并安装它，它是使用书中提到的各种软件项目和源代码时不可或缺的工具。

# 本书适合谁阅读

本书非常适合系统管理员、开发人员以及其他从事 Unix 工作的计算机专业人员，他们希望改进与 Unix shell 相关的日常任务。假设你对 Unix 命令行界面有一定了解，并且能熟练使用像 Emacs 或 vi 这样的编辑器。使用 Web 浏览器来阅读一些在线文档是可选的。

# 约定

在本书中，你会看到多种文本样式，用来区分不同种类的信息。以下是这些样式的示例，并解释它们的含义。

文本中的代码词汇如下所示：“此别名通过每次输入时加上`color`标志来改变`ls`的行为，而不是使用其更原始的版本。”

一段代码块的设置如下：

```
zstyle ':completion:*:descriptions' format '%B%d%b'
zstyle ':completion:*:messages' format %d
zstyle ':completion:*:warnings' format 'No matches for: %d'
```

当我们希望引起你对代码块中特定部分的注意时，相关的行或项目会以粗体显示：

```
autoload -Uz compinit
compinit

```

任何命令行输入或输出都按如下方式书写：

```
$ zsh --version
zsh 5.0.2 (x86_64-apple-darwin12.3.0)

```

**新术语**和**重要词汇**以粗体显示。你在屏幕上看到的词汇，例如在菜单或对话框中的词汇，会以这样的形式出现在文本中：“如果你的操作系统向你显示一个礼貌的**zsh not found**消息，那没关系；否则，你不会读到这些内容。”

### 注意

警告或重要提示会显示在像这样的框中。

### 提示

提示和技巧会以这样的形式出现。

# 读者反馈

我们始终欢迎读者的反馈。让我们知道你对本书的看法——你喜欢什么，或者不喜欢什么。读者反馈对我们开发能让你充分受益的书籍至关重要。

要向我们发送一般反馈，只需发送电子邮件至`<feedback@packtpub.com>`，并通过邮件主题提到书名。

如果你在某个领域有专业知识，并且有兴趣撰写或参与编写书籍，请查看我们的作者指南，网址是[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在，您已经成为 Packt 书籍的骄傲拥有者，我们有许多方法帮助您从购买中获得最大收益。

## 下载示例代码

您可以从您的账户中下载所有已购买 Packt 书籍的示例代码文件，网址为 [`www.packtpub.com`](http://www.packtpub.com)。如果您是在其他地方购买的此书，可以访问 [`www.packtpub.com/support`](http://www.packtpub.com/support)，注册后我们会直接将文件通过电子邮件发送给您。

## 勘误

尽管我们已尽最大努力确保内容的准确性，但难免会出现错误。如果您在我们的书中发现错误——可能是文本或代码中的错误——我们将非常感激您向我们报告。通过这样做，您可以帮助其他读者避免困惑，并帮助我们改进该书的后续版本。如果您发现任何勘误，请通过访问 [`www.packtpub.com/support`](http://www.packtpub.com/support) 报告，选择您的书籍，点击 **勘误提交表单** 链接，输入错误的详细信息。一旦您的勘误经过验证，您的提交将被接受，勘误将被上传到我们的网站，或添加到该书名下现有勘误的列表中。

## 盗版

网络上对版权材料的盗版问题是一个跨所有媒体的持续性问题。在 Packt，我们非常重视版权和许可证的保护。如果您在互联网上发现我们的作品的任何非法复制品（无论以何种形式），请立即向我们提供位置地址或网站名称，以便我们采取相应的措施。

请通过 `<copyright@packtpub.com>` 与我们联系，并附上涉嫌盗版材料的链接。

我们感谢您帮助保护我们的作者，并支持我们为您提供有价值的内容。

## 问题

如果您在使用本书的任何方面遇到问题，可以通过 `<questions@packtpub.com>` 与我们联系，我们会尽力解决问题。
